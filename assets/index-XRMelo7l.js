(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function r1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Xf={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function a1(){if(Uy)return Yl;Uy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Yl.Fragment=e,Yl.jsx=i,Yl.jsxs=i,Yl}var Py;function s1(){return Py||(Py=1,Xf.exports=a1()),Xf.exports}var rt=s1(),$f={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function l1(){if(Ly)return bt;Ly=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,G={};function j(I,W,lt){this.props=I,this.context=W,this.refs=G,this.updater=lt||M}j.prototype.isReactComponent={},j.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},j.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function $(){}$.prototype=j.prototype;function et(I,W,lt){this.props=I,this.context=W,this.refs=G,this.updater=lt||M}var nt=et.prototype=new $;nt.constructor=et,z(nt,j.prototype),nt.isPureReactComponent=!0;var mt=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},Rt=Object.prototype.hasOwnProperty;function O(I,W,lt,it,pt,Ct){return lt=Ct.ref,{$$typeof:r,type:I,key:W,ref:lt!==void 0?lt:null,props:Ct}}function R(I,W){return O(I.type,W,void 0,void 0,void 0,I.props)}function C(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function V(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return W[lt]})}var x=/\/+/g;function P(I,W){return typeof I=="object"&&I!==null&&I.key!=null?V(""+I.key):W.toString(36)}function D(){}function Ue(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(D,D):(I.status="pending",I.then(function(W){I.status==="pending"&&(I.status="fulfilled",I.value=W)},function(W){I.status==="pending"&&(I.status="rejected",I.reason=W)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function se(I,W,lt,it,pt){var Ct=typeof I;(Ct==="undefined"||Ct==="boolean")&&(I=null);var Tt=!1;if(I===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(I.$$typeof){case r:case e:Tt=!0;break;case E:return Tt=I._init,se(Tt(I._payload),W,lt,it,pt)}}if(Tt)return pt=pt(I),Tt=it===""?"."+P(I,0):it,mt(pt)?(lt="",Tt!=null&&(lt=Tt.replace(x,"$&/")+"/"),se(pt,W,lt,"",function(Ln){return Ln})):pt!=null&&(C(pt)&&(pt=R(pt,lt+(pt.key==null||I&&I.key===pt.key?"":(""+pt.key).replace(x,"$&/")+"/")+Tt)),W.push(pt)),1;Tt=0;var Ce=it===""?".":it+":";if(mt(I))for(var Zt=0;Zt<I.length;Zt++)it=I[Zt],Ct=Ce+P(it,Zt),Tt+=se(it,W,lt,Ct,pt);else if(Zt=S(I),typeof Zt=="function")for(I=Zt.call(I),Zt=0;!(it=I.next()).done;)it=it.value,Ct=Ce+P(it,Zt++),Tt+=se(it,W,lt,Ct,pt);else if(Ct==="object"){if(typeof I.then=="function")return se(Ue(I),W,lt,it,pt);throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function Y(I,W,lt){if(I==null)return I;var it=[],pt=0;return se(I,it,"","",function(Ct){return W.call(lt,Ct,pt++)}),it}function st(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var dt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function zt(){}return bt.Children={map:Y,forEach:function(I,W,lt){Y(I,function(){W.apply(this,arguments)},lt)},count:function(I){var W=0;return Y(I,function(){W++}),W},toArray:function(I){return Y(I,function(W){return W})||[]},only:function(I){if(!C(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},bt.Component=j,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=et,bt.StrictMode=s,bt.Suspense=g,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,bt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return ct.H.useMemoCache(I)}},bt.cache=function(I){return function(){return I.apply(null,arguments)}},bt.cloneElement=function(I,W,lt){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=z({},I.props),pt=I.key,Ct=void 0;if(W!=null)for(Tt in W.ref!==void 0&&(Ct=void 0),W.key!==void 0&&(pt=""+W.key),W)!Rt.call(W,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&W.ref===void 0||(it[Tt]=W[Tt]);var Tt=arguments.length-2;if(Tt===1)it.children=lt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];it.children=Ce}return O(I.type,pt,void 0,void 0,Ct,it)},bt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},bt.createElement=function(I,W,lt){var it,pt={},Ct=null;if(W!=null)for(it in W.key!==void 0&&(Ct=""+W.key),W)Rt.call(W,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(pt[it]=W[it]);var Tt=arguments.length-2;if(Tt===1)pt.children=lt;else if(1<Tt){for(var Ce=Array(Tt),Zt=0;Zt<Tt;Zt++)Ce[Zt]=arguments[Zt+2];pt.children=Ce}if(I&&I.defaultProps)for(it in Tt=I.defaultProps,Tt)pt[it]===void 0&&(pt[it]=Tt[it]);return O(I,Ct,void 0,void 0,null,pt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(I){return{$$typeof:p,render:I}},bt.isValidElement=C,bt.lazy=function(I){return{$$typeof:E,_payload:{_status:-1,_result:I},_init:st}},bt.memo=function(I,W){return{$$typeof:y,type:I,compare:W===void 0?null:W}},bt.startTransition=function(I){var W=ct.T,lt={};ct.T=lt;try{var it=I(),pt=ct.S;pt!==null&&pt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(zt,dt)}catch(Ct){dt(Ct)}finally{ct.T=W}},bt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},bt.use=function(I){return ct.H.use(I)},bt.useActionState=function(I,W,lt){return ct.H.useActionState(I,W,lt)},bt.useCallback=function(I,W){return ct.H.useCallback(I,W)},bt.useContext=function(I){return ct.H.useContext(I)},bt.useDebugValue=function(){},bt.useDeferredValue=function(I,W){return ct.H.useDeferredValue(I,W)},bt.useEffect=function(I,W,lt){var it=ct.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(I,W)},bt.useId=function(){return ct.H.useId()},bt.useImperativeHandle=function(I,W,lt){return ct.H.useImperativeHandle(I,W,lt)},bt.useInsertionEffect=function(I,W){return ct.H.useInsertionEffect(I,W)},bt.useLayoutEffect=function(I,W){return ct.H.useLayoutEffect(I,W)},bt.useMemo=function(I,W){return ct.H.useMemo(I,W)},bt.useOptimistic=function(I,W){return ct.H.useOptimistic(I,W)},bt.useReducer=function(I,W,lt){return ct.H.useReducer(I,W,lt)},bt.useRef=function(I){return ct.H.useRef(I)},bt.useState=function(I){return ct.H.useState(I)},bt.useSyncExternalStore=function(I,W,lt){return ct.H.useSyncExternalStore(I,W,lt)},bt.useTransition=function(){return ct.H.useTransition()},bt.version="19.1.1",bt}var ky;function Bd(){return ky||(ky=1,$f.exports=l1()),$f.exports}var Q=Bd(),Zf={exports:{}},Kl={},Jf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function o1(){return zy||(zy=1,function(r){function e(Y,st){var dt=Y.length;Y.push(st);t:for(;0<dt;){var zt=dt-1>>>1,I=Y[zt];if(0<o(I,st))Y[zt]=st,Y[dt]=I,dt=zt;else break t}}function i(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var st=Y[0],dt=Y.pop();if(dt!==st){Y[0]=dt;t:for(var zt=0,I=Y.length,W=I>>>1;zt<W;){var lt=2*(zt+1)-1,it=Y[lt],pt=lt+1,Ct=Y[pt];if(0>o(it,dt))pt<I&&0>o(Ct,it)?(Y[zt]=Ct,Y[pt]=dt,zt=pt):(Y[zt]=it,Y[lt]=dt,zt=lt);else if(pt<I&&0>o(Ct,dt))Y[zt]=Ct,Y[pt]=dt,zt=pt;else break t}}return st}function o(Y,st){var dt=Y.sortIndex-st.sortIndex;return dt!==0?dt:Y.id-st.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var g=[],y=[],E=1,b=null,S=3,M=!1,z=!1,G=!1,j=!1,$=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function mt(Y){for(var st=i(y);st!==null;){if(st.callback===null)s(y);else if(st.startTime<=Y)s(y),st.sortIndex=st.expirationTime,e(g,st);else break;st=i(y)}}function ct(Y){if(G=!1,mt(Y),!z)if(i(g)!==null)z=!0,Rt||(Rt=!0,P());else{var st=i(y);st!==null&&se(ct,st.startTime-Y)}}var Rt=!1,O=-1,R=5,C=-1;function V(){return j?!0:!(r.unstable_now()-C<R)}function x(){if(j=!1,Rt){var Y=r.unstable_now();C=Y;var st=!0;try{t:{z=!1,G&&(G=!1,et(O),O=-1),M=!0;var dt=S;try{e:{for(mt(Y),b=i(g);b!==null&&!(b.expirationTime>Y&&V());){var zt=b.callback;if(typeof zt=="function"){b.callback=null,S=b.priorityLevel;var I=zt(b.expirationTime<=Y);if(Y=r.unstable_now(),typeof I=="function"){b.callback=I,mt(Y),st=!0;break e}b===i(g)&&s(g),mt(Y)}else s(g);b=i(g)}if(b!==null)st=!0;else{var W=i(y);W!==null&&se(ct,W.startTime-Y),st=!1}}break t}finally{b=null,S=dt,M=!1}st=void 0}}finally{st?P():Rt=!1}}}var P;if(typeof nt=="function")P=function(){nt(x)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Ue=D.port2;D.port1.onmessage=x,P=function(){Ue.postMessage(null)}}else P=function(){$(x,0)};function se(Y,st){O=$(function(){Y(r.unstable_now())},st)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var st=3;break;default:st=S}var dt=S;S=st;try{return Y()}finally{S=dt}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Y,st){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var dt=S;S=Y;try{return st()}finally{S=dt}},r.unstable_scheduleCallback=function(Y,st,dt){var zt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?zt+dt:zt):dt=zt,Y){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=dt+I,Y={id:E++,callback:st,priorityLevel:Y,startTime:dt,expirationTime:I,sortIndex:-1},dt>zt?(Y.sortIndex=dt,e(y,Y),i(g)===null&&Y===i(y)&&(G?(et(O),O=-1):G=!0,se(ct,dt-zt))):(Y.sortIndex=I,e(g,Y),z||M||(z=!0,Rt||(Rt=!0,P()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var st=S;return function(){var dt=S;S=st;try{return Y.apply(this,arguments)}finally{S=dt}}}}(Wf)),Wf}var By;function u1(){return By||(By=1,Jf.exports=o1()),Jf.exports}var td={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function c1(){if(qy)return Qe;qy=1;var r=Bd();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,E)},Qe.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Qe.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Qe.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Qe.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:M}):E==="script"&&s.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qe.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Qe.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=p(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qe.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Qe.requestFormReset=function(g){s.d.r(g)},Qe.unstable_batchedUpdates=function(g,y){return g(y)},Qe.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var jy;function h1(){if(jy)return td.exports;jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),td.exports=c1(),td.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hy;function f1(){if(Hy)return Kl;Hy=1;var r=u1(),e=Bd(),i=h1();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(c(t)!==t)throw Error(s(188))}function g(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=f;break}if(T===l){v=!0,l=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,l=h;break}if(T===l){v=!0,l=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),et=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case z:return"Fragment";case j:return"Profiler";case G:return"StrictMode";case ct:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case nt:return(t.displayName||"Context")+".Provider";case et:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ue(t.type)||"Memo";case R:n=t._payload,t=t._init;try{return Ue(t(n))}catch{}}return null}var se=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},zt=[],I=-1;function W(t){return{current:t}}function lt(t){0>I||(t.current=zt[I],zt[I]=null,I--)}function it(t,n){I++,zt[I]=t.current,t.current=n}var pt=W(null),Ct=W(null),Tt=W(null),Ce=W(null);function Zt(t,n){switch(it(Tt,n),it(Ct,t),it(pt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?uy(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=uy(n),t=cy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(pt),it(pt,t)}function Ln(){lt(pt),lt(Ct),lt(Tt)}function Fi(t){t.memoizedState!==null&&it(Ce,t);var n=pt.current,a=cy(n,t.type);n!==a&&(it(Ct,t),it(pt,a))}function hi(t){Ct.current===t&&(lt(pt),lt(Ct)),Ce.current===t&&(lt(Ce),jl._currentValue=dt)}var Or=Object.prototype.hasOwnProperty,xr=r.unstable_scheduleCallback,Mr=r.unstable_cancelCallback,zs=r.unstable_shouldYield,wo=r.unstable_requestPaint,mn=r.unstable_now,Kc=r.unstable_getCurrentPriorityLevel,Bs=r.unstable_ImmediatePriority,Ia=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,Xc=r.unstable_LowPriority,Na=r.unstable_IdlePriority,qs=r.log,Co=r.unstable_setDisableYieldValue,le=null,Ht=null;function an(t){if(typeof qs=="function"&&Co(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(le,t)}catch{}}var Fe=Math.clz32?Math.clz32:Pr,Do=Math.log,$c=Math.LN2;function Pr(t){return t>>>=0,t===0?32:31-(Do(t)/$c|0)|0}var Lr=256,kr=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Va(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=In(l):(v&=T,v!==0?h=In(v):a||(a=T&~t,a!==0&&(h=In(a))))):(T=l&~f,T!==0?h=In(T):v!==0?h=In(v):a||(a=l&~t,a!==0&&(h=In(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function zr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function js(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var t=Lr;return Lr<<=1,(Lr&4194048)===0&&(Lr=256),t}function Fs(){var t=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),t}function fi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function di(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Gs(t,n,a,l,h,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-Fe(a),Z=1<<K;T[K]=0,w[K]=-1;var q=B[K];if(q!==null)for(B[K]=null,K=0;K<q.length;K++){var H=q[K];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&kn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function kn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Fe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Qs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Fe(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Oa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Iy(t.type))}function Io(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var ee=Math.random().toString(36).slice(2),Ee="__reactFiber$"+ee,me="__reactProps$"+ee,pn="__reactContainer$"+ee,Ys="__reactEvents$"+ee,Zc="__reactListeners$"+ee,Yi="__reactHandles$"+ee,No="__reactResources$"+ee,Br="__reactMarker$"+ee;function Ki(t){delete t[Ee],delete t[me],delete t[Ys],delete t[Zc],delete t[Yi]}function mi(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[pn]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=my(t);t!==null;){if(a=t[Ee])return a;t=my(t)}return n}t=a,a=t.parentNode}return null}function zn(t){if(t=t[Ee]||t[pn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Bn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function $e(t){var n=t[No];return n||(n=t[No]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Br]=!0}var Ks=new Set,xa={};function Nn(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(xa[t]=n,t=0;t<n.length;t++)Ks.add(n[t])}var Vo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oo={},qr={};function xo(t){return Or.call(qr,t)?!0:Or.call(Oo,t)?!1:Vo.test(t)?qr[t]=!0:(Oo[t]=!0,!1)}function Xi(t,n,a){if(xo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function qn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Pe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var jr,Mo;function gi(t){if(jr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);jr=n&&n[1]||"",Mo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+t+Mo}var Ma=!1;function Ua(t,n){if(!t||Ma)return"";Ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),B=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===B.length)for(l=w.length-1,h=B.length-1;1<=l&&0<=h&&w[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==B[h]){var K=`
`+w[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ma=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gi(a):""}function Xs(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Ua(t.type,!1);case 11:return Ua(t.type.render,!1);case 1:return Ua(t.type,!0);case 31:return gi("Activity");default:return""}}function Pa(t){try{var n="";do n+=Xs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $s(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Jc(t){var n=$s(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function La(t){t._valueTracker||(t._valueTracker=Jc(t))}function Zs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=$s(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Hr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Wc=/[\n"\\]/g;function pe(t){return t.replace(Wc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,h,f,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?$i(t,v,Ze(n)):a!=null?$i(t,v,Ze(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Fr(t,n,a,l,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function $i(t,n,a){n==="number"&&Hr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function yi(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Qt(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function Gr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Qr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Js(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&Uo(t,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Uo(t,f,n[f])}function Ws(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ka(t){return eh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,Ei=null;function tl(t){var n=zn(t);if(n&&(t=n.stateNode)){var a=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[me]||null;if(!h)throw Error(s(90));sn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Zs(l)}break t;case"textarea":Qt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&yi(t,!!a.multiple,n,!1)}}}var jn=!1;function Po(t,n,a){if(jn)return t(n,a);jn=!0;try{var l=t(n);return l}finally{if(jn=!1,(vi!==null||Ei!==null)&&(Iu(),vi&&(n=vi,t=Ei,Ei=vi=null,tl(n),t)))for(n=0;n<t.length;n++)tl(t[n])}}function Yr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[me]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{_n=!1}var Hn=null,Zi=null,Ti=null;function el(){if(Ti)return Ti;var t,n=Zi,a=n.length,l,h="value"in Hn?Hn.value:Hn.textContent,f=h.length;for(t=0;t<a&&n[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===h[f-l];l++);return Ti=h.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function nl(){return!1}function De(t){function n(a,l,h,f,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Gn:nl,this.isPropagationStopped=nl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},za=De(qt),Xr=E({},qt,{view:0,detail:0}),Lo=De(Xr),Ba,qa,Qn,$r=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(Ba=t.screenX-Qn.screenX,qa=t.screenY-Qn.screenY):qa=Ba=0,Qn=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),vn=De($r),ko=E({},$r,{dataTransfer:0}),nh=De(ko),Zr=E({},Xr,{relatedTarget:0}),ja=De(Zr),il=E({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ha=De(il),zo=E({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fa=De(zo),ih=E({},qt,{data:0}),rl=De(ih),Jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=qo[t])?!!n[t]:!1}function Wr(){return al}var jo=E({},Xr,{key:function(t){if(t.key){var n=Jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ga=De(jo),Ho=E({},$r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=De(Ho),Ai=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Fo=De(Ai),Go=E({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qo=De(Go),Yo=E({},$r,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qa=De(Yo),Je=E({},qt,{newState:0,oldState:0}),Ko=De(Je),Xo=[9,13,27,32],Yn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,_=Vn&&(!Yn||u&&8<u&&11>=u),A=" ",L=!1;function F(t,n){switch(t){case"keyup":return Xo.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function at(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Te(t,n){switch(t){case"compositionend":return at(n);case"keypress":return n.which!==32?null:(L=!0,A);case"textInput":return t=n.data,t===A&&L?null:t;default:return null}}function Mt(t,n){if(xt)return t==="compositionend"||!Yn&&F(t,n)?(t=el(),Ti=Zi=Hn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function Si(t,n,a,l){vi?Ei?Ei.push(l):Ei=[l]:vi=l,n=Uu(n,"onChange"),0<n.length&&(a=new za("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Le=null,Kn=null;function ll(t){ry(t,0)}function $o(t){var n=Bn(t);if(Zs(n))return t}function Rm(t,n){if(t==="change")return n}var wm=!1;if(Vn){var rh;if(Vn){var ah="oninput"in document;if(!ah){var Cm=document.createElement("div");Cm.setAttribute("oninput","return;"),ah=typeof Cm.oninput=="function"}rh=ah}else rh=!1;wm=rh&&(!document.documentMode||9<document.documentMode)}function Dm(){Le&&(Le.detachEvent("onpropertychange",Im),Kn=Le=null)}function Im(t){if(t.propertyName==="value"&&$o(Kn)){var n=[];Si(n,Kn,t,yn(t)),Po(ll,n)}}function M0(t,n,a){t==="focusin"?(Dm(),Le=n,Kn=a,Le.attachEvent("onpropertychange",Im)):t==="focusout"&&Dm()}function U0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $o(Kn)}function P0(t,n){if(t==="click")return $o(n)}function L0(t,n){if(t==="input"||t==="change")return $o(n)}function k0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:k0;function ol(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Or.call(n,h)||!ln(t[h],n[h]))return!1}return!0}function Nm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vm(t,n){var a=Nm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Nm(a)}}function Om(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Om(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Hr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Hr(t.document)}return n}function sh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var z0=Vn&&"documentMode"in document&&11>=document.documentMode,Ya=null,lh=null,ul=null,oh=!1;function Mm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;oh||Ya==null||Ya!==Hr(l)||(l=Ya,"selectionStart"in l&&sh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Uu(lh,"onSelect"),0<l.length&&(n=new za("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ya)))}function ta(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ka={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},uh={},Um={};Vn&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ea(t){if(uh[t])return uh[t];if(!Ka[t])return t;var n=Ka[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Um)return uh[t]=n[a];return t}var Pm=ea("animationend"),Lm=ea("animationiteration"),km=ea("animationstart"),B0=ea("transitionrun"),q0=ea("transitionstart"),j0=ea("transitioncancel"),zm=ea("transitionend"),Bm=new Map,ch="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ch.push("scrollEnd");function On(t,n){Bm.set(t,n),Nn(n,[t])}var qm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=qm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Pa(n)},qm.set(t,n),n)}return{value:t,source:n,stack:Pa(n)}}var Tn=[],Xa=0,hh=0;function Zo(){for(var t=Xa,n=hh=Xa=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var h=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}f!==0&&jm(a,h,f)}}function Jo(t,n,a,l){Tn[Xa++]=t,Tn[Xa++]=n,Tn[Xa++]=a,Tn[Xa++]=l,hh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function fh(t,n,a,l){return Jo(t,n,a,l),Wo(t)}function $a(t,n){return Jo(t,null,null,n),Wo(t)}function jm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&n!==null&&(h=31-Fe(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[n]:l.push(n),n.lane=a|536870912),f):null}function Wo(t){if(50<Ml)throw Ml=0,vf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Za={};function H0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new H0(t,n,a,l)}function dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bi(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Hm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function tu(t,n,a,l,h,f){var v=0;if(l=t,typeof t=="function")dh(t)&&(v=1);else if(typeof t=="string")v=GT(t,a,pt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=on(31,a,n,h),t.elementType=C,t.lanes=f,t;case z:return na(a.children,h,f,n);case G:v=8,h|=24;break;case j:return t=on(12,a,n,h|2),t.elementType=j,t.lanes=f,t;case ct:return t=on(13,a,n,h),t.elementType=ct,t.lanes=f,t;case Rt:return t=on(19,a,n,h),t.elementType=Rt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case nt:v=10;break t;case et:v=9;break t;case mt:v=11;break t;case O:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,a,n,h),n.elementType=t,n.type=l,n.lanes=f,n}function na(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function mh(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function ph(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ja=[],Wa=0,eu=null,nu=0,An=[],Sn=0,ia=null,Ri=1,wi="";function ra(t,n){Ja[Wa++]=nu,Ja[Wa++]=eu,eu=t,nu=n}function Fm(t,n,a){An[Sn++]=Ri,An[Sn++]=wi,An[Sn++]=ia,ia=t;var l=Ri;t=wi;var h=32-Fe(l)-1;l&=~(1<<h),a+=1;var f=32-Fe(n)+h;if(30<f){var v=h-h%5;f=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ri=1<<32-Fe(n)+h|a<<h|l,wi=f+t}else Ri=1<<f|a<<h|l,wi=t}function gh(t){t.return!==null&&(ra(t,1),Fm(t,1,0))}function yh(t){for(;t===eu;)eu=Ja[--Wa],Ja[Wa]=null,nu=Ja[--Wa],Ja[Wa]=null;for(;t===ia;)ia=An[--Sn],An[Sn]=null,wi=An[--Sn],An[Sn]=null,Ri=An[--Sn],An[Sn]=null}var We=null,oe=null,Bt=!1,aa=null,Xn=!1,_h=Error(s(519));function sa(t){var n=Error(s(418,""));throw fl(En(n,t)),_h}function Gm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[me]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Nt(Pl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Fr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),La(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Gr(n,l.value,l.defaultValue,l.children),La(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||oy(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=Pu),n=!0):n=!1,n||sa(t)}function Qm(t){for(We=t.return;We;)switch(We.tag){case 5:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:We=We.return}}function cl(t){if(t!==We)return!1;if(!Bt)return Qm(t),Bt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Uf(t.type,t.memoizedProps)),a=!a),a&&oe&&sa(t),Qm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){oe=Mn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}oe=null}}else n===27?(n=oe,dr(t.type)?(t=zf,zf=null,oe=t):oe=n):oe=We?Mn(t.stateNode.nextSibling):null;return!0}function hl(){oe=We=null,Bt=!1}function Ym(){var t=aa;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),aa=null),t}function fl(t){aa===null?aa=[t]:aa.push(t)}var vh=W(null),la=null,Ci=null;function Ji(t,n,a){it(vh,n._currentValue),n._currentValue=a}function Di(t){t._currentValue=vh.current,lt(vh)}function Eh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Th(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Eh(f.return,a,t),l||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Eh(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(t,n,a,l){t=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;ln(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ce.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&Th(n,t,a,l),n.flags|=262144}function iu(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function oa(t){la=t,Ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Km(la,t)}function ru(t,n){return la===null&&oa(t),Km(t,n)}function Km(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ci===null){if(t===null)throw Error(s(308));Ci=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ci=Ci.next=n;return a}var F0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},G0=r.unstable_scheduleCallback,Q0=r.unstable_NormalPriority,Se={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ah(){return{controller:new F0,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&G0(Q0,function(){t.controller.abort()})}var pl=null,Sh=0,ts=0,es=null;function Y0(t,n){if(pl===null){var a=pl=[];Sh=0,ts=wf(),es={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sh++,n.then(Xm,Xm),n}function Xm(){if(--Sh===0&&pl!==null){es!==null&&(es.status="fulfilled");var t=pl;pl=null,ts=0,es=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function K0(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $m=Y.S;Y.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y0(t,n),$m!==null&&$m(t,n)};var ua=W(null);function bh(){var t=ua.current;return t!==null?t:Jt.pooledCache}function au(t,n){n===null?it(ua,ua.current):it(ua,n.pool)}function Zm(){var t=bh();return t===null?null:{parent:Se._currentValue,pool:t}}var gl=Error(s(460)),Jm=Error(s(474)),su=Error(s(542)),Rh={then:function(){}};function Wm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lu(){}function tp(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(lu,lu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(lu,lu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw yl=n,gl}}var yl=null;function ep(){if(yl===null)throw Error(s(459));var t=yl;return yl=null,t}function np(t){if(t===gl||t===su)throw Error(s(483))}var Wi=!1;function wh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ch(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function tr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function er(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Wo(t),jm(t,null,a),n}return Jo(t,l,n,a),Wo(t)}function _l(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Qs(t,a)}}function Dh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ih=!1;function vl(){if(Ih){var t=es;if(t!==null)throw t}}function El(t,n,a,l){Ih=!1;var h=t.updateQueue;Wi=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,B=w.next;w.next=null,v===null?f=B:v.next=B,v=w;var K=t.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=w))}if(f!==null){var Z=h.baseState;v=0,K=B=w=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(Ut&q)===q:(l&q)===q){q!==0&&q===ts&&(Ih=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Et=t,yt=T;q=n;var Xt=a;switch(yt.tag){case 1:if(Et=yt.payload,typeof Et=="function"){Z=Et.call(Xt,Z,q);break t}Z=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=yt.payload,q=typeof Et=="function"?Et.call(Xt,Z,q):Et,q==null)break t;Z=E({},Z,q);break t;case 2:Wi=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=H,w=Z):K=K.next=H,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(w=Z),h.baseState=w,h.firstBaseUpdate=B,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),ur|=v,t.lanes=v,t.memoizedState=Z}}function ip(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function rp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ip(a[t],n)}var ns=W(null),ou=W(0);function ap(t,n){t=Ui,it(ou,t),it(ns,n),Ui=t|n.baseLanes}function Nh(){it(ou,Ui),it(ns,ns.current)}function Vh(){Ui=ou.current,lt(ns),lt(ou)}var nr=0,wt=null,Yt=null,ge=null,uu=!1,is=!1,ca=!1,cu=0,Tl=0,rs=null,X0=0;function he(){throw Error(s(321))}function Oh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function xh(t,n,a,l,h,f){return nr=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Y.H=t===null||t.memoizedState===null?jp:Hp,ca=!1,f=a(l,h),ca=!1,is&&(f=lp(n,a,l,h)),sp(t),f}function sp(t){Y.H=gu;var n=Yt!==null&&Yt.next!==null;if(nr=0,ge=Yt=wt=null,uu=!1,Tl=0,rs=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&iu(t)&&(Ne=!0))}function lp(t,n,a,l){wt=t;var h=0;do{if(is&&(rs=null),Tl=0,is=!1,25<=h)throw Error(s(301));if(h+=1,ge=Yt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=nT,f=n(a,l)}while(is);return f}function $0(){var t=Y.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(wt.flags|=1024),n}function Mh(){var t=cu!==0;return cu=0,t}function Uh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Ph(t){if(uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}uu=!1}nr=0,ge=Yt=wt=null,is=!1,Tl=cu=0,rs=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?wt.memoizedState=ge=t:ge=ge.next=t,ge}function ye(){if(Yt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=ge===null?wt.memoizedState:ge.next;if(n!==null)ge=n,Yt=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ge===null?wt.memoizedState=ge=t:ge=ge.next=t}return ge}function Lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Tl;return Tl+=1,rs===null&&(rs=[]),t=tp(rs,t,n),n=wt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,Y.H=n===null||n.memoizedState===null?jp:Hp),t}function hu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===nt)return Ge(t)}throw Error(s(438,String(t)))}function kh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Lh(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function fu(t){var n=ye();return zh(n,Yt,t)}function zh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{n=h.next;var T=v=null,w=null,B=n,K=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ut&Z)===Z:(nr&Z)===Z){var q=B.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===ts&&(K=!0);else if((nr&q)===q){B=B.next,q===ts&&(K=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(T=w=Z,v=f):w=w.next=Z,wt.lanes|=q,ur|=q;Z=B.action,ca&&a(f,Z),f=B.hasEagerState?B.eagerState:a(f,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},w===null?(T=w=q,v=f):w=w.next=q,wt.lanes|=Z,ur|=Z;B=B.next}while(B!==null&&B!==n);if(w===null?v=f:w.next=T,!ln(f,t.memoizedState)&&(Ne=!0,K&&(a=es,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=w,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Bh(t){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=t(f,v.action),v=v.next;while(v!==h);ln(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function op(t,n,a){var l=wt,h=ye(),f=Bt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!ln((Yt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=hp.bind(null,l,h,t);if(Sl(2048,8,T,[t]),h.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,as(9,du(),cp.bind(null,l,h,a,n),null),Jt===null)throw Error(s(349));f||(nr&124)!==0||up(l,n,a)}return a}function up(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Lh(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function cp(t,n,a,l){n.value=a,n.getSnapshot=l,fp(n)&&dp(t)}function hp(t,n,a){return a(function(){fp(n)&&dp(t)})}function fp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function dp(t){var n=$a(t,2);n!==null&&dn(n,t,2)}function qh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),ca){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function mp(t,n,a,l){return t.baseState=a,zh(t,Yt,typeof l=="function"?l:Ii)}function Z0(t,n,a,l,h){if(pu(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,pp(n,f)):(f.next=a.next,n.pending=a.next=f)}}function pp(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var f=Y.T,v={};Y.T=v;try{var T=a(h,l),w=Y.S;w!==null&&w(v,T),gp(t,n,T)}catch(B){jh(t,n,B)}finally{Y.T=f}}else try{f=a(h,l),gp(t,n,f)}catch(B){jh(t,n,B)}}function gp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yp(t,n,l)},function(l){return jh(t,n,l)}):yp(t,n,a)}function yp(t,n,a){n.status="fulfilled",n.value=a,_p(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,pp(t,a)))}function jh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,_p(n),n=n.next;while(n!==l)}t.action=null}function _p(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vp(t,n){return n}function Ep(t,n){if(Bt){var a=Jt.formState;if(a!==null){t:{var l=wt;if(Bt){if(oe){e:{for(var h=oe,f=Xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Mn(h.nextSibling),l=h.data==="F!";break t}}sa(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},a.queue=l,a=zp.bind(null,wt,l),l.dispatch=a,l=qh(!1),f=Yh.bind(null,wt,!1,l.queue),l=tn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=Z0.bind(null,wt,h,f,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Tp(t){var n=ye();return Ap(n,Yt,t)}function Ap(t,n,a){if(n=zh(t,n,vp)[0],t=fu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(v){throw v===gl?su:v}else l=n;n=ye();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,as(9,du(),J0.bind(null,h,a),null)),[l,f,t]}function J0(t,n){t.action=n}function Sp(t){var n=ye(),a=Yt;if(a!==null)return Ap(n,a,t);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function as(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Lh(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function du(){return{destroy:void 0,resource:void 0}}function bp(){return ye().memoizedState}function mu(t,n,a,l){var h=tn();l=l===void 0?null:l,wt.flags|=t,h.memoizedState=as(1|n,du(),a,l)}function Sl(t,n,a,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;Yt!==null&&l!==null&&Oh(l,Yt.memoizedState.deps)?h.memoizedState=as(n,f,a,l):(wt.flags|=t,h.memoizedState=as(1|n,f,a,l))}function Rp(t,n){mu(8390656,8,t,n)}function wp(t,n){Sl(2048,8,t,n)}function Cp(t,n){return Sl(4,2,t,n)}function Dp(t,n){return Sl(4,4,t,n)}function Ip(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Np(t,n,a){a=a!=null?a.concat([t]):null,Sl(4,4,Ip.bind(null,n,t),a)}function Hh(){}function Vp(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Oh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Op(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Oh(n,l[1]))return l[0];if(l=t(),ca){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function Fh(t,n,a){return a===void 0||(nr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Ug(),wt.lanes|=t,ur|=t,a)}function xp(t,n,a,l){return ln(a,n)?a:ns.current!==null?(t=Fh(t,a,l),ln(t,n)||(Ne=!0),t):(nr&42)===0?(Ne=!0,t.memoizedState=a):(t=Ug(),wt.lanes|=t,ur|=t,n)}function Mp(t,n,a,l,h){var f=st.p;st.p=f!==0&&8>f?f:8;var v=Y.T,T={};Y.T=T,Yh(t,!1,n,a);try{var w=h(),B=Y.S;if(B!==null&&B(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var K=K0(w,l);bl(t,n,K,fn(t))}else bl(t,n,l,fn(t))}catch(Z){bl(t,n,{then:function(){},status:"rejected",reason:Z},fn())}finally{st.p=f,Y.T=v}}function W0(){}function Gh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Up(t).queue;Mp(t,h,n,dt,a===null?W0:function(){return Pp(t),a(l)})}function Up(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Pp(t){var n=Up(t).next.queue;bl(t,n,{},fn())}function Qh(){return Ge(jl)}function Lp(){return ye().memoizedState}function kp(){return ye().memoizedState}function tT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=tr(a);var l=er(n,t,a);l!==null&&(dn(l,n,a),_l(l,n,a)),n={cache:Ah()},t.payload=n;return}n=n.return}}function eT(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pu(t)?Bp(n,a):(a=fh(t,n,a,l),a!==null&&(dn(a,t,l),qp(a,n,l)))}function zp(t,n,a){var l=fn();bl(t,n,a,l)}function bl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pu(t))Bp(n,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,ln(T,v))return Jo(t,n,h,0),Jt===null&&Zo(),!1}catch{}finally{}if(a=fh(t,n,h,l),a!==null)return dn(a,t,l),qp(a,n,l),!0}return!1}function Yh(t,n,a,l){if(l={lane:2,revertLane:wf(),action:l,hasEagerState:!1,eagerState:null,next:null},pu(t)){if(n)throw Error(s(479))}else n=fh(t,a,l,2),n!==null&&dn(n,t,2)}function pu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Bp(t,n){is=uu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function qp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Qs(t,a)}}var gu={readContext:Ge,use:hu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he},jp={readContext:Ge,use:hu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:Rp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,mu(4194308,4,Ip.bind(null,n,t),a)},useLayoutEffect:function(t,n){return mu(4194308,4,t,n)},useInsertionEffect:function(t,n){mu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(ca){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var h=a(n);if(ca){an(!0);try{a(n)}finally{an(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=eT.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=qh(t);var n=t.queue,a=zp.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Hh,useDeferredValue:function(t,n){var a=tn();return Fh(a,t,n)},useTransition:function(){var t=qh(!1);return t=Mp.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,h=tn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Ut&124)!==0||up(l,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Rp(hp.bind(null,l,f,t),[t]),l.flags|=2048,as(9,du(),cp.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(Bt){var a=wi,l=Ri;a=(l&~(1<<32-Fe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=cu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=X0++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Qh,useFormState:Ep,useActionState:Ep,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Yh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:kh,useCacheRefresh:function(){return tn().memoizedState=tT.bind(null,wt)}},Hp={readContext:Ge,use:hu,useCallback:Vp,useContext:Ge,useEffect:wp,useImperativeHandle:Np,useInsertionEffect:Cp,useLayoutEffect:Dp,useMemo:Op,useReducer:fu,useRef:bp,useState:function(){return fu(Ii)},useDebugValue:Hh,useDeferredValue:function(t,n){var a=ye();return xp(a,Yt.memoizedState,t,n)},useTransition:function(){var t=fu(Ii)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:op,useId:Lp,useHostTransitionStatus:Qh,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var a=ye();return mp(a,Yt,t,n)},useMemoCache:kh,useCacheRefresh:kp},nT={readContext:Ge,use:hu,useCallback:Vp,useContext:Ge,useEffect:wp,useImperativeHandle:Np,useInsertionEffect:Cp,useLayoutEffect:Dp,useMemo:Op,useReducer:Bh,useRef:bp,useState:function(){return Bh(Ii)},useDebugValue:Hh,useDeferredValue:function(t,n){var a=ye();return Yt===null?Fh(a,t,n):xp(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Bh(Ii)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:op,useId:Lp,useHostTransitionStatus:Qh,useFormState:Sp,useActionState:Sp,useOptimistic:function(t,n){var a=ye();return Yt!==null?mp(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:kh,useCacheRefresh:kp},ss=null,Rl=0;function yu(t){var n=Rl;return Rl+=1,ss===null&&(ss=[]),tp(ss,t,n)}function wl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function _u(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Fp(t){var n=t._init;return n(t._payload)}function Gp(t){function n(U,N){if(t){var k=U.deletions;k===null?(U.deletions=[N],U.flags|=16):k.push(N)}}function a(U,N){if(!t)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function l(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=bi(U,N),U.index=0,U.sibling=null,U}function f(U,N,k){return U.index=k,t?(k=U.alternate,k!==null?(k=k.index,k<N?(U.flags|=67108866,N):k):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,N,k,X){return N===null||N.tag!==6?(N=mh(k,U.mode,X),N.return=U,N):(N=h(N,k),N.return=U,N)}function w(U,N,k,X){var ut=k.type;return ut===z?K(U,N,k.props.children,X,k.key):N!==null&&(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===R&&Fp(ut)===N.type)?(N=h(N,k.props),wl(N,k),N.return=U,N):(N=tu(k.type,k.key,k.props,null,U.mode,X),wl(N,k),N.return=U,N)}function B(U,N,k,X){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=ph(k,U.mode,X),N.return=U,N):(N=h(N,k.children||[]),N.return=U,N)}function K(U,N,k,X,ut){return N===null||N.tag!==7?(N=na(k,U.mode,X,ut),N.return=U,N):(N=h(N,k),N.return=U,N)}function Z(U,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=mh(""+N,U.mode,k),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case S:return k=tu(N.type,N.key,N.props,null,U.mode,k),wl(k,N),k.return=U,k;case M:return N=ph(N,U.mode,k),N.return=U,N;case R:var X=N._init;return N=X(N._payload),Z(U,N,k)}if(se(N)||P(N))return N=na(N,U.mode,k,null),N.return=U,N;if(typeof N.then=="function")return Z(U,yu(N),k);if(N.$$typeof===nt)return Z(U,ru(U,N),k);_u(U,N)}return null}function q(U,N,k,X){var ut=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ut!==null?null:T(U,N,""+k,X);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case S:return k.key===ut?w(U,N,k,X):null;case M:return k.key===ut?B(U,N,k,X):null;case R:return ut=k._init,k=ut(k._payload),q(U,N,k,X)}if(se(k)||P(k))return ut!==null?null:K(U,N,k,X,null);if(typeof k.then=="function")return q(U,N,yu(k),X);if(k.$$typeof===nt)return q(U,N,ru(U,k),X);_u(U,k)}return null}function H(U,N,k,X,ut){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(k)||null,T(N,U,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case S:return U=U.get(X.key===null?k:X.key)||null,w(N,U,X,ut);case M:return U=U.get(X.key===null?k:X.key)||null,B(N,U,X,ut);case R:var Dt=X._init;return X=Dt(X._payload),H(U,N,k,X,ut)}if(se(X)||P(X))return U=U.get(k)||null,K(N,U,X,ut,null);if(typeof X.then=="function")return H(U,N,k,yu(X),ut);if(X.$$typeof===nt)return H(U,N,k,ru(N,X),ut);_u(N,X)}return null}function Et(U,N,k,X){for(var ut=null,Dt=null,ft=N,_t=N=0,Oe=null;ft!==null&&_t<k.length;_t++){ft.index>_t?(Oe=ft,ft=null):Oe=ft.sibling;var kt=q(U,ft,k[_t],X);if(kt===null){ft===null&&(ft=Oe);break}t&&ft&&kt.alternate===null&&n(U,ft),N=f(kt,N,_t),Dt===null?ut=kt:Dt.sibling=kt,Dt=kt,ft=Oe}if(_t===k.length)return a(U,ft),Bt&&ra(U,_t),ut;if(ft===null){for(;_t<k.length;_t++)ft=Z(U,k[_t],X),ft!==null&&(N=f(ft,N,_t),Dt===null?ut=ft:Dt.sibling=ft,Dt=ft);return Bt&&ra(U,_t),ut}for(ft=l(ft);_t<k.length;_t++)Oe=H(ft,U,_t,k[_t],X),Oe!==null&&(t&&Oe.alternate!==null&&ft.delete(Oe.key===null?_t:Oe.key),N=f(Oe,N,_t),Dt===null?ut=Oe:Dt.sibling=Oe,Dt=Oe);return t&&ft.forEach(function(_r){return n(U,_r)}),Bt&&ra(U,_t),ut}function yt(U,N,k,X){if(k==null)throw Error(s(151));for(var ut=null,Dt=null,ft=N,_t=N=0,Oe=null,kt=k.next();ft!==null&&!kt.done;_t++,kt=k.next()){ft.index>_t?(Oe=ft,ft=null):Oe=ft.sibling;var _r=q(U,ft,kt.value,X);if(_r===null){ft===null&&(ft=Oe);break}t&&ft&&_r.alternate===null&&n(U,ft),N=f(_r,N,_t),Dt===null?ut=_r:Dt.sibling=_r,Dt=_r,ft=Oe}if(kt.done)return a(U,ft),Bt&&ra(U,_t),ut;if(ft===null){for(;!kt.done;_t++,kt=k.next())kt=Z(U,kt.value,X),kt!==null&&(N=f(kt,N,_t),Dt===null?ut=kt:Dt.sibling=kt,Dt=kt);return Bt&&ra(U,_t),ut}for(ft=l(ft);!kt.done;_t++,kt=k.next())kt=H(ft,U,_t,kt.value,X),kt!==null&&(t&&kt.alternate!==null&&ft.delete(kt.key===null?_t:kt.key),N=f(kt,N,_t),Dt===null?ut=kt:Dt.sibling=kt,Dt=kt);return t&&ft.forEach(function(i1){return n(U,i1)}),Bt&&ra(U,_t),ut}function Xt(U,N,k,X){if(typeof k=="object"&&k!==null&&k.type===z&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case S:t:{for(var ut=k.key;N!==null;){if(N.key===ut){if(ut=k.type,ut===z){if(N.tag===7){a(U,N.sibling),X=h(N,k.props.children),X.return=U,U=X;break t}}else if(N.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===R&&Fp(ut)===N.type){a(U,N.sibling),X=h(N,k.props),wl(X,k),X.return=U,U=X;break t}a(U,N);break}else n(U,N);N=N.sibling}k.type===z?(X=na(k.props.children,U.mode,X,k.key),X.return=U,U=X):(X=tu(k.type,k.key,k.props,null,U.mode,X),wl(X,k),X.return=U,U=X)}return v(U);case M:t:{for(ut=k.key;N!==null;){if(N.key===ut)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){a(U,N.sibling),X=h(N,k.children||[]),X.return=U,U=X;break t}else{a(U,N);break}else n(U,N);N=N.sibling}X=ph(k,U.mode,X),X.return=U,U=X}return v(U);case R:return ut=k._init,k=ut(k._payload),Xt(U,N,k,X)}if(se(k))return Et(U,N,k,X);if(P(k)){if(ut=P(k),typeof ut!="function")throw Error(s(150));return k=ut.call(k),yt(U,N,k,X)}if(typeof k.then=="function")return Xt(U,N,yu(k),X);if(k.$$typeof===nt)return Xt(U,N,ru(U,k),X);_u(U,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(a(U,N.sibling),X=h(N,k),X.return=U,U=X):(a(U,N),X=mh(k,U.mode,X),X.return=U,U=X),v(U)):a(U,N)}return function(U,N,k,X){try{Rl=0;var ut=Xt(U,N,k,X);return ss=null,ut}catch(ft){if(ft===gl||ft===su)throw ft;var Dt=on(29,ft,null,U.mode);return Dt.lanes=X,Dt.return=U,Dt}finally{}}}var ls=Gp(!0),Qp=Gp(!1),bn=W(null),$n=null;function ir(t){var n=t.alternate;it(be,be.current&1),it(bn,t),$n===null&&(n===null||ns.current!==null||n.memoizedState!==null)&&($n=t)}function Yp(t){if(t.tag===22){if(it(be,be.current),it(bn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else rr()}function rr(){it(be,be.current),it(bn,bn.current)}function Ni(t){lt(bn),$n===t&&($n=null),lt(be)}var be=W(0);function vu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||kf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Kh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),h=tr(l);h.payload=n,a!=null&&(h.callback=a),n=er(t,h,l),n!==null&&(dn(n,t,l),_l(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),h=tr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=er(t,h,l),n!==null&&(dn(n,t,l),_l(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=tr(a);l.tag=2,n!=null&&(l.callback=n),n=er(t,l,a),n!==null&&(dn(n,t,a),_l(n,t,a))}};function Kp(t,n,a,l,h,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!ol(a,l)||!ol(h,f):!0}function Xp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Xh.enqueueReplaceState(n,n.state,null)}function ha(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Eu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $p(t){Eu(t)}function Zp(t){console.error(t)}function Jp(t){Eu(t)}function Tu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $h(t,n,a){return a=tr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tu(t,n)},a}function tg(t){return t=tr(t),t.tag=3,t}function eg(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Wp(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Wp(n,a,l),typeof h!="function"&&(cr===null?cr=new Set([this]):cr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function iT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&dl(n,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return $n===null?Tf():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Sf(t,l,h)),!1;case 22:return a.flags|=65536,l===Rh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Sf(t,l,h)),!1}throw Error(s(435,a.tag))}return Sf(t,l,h),Tf(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==_h&&(t=Error(s(422),{cause:l}),fl(En(t,a)))):(l!==_h&&(n=Error(s(423),{cause:l}),fl(En(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=En(l,a),h=$h(t.stateNode,l,h),Dh(t,h),ue!==4&&(ue=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,a),xl===null?xl=[f]:xl.push(f),ue!==4&&(ue=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$h(a.stateNode,l,t),Dh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(cr===null||!cr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=tg(h),eg(h,t,a,l),Dh(a,h),!1}a=a.return}while(a!==null);return!1}var ng=Error(s(461)),Ne=!1;function ke(t,n,a,l){n.child=t===null?Qp(n,null,a,l):ls(n,t.child,a,l)}function ig(t,n,a,l,h){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return oa(n),l=xh(t,n,a,v,f,h),T=Mh(),t!==null&&!Ne?(Uh(t,n,h),Vi(t,n,h)):(Bt&&T&&gh(n),n.flags|=1,ke(t,n,l,h),n.child)}function rg(t,n,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!dh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,ag(t,n,f,l,h)):(t=tu(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!af(t,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(v,l)&&t.ref===n.ref)return Vi(t,n,h)}return n.flags|=1,t=bi(f,l),t.ref=n.ref,t.return=n,n.child=t}function ag(t,n,a,l,h){if(t!==null){var f=t.memoizedProps;if(ol(f,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,af(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Vi(t,n,h)}return Zh(t,n,a,l,h)}function sg(t,n,a){var l=n.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=n.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return lg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&au(n,f!==null?f.cachePool:null),f!==null?ap(n,f):Nh(),Yp(n);else return n.lanes=n.childLanes=536870912,lg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(au(n,f.cachePool),ap(n,f),rr(),n.memoizedState=null):(t!==null&&au(n,null),Nh(),rr());return ke(t,n,h,a),n.child}function lg(t,n,a,l){var h=bh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&au(n,null),Nh(),Yp(n),t!==null&&dl(t,n,l,!0),null}function Au(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Zh(t,n,a,l,h){return oa(n),a=xh(t,n,a,l,void 0,h),l=Mh(),t!==null&&!Ne?(Uh(t,n,h),Vi(t,n,h)):(Bt&&l&&gh(n),n.flags|=1,ke(t,n,a,h),n.child)}function og(t,n,a,l,h,f){return oa(n),n.updateQueue=null,a=lp(n,l,a,h),sp(t),l=Mh(),t!==null&&!Ne?(Uh(t,n,f),Vi(t,n,f)):(Bt&&l&&gh(n),n.flags|=1,ke(t,n,a,f),n.child)}function ug(t,n,a,l,h){if(oa(n),n.stateNode===null){var f=Za,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},wh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):Za,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Xh.enqueueReplaceState(f,f.state,null),El(n,l,f,h),vl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,w=ha(a,T);f.props=w;var B=f.context,K=a.contextType;v=Za,typeof K=="object"&&K!==null&&(v=Ge(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==v)&&Xp(n,f,l,v),Wi=!1;var q=n.memoizedState;f.state=q,El(n,l,f,h),vl(),B=n.memoizedState,T||q!==B||Wi?(typeof Z=="function"&&(Kh(n,a,Z,l),B=n.memoizedState),(w=Wi||Kp(n,a,w,l,q,B,v))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Ch(t,n),v=n.memoizedProps,K=ha(a,v),f.props=K,Z=n.pendingProps,q=f.context,B=a.contextType,w=Za,typeof B=="object"&&B!==null&&(w=Ge(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Z||q!==w)&&Xp(n,f,l,w),Wi=!1,q=n.memoizedState,f.state=q,El(n,l,f,h),vl();var H=n.memoizedState;v!==Z||q!==H||Wi||t!==null&&t.dependencies!==null&&iu(t.dependencies)?(typeof T=="function"&&(Kh(n,a,T,l),H=n.memoizedState),(K=Wi||Kp(n,a,K,l,q,H,w)||t!==null&&t.dependencies!==null&&iu(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),f.props=l,f.state=H,f.context=w,l=K):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Au(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ls(n,t.child,null,h),n.child=ls(n,null,a,h)):ke(t,n,a,h),n.memoizedState=f.state,t=n.child):t=Vi(t,n,h),t}function cg(t,n,a,l){return hl(),n.flags|=256,ke(t,n,a,l),n.child}var Jh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wh(t){return{baseLanes:t,cachePool:Zm()}}function tf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function hg(t,n,a){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?ir(n):rr(),Bt){var T=oe,w;if(w=T){t:{for(w=T,T=Xn;w.nodeType!==8;){if(!T){T=null;break t}if(w=Mn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:ia!==null?{id:Ri,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},w=on(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,We=n,oe=null,w=!0):w=!1}w||sa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return kf(T)?n.lanes=32:n.lanes=536870912,null;Ni(n)}return T=l.children,l=l.fallback,h?(rr(),h=n.mode,T=Su({mode:"hidden",children:T},h),l=na(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Wh(a),h.childLanes=tf(t,v,a),n.memoizedState=Jh,l):(ir(n),ef(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(ir(n),n.flags&=-257,n=nf(t,n,a)):n.memoizedState!==null?(rr(),n.child=t.child,n.flags|=128,n=null):(rr(),h=l.fallback,T=n.mode,l=Su({mode:"visible",children:l.children},T),h=na(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ls(n,t.child,null,a),l=n.child,l.memoizedState=Wh(a),l.childLanes=tf(t,v,a),n.memoizedState=Jh,n=h);else if(ir(n),kf(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,fl({value:l,source:null,stack:null}),n=nf(t,n,a)}else if(Ne||dl(t,n,a,!1),v=(a&t.childLanes)!==0,Ne||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Gi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane))throw w.retryLane=l,$a(t,l),dn(v,t,l),ng;T.data==="$?"||Tf(),n=nf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,oe=Mn(T.nextSibling),We=n,Bt=!0,aa=null,Xn=!1,t!==null&&(An[Sn++]=Ri,An[Sn++]=wi,An[Sn++]=ia,Ri=t.id,wi=t.overflow,ia=n),n=ef(n,l.children),n.flags|=4096);return n}return h?(rr(),h=l.fallback,T=n.mode,w=t.child,B=w.sibling,l=bi(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&65011712,B!==null?h=bi(B,h):(h=na(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Wh(a):(w=T.cachePool,w!==null?(B=Se._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=Zm(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=tf(t,v,a),n.memoizedState=Jh,l):(ir(n),a=t.child,t=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function ef(t,n){return n=Su({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Su(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nf(t,n,a){return ls(n,t.child,null,a),t=ef(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Eh(t.return,n,a)}function rf(t,n,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function dg(t,n,a){var l=n.pendingProps,h=l.revealOrder,f=l.tail;if(ke(t,n,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fg(t,a,n);else if(t.tag===19)fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(be,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&vu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),rf(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&vu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rf(n,!0,a,null,f);break;case"together":rf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ur|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(dl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=bi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function af(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&iu(t)))}function rT(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Ji(n,Se,t.memoizedState.cache),hl();break;case 27:case 5:Fi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Ji(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hg(t,n,a):(ir(n),t=Vi(t,n,a),t!==null?t.sibling:null);ir(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(dl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return dg(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,sg(t,n,a);case 24:Ji(n,Se,t.memoizedState.cache)}return Vi(t,n,a)}function mg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!af(t,a)&&(n.flags&128)===0)return Ne=!1,rT(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&Fm(n,nu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")dh(l)?(t=ha(l,t),n.tag=1,n=ug(null,n,l,t,a)):(n.tag=0,n=Zh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===mt){n.tag=11,n=ig(null,n,l,t,a);break t}else if(h===O){n.tag=14,n=rg(null,n,l,t,a);break t}}throw n=Ue(l)||l,Error(s(306,n,""))}}return n;case 0:return Zh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=ha(l,n.pendingProps),ug(t,n,l,h,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Ch(t,n),El(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Ji(n,Se,l),l!==f.cache&&Th(n,[Se],a,!0),vl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cg(t,n,l,a);break t}else if(l!==h){h=En(Error(s(424)),n),fl(h),n=cg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(oe=Mn(t.firstChild),We=n,Bt=!0,aa=null,Xn=!0,a=Qp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(hl(),l===h){n=Vi(t,n,a);break t}ke(t,n,l,a)}n=n.child}return n;case 26:return Au(t,n),t===null?(a=_y(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Lu(Tt.current).createElement(a),l[Ee]=n,l[me]=t,Be(l,a,t),ce(l),n.stateNode=l):n.memoizedState=_y(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fi(n),t===null&&Bt&&(l=n.stateNode=py(n.type,n.pendingProps,Tt.current),We=n,Xn=!0,h=oe,dr(n.type)?(zf=h,oe=Mn(l.firstChild)):oe=h),ke(t,n,n.pendingProps.children,a),Au(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((h=l=oe)&&(l=OT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,We=n,oe=Mn(l.firstChild),Xn=!1,h=!0):h=!1),h||sa(n)),Fi(n),h=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,Uf(h,f)?l=null:v!==null&&Uf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=xh(t,n,$0,null,null,a),jl._currentValue=h),Au(t,n),ke(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=oe)&&(a=xT(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,We=n,oe=null,t=!0):t=!1),t||sa(n)),null;case 13:return hg(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ls(n,null,l,a):ke(t,n,l,a),n.child;case 11:return ig(t,n,n.type,n.pendingProps,a);case 7:return ke(t,n,n.pendingProps,a),n.child;case 8:return ke(t,n,n.pendingProps.children,a),n.child;case 12:return ke(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ji(n,n.type,l.value),ke(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,oa(n),h=Ge(h),l=l(h),n.flags|=1,ke(t,n,l,a),n.child;case 14:return rg(t,n,n.type,n.pendingProps,a);case 15:return ag(t,n,n.type,n.pendingProps,a);case 19:return dg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Su(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return sg(t,n,a);case 24:return oa(n),l=Ge(Se),t===null?(h=bh(),h===null&&(h=Jt,f=Ah(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:l,cache:h},wh(n),Ji(n,Se,h)):((t.lanes&a)!==0&&(Ch(t,n),El(n,null,null,a),vl()),h=t.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ji(n,Se,l)):(l=f.cache,Ji(n,Se,l),l!==h.cache&&Th(n,[Se],a,!0))),ke(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Oi(t){t.flags|=4}function pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Sy(n)){if(n=bn.current,n!==null&&((Ut&4194048)===Ut?$n!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==$n))throw yl=Rh,Jm;t.flags|=8192}}function bu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Fs():536870912,t.lanes|=n,hs|=n)}function Cl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function aT(t,n,a){var l=n.pendingProps;switch(yh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Di(Se),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(cl(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ym())),ie(n),null;case 26:return a=n.memoizedState,t===null?(Oi(n),a!==null?(ie(n),pg(n,a)):(ie(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Oi(n),ie(n),pg(n,a)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),ie(n),n.flags&=-16777217),null;case 27:hi(n),a=Tt.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=pt.current,cl(n)?Gm(n):(t=py(h,l,a),n.stateNode=t,Oi(n))}return ie(n),null;case 5:if(hi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=pt.current,cl(n))Gm(n);else{switch(h=Lu(Tt.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ee]=n,t[me]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(Be(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Tt.current,cl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||oy(t.nodeValue,a)),t||sa(n)}else t=Lu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ee]=n}else hl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Ym(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Ni(n),n):(Ni(n),null)}if(Ni(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),bu(n,n.updateQueue),ie(n),null;case 4:return Ln(),t===null&&Nf(n.stateNode.containerInfo),ie(n),null;case 10:return Di(n.type),ie(n),null;case 19:if(lt(be),h=n.memoizedState,h===null)return ie(n),null;if(l=(n.flags&128)!==0,f=h.rendering,f===null)if(l)Cl(h,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=vu(t),f!==null){for(n.flags|=128,Cl(h,!1),t=f.updateQueue,n.updateQueue=t,bu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Hm(a,t),a=a.sibling;return it(be,be.current&1|2),n.child}t=t.sibling}h.tail!==null&&mn()>Cu&&(n.flags|=128,l=!0,Cl(h,!1),n.lanes=4194304)}else{if(!l)if(t=vu(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,bu(n,t),Cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Bt)return ie(n),null}else 2*mn()-h.renderingStartTime>Cu&&a!==536870912&&(n.flags|=128,l=!0,Cl(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(t=h.last,t!==null?t.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=mn(),n.sibling=null,t=be.current,it(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Ni(n),Vh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&bu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&lt(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Di(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function sT(t,n){switch(yh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Di(Se),Ln(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Ni(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));hl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(be),null;case 4:return Ln(),null;case 10:return Di(n.type),null;case 22:case 23:return Ni(n),Vh(),t!==null&&lt(ua),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Di(Se),null;case 25:return null;default:return null}}function gg(t,n){switch(yh(n),n.tag){case 3:Di(Se),Ln();break;case 26:case 27:case 5:hi(n);break;case 4:Ln();break;case 13:Ni(n);break;case 19:lt(be);break;case 10:Di(n.type);break;case 22:case 23:Ni(n),Vh(),t!==null&&lt(ua);break;case 24:Di(Se)}}function Dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){$t(n,n.return,T)}}function ar(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=a,B=T;try{B()}catch(K){$t(h,w,K)}}}l=l.next}while(l!==f)}}catch(K){$t(n,n.return,K)}}function yg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{rp(n,a)}catch(l){$t(t,t.return,l)}}}function _g(t,n,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$t(t,n,l)}}function Il(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$t(t,n,h)}}function Zn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$t(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(t,n,h)}else a.current=null}function vg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$t(t,t.return,h)}}function sf(t,n,a){try{var l=t.stateNode;CT(l,t.type,a,n),l[me]=n}catch(h){$t(t,t.return,h)}}function Eg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&dr(t.type)||t.tag===4}function lf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&dr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function of(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Pu));else if(l!==4&&(l===27&&dr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(of(t,n,a),t=t.sibling;t!==null;)of(t,n,a),t=t.sibling}function Ru(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&dr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ru(t,n,a),t=t.sibling;t!==null;)Ru(t,n,a),t=t.sibling}function Tg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,l,a),n[Ee]=t,n[me]=a}catch(f){$t(t,t.return,f)}}var xi=!1,fe=!1,uf=!1,Ag=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function lT(t,n){if(t=t.containerInfo,xf=Hu,t=xm(t),sh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,B=0,K=0,Z=t,q=null;e:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==f||l!==0&&Z.nodeType!==3||(w=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break e;if(q===a&&++B===h&&(T=v),q===f&&++K===l&&(w=v),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Mf={focusedElem:t,selectionRange:a},Hu=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Et=ha(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Et,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){$t(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Lf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Sg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:sr(t,a),l&4&&Dl(5,a);break;case 1:if(sr(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=ha(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}l&64&&yg(a),l&512&&Il(a,a.return);break;case 3:if(sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{rp(t,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&l&4&&Tg(a);case 26:case 5:sr(t,a),n===null&&l&4&&vg(a),l&512&&Il(a,a.return);break;case 12:sr(t,a);break;case 13:sr(t,a),l&4&&wg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gT.bind(null,a),MT(t,a))));break;case 22:if(l=a.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||fe,h=xi;var f=fe;xi=l,(fe=n)&&!f?lr(t,a,(a.subtreeFlags&8772)!==0):sr(t,a),xi=h,fe=f}break;case 30:break;default:sr(t,a)}}function bg(t){var n=t.alternate;n!==null&&(t.alternate=null,bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ki(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Rg(t,n,a),a=a.sibling}function Rg(t,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(le,a)}catch{}switch(a.tag){case 26:fe||Zn(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||Zn(a,n);var l=ne,h=en;dr(a.type)&&(ne=a.stateNode,en=!1),Mi(t,n,a),kl(a.stateNode),ne=l,en=h;break;case 5:fe||Zn(a,n);case 6:if(l=ne,h=en,ne=null,Mi(t,n,a),ne=l,en=h,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ne!==null&&(en?(t=ne,dy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ql(t)):dy(ne,a.stateNode));break;case 4:l=ne,h=en,ne=a.stateNode.containerInfo,en=!0,Mi(t,n,a),ne=l,en=h;break;case 0:case 11:case 14:case 15:fe||ar(2,a,n),fe||ar(4,a,n),Mi(t,n,a);break;case 1:fe||(Zn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&_g(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,Mi(t,n,a),fe=l;break;default:Mi(t,n,a)}}function wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ql(t)}catch(a){$t(n,n.return,a)}}function oT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ag),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ag),n;default:throw Error(s(435,t.tag))}}function cf(t,n){var a=oT(t);n.forEach(function(l){var h=yT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(dr(T.type)){ne=T.stateNode,en=!1;break t}break;case 5:ne=T.stateNode,en=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,en=!0;break t}T=T.return}if(ne===null)throw Error(s(160));Rg(f,v,h),ne=null,en=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Cg(n,t),n=n.sibling}var xn=null;function Cg(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ar(3,t,t.return),Dl(3,t),ar(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(fe||a===null||Zn(a,a.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=xn;if(un(n,t),cn(t),l&512&&(fe||a===null||Zn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Br]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Be(f,l,a),f[Ee]=t,ce(f),l=f;break t;case"link":var v=Ty("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(l),Be(f,l,a),h.head.appendChild(f);break;case"meta":if(v=Ty("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(l),Be(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,ce(f),l=f}t.stateNode=l}else Ay(h,t.type,t.stateNode);else t.stateNode=Ey(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Ay(h,t.type,t.stateNode):Ey(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(fe||a===null||Zn(a,a.return)),a!==null&&l&4&&sf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(fe||a===null||Zn(a,a.return)),t.flags&32){h=t.stateNode;try{gn(h,"")}catch(H){$t(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(uf=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){$t(t,t.return,H)}}break;case 3:if(Bu=null,h=xn,xn=ku(n.containerInfo),un(n,t),xn=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ql(n.containerInfo)}catch(H){$t(t,t.return,H)}uf&&(uf=!1,Dg(t));break;case 4:l=xn,xn=ku(t.stateNode.containerInfo),un(n,t),cn(t),xn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(gf=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 22:h=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,B=xi,K=fe;if(xi=B||h,fe=K||w,un(n,t),fe=K,xi=B,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||xi||fe||fa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var Z=w.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){$t(w,w.return,H)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(H){$t(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,cf(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,cf(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Eg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=lf(t);Ru(t,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(gn(v,""),a.flags&=-33);var T=lf(t);Ru(t,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,B=lf(t);of(t,B,w);break;default:throw Error(s(161))}}catch(K){$t(t,t.return,K)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Dg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Dg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function sr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sg(t,n.alternate,n),n=n.sibling}function fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ar(4,n,n.return),fa(n);break;case 1:Zn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_g(n,n.return,a),fa(n);break;case 27:kl(n.stateNode);case 26:case 5:Zn(n,n.return),fa(n);break;case 22:n.memoizedState===null&&fa(n);break;case 30:fa(n);break;default:fa(n)}t=t.sibling}}function lr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:lr(h,f,a),Dl(4,f);break;case 1:if(lr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){$t(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)ip(w[h],T)}catch(B){$t(l,l.return,B)}}a&&v&64&&yg(f),Il(f,f.return);break;case 27:Tg(f);case 26:case 5:lr(h,f,a),a&&l===null&&v&4&&vg(f),Il(f,f.return);break;case 12:lr(h,f,a);break;case 13:lr(h,f,a),a&&v&4&&wg(h,f);break;case 22:f.memoizedState===null&&lr(h,f,a),Il(f,f.return);break;case 30:break;default:lr(h,f,a)}n=n.sibling}}function hf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function ff(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function Jn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ig(t,n,a,l),n=n.sibling}function Ig(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(t,n,a,l),h&2048&&Dl(9,n);break;case 1:Jn(t,n,a,l);break;case 3:Jn(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(h&2048){Jn(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else Jn(t,n,a,l);break;case 13:Jn(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(t,n,a,l):Nl(t,n):f._visibility&2?Jn(t,n,a,l):(f._visibility|=2,os(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&hf(v,n);break;case 24:Jn(t,n,a,l),h&2048&&ff(n.alternate,n);break;default:Jn(t,n,a,l)}}function os(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,T=a,w=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:os(f,v,T,w,h),Dl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?os(f,v,T,w,h):Nl(f,v):(K._visibility|=2,os(f,v,T,w,h)),h&&B&2048&&hf(v.alternate,v);break;case 24:os(f,v,T,w,h),h&&B&2048&&ff(v.alternate,v);break;default:os(f,v,T,w,h)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&hf(l.alternate,l);break;case 24:Nl(a,l),h&2048&&ff(l.alternate,l);break;default:Nl(a,l)}n=n.sibling}}var Vl=8192;function us(t){if(t.subtreeFlags&Vl)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 26:us(t),t.flags&Vl&&t.memoizedState!==null&&YT(xn,t.memoizedState,t.memoizedProps);break;case 5:us(t);break;case 3:case 4:var n=xn;xn=ku(t.stateNode.containerInfo),us(t),xn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Vl,Vl=16777216,us(t),Vl=n):us(t));break;default:us(t)}}function Vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ol(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,xg(l,t)}Vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&ar(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,wu(t)):Ol(t);break;default:Ol(t)}}function wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ve=l,xg(l,t)}Vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ar(8,n,n.return),wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,wu(n));break;default:wu(n)}t=t.sibling}}function xg(t,n){for(;Ve!==null;){var a=Ve;switch(a.tag){case 0:case 11:case 15:ar(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ve=l;else t:for(a=t;Ve!==null;){l=Ve;var h=l.sibling,f=l.return;if(bg(l),l===a){Ve=null;break t}if(h!==null){h.return=f,Ve=h;break t}Ve=f}}}var uT={getCacheForType:function(t){var n=Ge(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},cT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Jt=null,It=null,Ut=0,Gt=0,hn=null,or=!1,cs=!1,df=!1,Ui=0,ue=0,ur=0,da=0,mf=0,Rn=0,hs=0,xl=null,nn=null,pf=!1,gf=0,Cu=1/0,Du=null,cr=null,ze=0,hr=null,fs=null,ds=0,yf=0,_f=null,Mg=null,Ml=0,vf=null;function fn(){if((Ft&2)!==0&&Ut!==0)return Ut&-Ut;if(Y.T!==null){var t=ts;return t!==0?t:wf()}return Qi()}function Ug(){Rn===0&&(Rn=(Ut&536870912)===0||Bt?Hs():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,a){(t===Jt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(ms(t,0),fr(t,Ut,Rn,!1)),di(t,a),((Ft&2)===0||t!==Jt)&&(t===Jt&&((Ft&2)===0&&(da|=a),ue===4&&fr(t,Ut,Rn,!1)),Wn(t))}function Pg(t,n,a){if((Ft&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||zr(t,n),h=l?dT(t,n):Af(t,n,!0),f=l;do{if(h===0){cs&&!l&&fr(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!hT(a)){h=Af(t,n,!1),f=!1;continue}if(h===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=t;h=xl;var w=T.current.memoizedState.isDehydrated;if(w&&(ms(T,v).flags|=256),v=Af(T,v,!1),v!==2){if(df&&!w){T.errorRecoveryDisabledLanes|=f,da|=f,h=4;break t}f=nn,nn=h,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){ms(t,0),fr(t,n,0,!0);break}t:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:fr(l,n,Rn,!or);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=gf+300-mn(),10<h)){if(fr(l,n,Rn,!or),Va(l,0,!0)!==0)break t;l.timeoutHandle=hy(Lg.bind(null,l,a,nn,Du,pf,n,Rn,da,hs,or,f,2,-0,0),h);break t}Lg(l,a,nn,Du,pf,n,Rn,da,hs,or,f,0,-0,0)}}break}while(!0);Wn(t)}function Lg(t,n,a,l,h,f,v,T,w,B,K,Z,q,H){if(t.timeoutHandle=-1,Z=n.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:QT},Ng(n),Z=KT(),Z!==null)){t.cancelPendingCommit=Z(Fg.bind(null,t,n,f,a,l,h,v,T,w,K,1,q,H)),fr(t,f,v,!B);return}Fg(t,n,f,a,l,h,v,T,w)}function hT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!ln(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(t,n,a,l){n&=~mf,n&=~da,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var f=31-Fe(h),v=1<<f;l[f]=-1,h&=~v}a!==0&&kn(t,a,n)}function Iu(){return(Ft&6)===0?(Ul(0),!1):!0}function Ef(){if(It!==null){if(Gt===0)var t=It.return;else t=It,Ci=la=null,Ph(t),ss=null,Rl=0,t=It;for(;t!==null;)gg(t.alternate,t),t=t.return;It=null}}function ms(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ef(),Jt=t,It=a=bi(t.current,null),Ut=n,Gt=0,hn=null,or=!1,cs=zr(t,n),df=!1,hs=Rn=mf=da=ur=ue=0,nn=xl=null,pf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-Fe(l),f=1<<h;n|=t[h],l&=~f}return Ui=n,Zo(),a}function kg(t,n){wt=null,Y.H=gu,n===gl||n===su?(n=ep(),Gt=3):n===Jm?(n=ep(),Gt=4):Gt=n===ng?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,It===null&&(ue=1,Tu(t,En(n,t.current)))}function zg(){var t=Y.H;return Y.H=gu,t===null?gu:t}function Bg(){var t=Y.A;return Y.A=uT,t}function Tf(){ue=4,or||(Ut&4194048)!==Ut&&bn.current!==null||(cs=!0),(ur&134217727)===0&&(da&134217727)===0||Jt===null||fr(Jt,Ut,Rn,!1)}function Af(t,n,a){var l=Ft;Ft|=2;var h=zg(),f=Bg();(Jt!==t||Ut!==n)&&(Du=null,ms(t,n)),n=!1;var v=ue;t:do try{if(Gt!==0&&It!==null){var T=It,w=hn;switch(Gt){case 8:Ef(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var B=Gt;if(Gt=0,hn=null,ps(t,T,w,B),a&&cs){v=0;break t}break;default:B=Gt,Gt=0,hn=null,ps(t,T,w,B)}}fT(),v=ue;break}catch(K){kg(t,K)}while(!0);return n&&t.shellSuspendCounter++,Ci=la=null,Ft=l,Y.H=h,Y.A=f,It===null&&(Jt=null,Ut=0,Zo()),v}function fT(){for(;It!==null;)qg(It)}function dT(t,n){var a=Ft;Ft|=2;var l=zg(),h=Bg();Jt!==t||Ut!==n?(Du=null,Cu=mn()+500,ms(t,n)):cs=zr(t,n);t:do try{if(Gt!==0&&It!==null){n=It;var f=hn;e:switch(Gt){case 1:Gt=0,hn=null,ps(t,n,f,1);break;case 2:case 9:if(Wm(f)){Gt=0,hn=null,jg(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==t||(Gt=7),Wn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Wm(f)?(Gt=0,hn=null,jg(n)):(Gt=0,hn=null,ps(t,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||Sy(v)){Gt=0,hn=null;var w=T.sibling;if(w!==null)It=w;else{var B=T.return;B!==null?(It=B,Nu(B)):It=null}break e}}Gt=0,hn=null,ps(t,n,f,5);break;case 6:Gt=0,hn=null,ps(t,n,f,6);break;case 8:Ef(),ue=6;break t;default:throw Error(s(462))}}mT();break}catch(K){kg(t,K)}while(!0);return Ci=la=null,Y.H=l,Y.A=h,Ft=a,It!==null?0:(Jt=null,Ut=0,Zo(),ue)}function mT(){for(;It!==null&&!zs();)qg(It)}function qg(t){var n=mg(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?Nu(t):It=n}function jg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=og(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=og(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:Ph(n);default:gg(a,n),n=It=Hm(n,Ui),n=mg(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?Nu(t):It=n}function ps(t,n,a,l){Ci=la=null,Ph(n),ss=null,Rl=0;var h=n.return;try{if(iT(t,h,n,a,Ut)){ue=1,Tu(t,En(a,t.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,Tu(t,En(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:cs||(Ut&536870912)!==0?t=!1:(or=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hg(n,t)):Nu(n)}function Nu(t){var n=t;do{if((n.flags&32768)!==0){Hg(n,or);return}t=n.return;var a=aT(n.alternate,n,Ui);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);ue===0&&(ue=5)}function Hg(t,n){do{var a=sT(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);ue=6,It=null}function Fg(t,n,a,l,h,f,v,T,w){t.cancelPendingCommit=null;do Vu();while(ze!==0);if((Ft&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=hh,Gs(t,a,f,v,T,w),t===Jt&&(It=Jt=null,Ut=0),fs=n,hr=t,ds=a,yf=f,_f=h,Mg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,_T(Ur,function(){return Xg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=st.p,st.p=2,v=Ft,Ft|=4;try{lT(t,n,a)}finally{Ft=v,st.p=h,Y.T=l}}ze=1,Gg(),Qg(),Yg()}}function Gg(){if(ze===1){ze=0;var t=hr,n=fs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Ft;Ft|=4;try{Cg(n,t);var f=Mf,v=xm(t.containerInfo),T=f.focusedElem,w=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&Om(T.ownerDocument.documentElement,T)){if(w!==null&&sh(T)){var B=w.start,K=w.end;if(K===void 0&&(K=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(K,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),Et=T.textContent.length,yt=Math.min(w.start,Et),Xt=w.end===void 0?yt:Math.min(w.end,Et);!H.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var U=Vm(T,yt),N=Vm(T,Xt);if(U&&N&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var k=Z.createRange();k.setStart(U.node,U.offset),H.removeAllRanges(),yt>Xt?(H.addRange(k),H.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),H.addRange(k))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var X=Z[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Hu=!!xf,Mf=xf=null}finally{Ft=h,st.p=l,Y.T=a}}t.current=n,ze=2}}function Qg(){if(ze===2){ze=0;var t=hr,n=fs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=st.p;st.p=2;var h=Ft;Ft|=4;try{Sg(t,n.alternate,n)}finally{Ft=h,st.p=l,Y.T=a}}ze=3}}function Yg(){if(ze===4||ze===3){ze=0,wo();var t=hr,n=fs,a=ds,l=Mg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,fs=hr=null,Kg(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(cr=null),Oa(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(le,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Y.T,h=st.p,st.p=2,Y.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];f(T.value,{componentStack:T.stack})}}finally{Y.T=n,st.p=h}}(ds&3)!==0&&Vu(),Wn(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===vf?Ml++:(Ml=0,vf=t):Ml=0,Ul(0)}}function Kg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Vu(t){return Gg(),Qg(),Yg(),Xg()}function Xg(){if(ze!==5)return!1;var t=hr,n=yf;yf=0;var a=Oa(ds),l=Y.T,h=st.p;try{st.p=32>a?32:a,Y.T=null,a=_f,_f=null;var f=hr,v=ds;if(ze=0,fs=hr=null,ds=0,(Ft&6)!==0)throw Error(s(331));var T=Ft;if(Ft|=4,Og(f.current),Ig(f,f.current,v,a),Ft=T,Ul(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(le,f)}catch{}return!0}finally{st.p=h,Y.T=l,Kg(t,n)}}function $g(t,n,a){n=En(a,n),n=$h(t.stateNode,n,2),t=er(t,n,2),t!==null&&(di(t,2),Wn(t))}function $t(t,n,a){if(t.tag===3)$g(t,t,a);else for(;n!==null;){if(n.tag===3){$g(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(cr===null||!cr.has(l))){t=En(a,t),a=tg(2),l=er(n,a,2),l!==null&&(eg(a,l,n,t),di(l,2),Wn(l));break}}n=n.return}}function Sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new cT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(df=!0,h.add(a),t=pT.bind(null,t,n,a),n.then(t,t))}function pT(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ut&a)===a&&(ue===4||ue===3&&(Ut&62914560)===Ut&&300>mn()-gf?(Ft&2)===0&&ms(t,0):mf|=a,hs===Ut&&(hs=0)),Wn(t)}function Zg(t,n){n===0&&(n=Fs()),t=$a(t,n),t!==null&&(di(t,n),Wn(t))}function gT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Zg(t,a)}function yT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Zg(t,a)}function _T(t,n){return xr(t,n)}var Ou=null,gs=null,bf=!1,xu=!1,Rf=!1,ma=0;function Wn(t){t!==gs&&t.next===null&&(gs===null?Ou=gs=t:gs=gs.next=t),xu=!0,bf||(bf=!0,ET())}function Ul(t,n){if(!Rf&&xu){Rf=!0;do for(var a=!1,l=Ou;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var v=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Fe(42|t)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ey(l,f))}else f=Ut,f=Va(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zr(l,f)||(a=!0,ey(l,f));l=l.next}while(a);Rf=!1}}function vT(){Jg()}function Jg(){xu=bf=!1;var t=0;ma!==0&&(DT()&&(t=ma),ma=0);for(var n=mn(),a=null,l=Ou;l!==null;){var h=l.next,f=Wg(l,n);f===0?(l.next=null,a===null?Ou=h:a.next=h,h===null&&(gs=a)):(a=l,(t!==0||(f&3)!==0)&&(xu=!0)),l=h}Ul(t)}function Wg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Fe(f),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&l)!==0)&&(h[v]=js(T,n)):w<=n&&(t.expiredLanes|=T),f&=~T}if(n=Jt,a=Ut,a=Va(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||zr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Mr(l),Oa(a)){case 2:case 8:a=Ia;break;case 32:a=Ur;break;case 268435456:a=Na;break;default:a=Ur}return l=ty.bind(null,t),a=xr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Mr(l),t.callbackPriority=2,t.callbackNode=null,2}function ty(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Vu()&&t.callbackNode!==a)return null;var l=Ut;return l=Va(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Pg(t,l,n),Wg(t,mn()),t.callbackNode!=null&&t.callbackNode===a?ty.bind(null,t):null)}function ey(t,n){if(Vu())return null;Pg(t,n,!0)}function ET(){NT(function(){(Ft&6)!==0?xr(Bs,vT):Jg()})}function wf(){return ma===0&&(ma=Hs()),ma}function ny(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ka(""+t)}function iy(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function TT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var f=ny((h[me]||null).action),v=l.submitter;v&&(n=(n=v[me]||null)?ny(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new za("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ma!==0){var w=v?iy(h,v):new FormData(h);Gh(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?iy(h,v):new FormData(h),Gh(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var Cf=0;Cf<ch.length;Cf++){var Df=ch[Cf],AT=Df.toLowerCase(),ST=Df[0].toUpperCase()+Df.slice(1);On(AT,"on"+ST)}On(Pm,"onAnimationEnd"),On(Lm,"onAnimationIteration"),On(km,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(B0,"onTransitionRun"),On(q0,"onTransitionStart"),On(j0,"onTransitionCancel"),On(zm,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function ry(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],w=T.instance,B=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(K){Eu(K)}h.currentTarget=null,f=w}else for(v=0;v<l.length;v++){if(T=l[v],w=T.instance,B=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=B;try{f(h)}catch(K){Eu(K)}h.currentTarget=null,f=w}}}}function Nt(t,n){var a=n[Ys];a===void 0&&(a=n[Ys]=new Set);var l=t+"__bubble";a.has(l)||(ay(n,t,2,!1),a.add(l))}function If(t,n,a){var l=0;n&&(l|=4),ay(a,t,l,n)}var Mu="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[Mu]){t[Mu]=!0,Ks.forEach(function(a){a!=="selectionchange"&&(bT.has(a)||If(a,!1,t),If(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Mu]||(n[Mu]=!0,If("selectionchange",!1,n))}}function ay(t,n,a,l){switch(Iy(n)){case 2:var h=ZT;break;case 8:h=JT;break;default:h=Ff}a=h.bind(null,n,a,t),h=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function Vf(t,n,a,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=mi(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){l=f=v;continue t}T=T.parentNode}}l=l.return}Po(function(){var B=f,K=yn(a),Z=[];t:{var q=Bm.get(t);if(q!==void 0){var H=za,Et=t;switch(t){case"keypress":if(Fn(a)===0)break t;case"keydown":case"keyup":H=Ga;break;case"focusin":Et="focus",H=ja;break;case"focusout":Et="blur",H=ja;break;case"beforeblur":case"afterblur":H=ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Fo;break;case Pm:case Lm:case km:H=Ha;break;case zm:H=Qo;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=Qa;break;case"copy":case"cut":case"paste":H=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=sl;break;case"toggle":case"beforetoggle":H=Ko}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),U=yt?q!==null?q+"Capture":null:q;yt=[];for(var N=B,k;N!==null;){var X=N;if(k=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||k===null||U===null||(X=Yr(N,U),X!=null&&yt.push(Ll(N,X,k))),Xt)break;N=N.return}0<yt.length&&(q=new H(q,Et,null,a,K),Z.push({event:q,listeners:yt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==_i&&(Et=a.relatedTarget||a.fromElement)&&(mi(Et)||Et[pn]))break t;if((H||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Et=a.relatedTarget||a.toElement,H=B,Et=Et?mi(Et):null,Et!==null&&(Xt=c(Et),yt=Et.tag,Et!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Et=null)):(H=null,Et=B),H!==Et)){if(yt=vn,X="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(yt=sl,X="onPointerLeave",U="onPointerEnter",N="pointer"),Xt=H==null?q:Bn(H),k=Et==null?q:Bn(Et),q=new yt(X,N+"leave",H,a,K),q.target=Xt,q.relatedTarget=k,X=null,mi(K)===B&&(yt=new yt(U,N+"enter",Et,a,K),yt.target=k,yt.relatedTarget=Xt,X=yt),Xt=X,H&&Et)e:{for(yt=H,U=Et,N=0,k=yt;k;k=ys(k))N++;for(k=0,X=U;X;X=ys(X))k++;for(;0<N-k;)yt=ys(yt),N--;for(;0<k-N;)U=ys(U),k--;for(;N--;){if(yt===U||U!==null&&yt===U.alternate)break e;yt=ys(yt),U=ys(U)}yt=null}else yt=null;H!==null&&sy(Z,q,H,yt,!1),Et!==null&&Xt!==null&&sy(Z,Xt,Et,yt,!0)}}t:{if(q=B?Bn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var ut=Rm;else if(Ae(q))if(wm)ut=L0;else{ut=U0;var Dt=M0}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Ws(B.elementType)&&(ut=Rm):ut=P0;if(ut&&(ut=ut(t,B))){Si(Z,ut,a,K);break t}Dt&&Dt(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&$i(q,"number",q.value)}switch(Dt=B?Bn(B):window,t){case"focusin":(Ae(Dt)||Dt.contentEditable==="true")&&(Ya=Dt,lh=B,ul=null);break;case"focusout":ul=lh=Ya=null;break;case"mousedown":oh=!0;break;case"contextmenu":case"mouseup":case"dragend":oh=!1,Mm(Z,a,K);break;case"selectionchange":if(z0)break;case"keydown":case"keyup":Mm(Z,a,K)}var ft;if(Yn)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else xt?F(t,a)&&(_t="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(_&&a.locale!=="ko"&&(xt||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&xt&&(ft=el()):(Hn=K,Zi="value"in Hn?Hn.value:Hn.textContent,xt=!0)),Dt=Uu(B,_t),0<Dt.length&&(_t=new rl(_t,t,null,a,K),Z.push({event:_t,listeners:Dt}),ft?_t.data=ft:(ft=at(a),ft!==null&&(_t.data=ft)))),(ft=m?Te(t,a):Mt(t,a))&&(_t=Uu(B,"onBeforeInput"),0<_t.length&&(Dt=new rl("onBeforeInput","beforeinput",null,a,K),Z.push({event:Dt,listeners:_t}),Dt.data=ft)),TT(Z,t,B,a,K)}ry(Z,n)})}function Ll(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Uu(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yr(t,a),h!=null&&l.unshift(Ll(t,h,f)),h=Yr(t,n),h!=null&&l.push(Ll(t,h,f))),t.tag===3)return l;t=t.return}return[]}function ys(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sy(t,n,a,l,h){for(var f=n._reactName,v=[];a!==null&&a!==l;){var T=a,w=T.alternate,B=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||B===null||(w=B,h?(B=Yr(a,f),B!=null&&v.unshift(Ll(a,B,w))):h||(B=Yr(a,f),B!=null&&v.push(Ll(a,B,w)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var RT=/\r\n?/g,wT=/\u0000|\uFFFD/g;function ly(t){return(typeof t=="string"?t:""+t).replace(RT,`
`).replace(wT,"")}function oy(t,n){return n=ly(n),ly(t)===n}function Pu(){}function Kt(t,n,a,l,h,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":qn(t,"class",l);break;case"tabIndex":qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":qn(t,a,l);break;case"style":Js(t,l,f);break;case"data":if(n!=="object"){qn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ka(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ka(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":Pe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=th.get(a)||a,Xi(t,a,l))}}function Of(t,n,a,l,h,f){switch(a){case"style":Js(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=t[me]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Xi(t,a,l)}}}function Be(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,f,v,a,null)}}h&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var T=f=v=h=null,w=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":w=K;break;case"defaultChecked":B=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:Kt(t,n,l,K,a,null)}}Fr(t,f,T,w,B,v,h,!1),La(t);return;case"select":Nt("invalid",t),l=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(t,n,h,T,a,null)}n=f,a=v,t.multiple=!!l,n!=null?yi(t,!!l,n,!1):a!=null&&yi(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),f=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(t,n,v,T,a,null)}Gr(t,l,h,f),La(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,a,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Nt(Pl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,B,l,a,null)}return;default:if(Ws(n)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Of(t,n,K,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(t,n,T,l,a,null))}function CT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,B=null,K=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Z;default:l.hasOwnProperty(H)||Kt(t,n,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Z&&Kt(t,n,q,H,l,Z)}}sn(t,v,T,w,B,K,f,h);return;case"select":H=v=T=q=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":H=w;default:l.hasOwnProperty(f)||Kt(t,n,f,null,l,w)}for(h in l)if(f=l[h],w=a[h],l.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Kt(t,n,h,f,l,w)}n=T,a=v,l=H,q!=null?yi(t,!!a,q,!1):!!l!=!!a&&(n!=null?yi(t,!!a,n,!0):yi(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,l,h)}for(v in l)if(h=l[v],f=a[v],l.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Kt(t,n,v,h,l,f)}Qt(t,q,H);return;case"option":for(var Et in a)if(q=a[Et],a.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et))switch(Et){case"selected":t.selected=!1;break;default:Kt(t,n,Et,null,l,q)}for(w in l)if(q=l[w],H=a[w],l.hasOwnProperty(w)&&q!==H&&(q!=null||H!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,w,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)q=a[yt],a.hasOwnProperty(yt)&&q!=null&&!l.hasOwnProperty(yt)&&Kt(t,n,yt,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,B,q,l,H)}return;default:if(Ws(n)){for(var Xt in a)q=a[Xt],a.hasOwnProperty(Xt)&&q!==void 0&&!l.hasOwnProperty(Xt)&&Of(t,n,Xt,void 0,l,q);for(K in l)q=l[K],H=a[K],!l.hasOwnProperty(K)||q===H||q===void 0&&H===void 0||Of(t,n,K,q,l,H);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Kt(t,n,U,null,l,q);for(Z in l)q=l[Z],H=a[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||Kt(t,n,Z,q,l,H)}var xf=null,Mf=null;function Lu(t){return t.nodeType===9?t:t.ownerDocument}function uy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Uf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Pf=null;function DT(){var t=window.event;return t&&t.type==="popstate"?t===Pf?!1:(Pf=t,!0):(Pf=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,IT=typeof clearTimeout=="function"?clearTimeout:void 0,fy=typeof Promise=="function"?Promise:void 0,NT=typeof queueMicrotask=="function"?queueMicrotask:typeof fy<"u"?function(t){return fy.resolve(null).then(t).catch(VT)}:hy;function VT(t){setTimeout(function(){throw t})}function dr(t){return t==="head"}function dy(t,n){var a=n,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&kl(v.documentElement),a&2&&kl(v.body),a&4)for(a=v.head,kl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Br]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(f),Ql(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ql(n)}function Lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Lf(a),Ki(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function OT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Br])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Mn(t.nextSibling),t===null)break}return null}function xT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Mn(t.nextSibling),t===null))return null;return t}function kf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function MT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Mn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var zf=null;function my(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function py(t,n,a){switch(n=Lu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ki(t)}var wn=new Map,gy=new Set;function ku(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=st.d;st.d={f:UT,r:PT,D:LT,C:kT,L:zT,m:BT,X:jT,S:qT,M:HT};function UT(){var t=Pi.f(),n=Iu();return t||n}function PT(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Pp(n):Pi.r(t)}var _s=typeof document>"u"?null:document;function yy(t,n,a){var l=_s;if(l&&typeof n=="string"&&n){var h=pe(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),gy.has(h)||(gy.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function LT(t){Pi.D(t),yy("dns-prefetch",t,null)}function kT(t,n){Pi.C(t,n),yy("preconnect",t,n)}function zT(t,n,a){Pi.L(t,n,a);var l=_s;if(l&&t&&n){var h='link[rel="preload"][as="'+pe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(t)+'"]';var f=h;switch(n){case"style":f=vs(t);break;case"script":f=Es(t)}wn.has(f)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(zl(f))||n==="script"&&l.querySelector(Bl(f))||(n=l.createElement("link"),Be(n,"link",t),ce(n),l.head.appendChild(n)))}}function BT(t,n){Pi.m(t,n);var a=_s;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Es(t)}if(!wn.has(f)&&(t=E({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(f)))return}l=a.createElement("link"),Be(l,"link",t),ce(l),a.head.appendChild(l)}}}function qT(t,n,a){Pi.S(t,n,a);var l=_s;if(l&&t){var h=$e(l).hoistableStyles,f=vs(t);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(zl(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&Bf(t,a);var w=v=l.createElement("link");ce(w),Be(w,"link",t),w._p=new Promise(function(B,K){w.onload=B,w.onerror=K}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function jT(t,n){Pi.X(t,n);var a=_s;if(a&&t){var l=$e(a).hoistableScripts,h=Es(t),f=l.get(h);f||(f=a.querySelector(Bl(h)),f||(t=E({src:t,async:!0},n),(n=wn.get(h))&&qf(t,n),f=a.createElement("script"),ce(f),Be(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function HT(t,n){Pi.M(t,n);var a=_s;if(a&&t){var l=$e(a).hoistableScripts,h=Es(t),f=l.get(h);f||(f=a.querySelector(Bl(h)),f||(t=E({src:t,async:!0,type:"module"},n),(n=wn.get(h))&&qf(t,n),f=a.createElement("script"),ce(f),Be(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function _y(t,n,a,l){var h=(h=Tt.current)?ku(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=vs(a.href),a=$e(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=vs(a.href);var f=$e(h).hoistableStyles,v=f.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=h.querySelector(zl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||FT(h,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Es(a),a=$e(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function vs(t){return'href="'+pe(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function vy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function FT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",a),ce(n),t.head.appendChild(n))}function Es(t){return'[src="'+pe(t)+'"]'}function Bl(t){return"script[async]"+t}function Ey(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return n.instance=l,ce(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ce(l),Be(l,"style",h),zu(l,a.precedence,t),n.instance=l;case"stylesheet":h=vs(a.href);var f=t.querySelector(zl(h));if(f)return n.state.loading|=4,n.instance=f,ce(f),f;l=vy(a),(h=wn.get(h))&&Bf(l,h),f=(t.ownerDocument||t).createElement("link"),ce(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Be(f,"link",l),n.state.loading|=4,zu(f,a.precedence,t),n.instance=f;case"script":return f=Es(a.src),(h=t.querySelector(Bl(f)))?(n.instance=h,ce(h),h):(l=a,(h=wn.get(f))&&(l=E({},a),qf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ce(h),Be(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,zu(l,a.precedence,t));return n.instance}function zu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function qf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Bu=null;function Ty(t,n,a){if(Bu===null){var l=new Map,h=Bu=new Map;h.set(a,l)}else h=Bu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Br]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var T=l.get(v);T?T.push(f):l.set(v,[f])}}return l}function Ay(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function GT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Sy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ql=null;function QT(){}function YT(t,n,a){if(ql===null)throw Error(s(475));var l=ql;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=vs(a.href),f=t.querySelector(zl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,ce(f);return}f=t.ownerDocument||t,a=vy(a),(h=wn.get(h))&&Bf(a,h),f=f.createElement("link"),ce(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),Be(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=qu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function KT(){if(ql===null)throw Error(s(475));var t=ql;return t.stylesheets&&t.count===0&&jf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&jf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qu(){if(this.count--,this.count===0){if(this.stylesheets)jf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ju=null;function jf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ju=new Map,n.forEach(XT,t),ju=null,qu.call(t))}function XT(t,n){if(!(n.state.loading&4)){var a=ju.get(t);if(a)var l=a.get(null);else{a=new Map,ju.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,h),a.set(v,h),this.count++,l=qu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:nt,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function $T(t,n,a,l,h,f,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function by(t,n,a,l,h,f,v,T,w,B,K,Z){return t=new $T(t,n,a,v,T,w,B,Z),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=Ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},wh(f),t}function Ry(t){return t?(t=Za,t):Za}function wy(t,n,a,l,h,f){h=Ry(h),l.context===null?l.context=h:l.pendingContext=h,l=tr(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=er(t,l,n),a!==null&&(dn(a,t,n),_l(a,t,n))}function Cy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Hf(t,n){Cy(t,n),(t=t.alternate)&&Cy(t,n)}function Dy(t){if(t.tag===13){var n=$a(t,67108864);n!==null&&dn(n,t,67108864),Hf(t,67108864)}}var Hu=!0;function ZT(t,n,a,l){var h=Y.T;Y.T=null;var f=st.p;try{st.p=2,Ff(t,n,a,l)}finally{st.p=f,Y.T=h}}function JT(t,n,a,l){var h=Y.T;Y.T=null;var f=st.p;try{st.p=8,Ff(t,n,a,l)}finally{st.p=f,Y.T=h}}function Ff(t,n,a,l){if(Hu){var h=Gf(l);if(h===null)Vf(t,n,l,Fu,a),Ny(t,l);else if(t1(h,t,n,a,l))l.stopPropagation();else if(Ny(t,l),n&4&&-1<WT.indexOf(t)){for(;h!==null;){var f=zn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=In(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-Fe(v);T.entanglements[1]|=w,v&=~w}Wn(f),(Ft&6)===0&&(Cu=mn()+500,Ul(0))}}break;case 13:T=$a(f,2),T!==null&&dn(T,f,2),Iu(),Hf(f,2)}if(f=Gf(l),f===null&&Vf(t,n,l,Fu,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Vf(t,n,l,null,a)}}function Gf(t){return t=yn(t),Qf(t)}var Fu=null;function Qf(t){if(Fu=null,t=mi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Fu=t,null}function Iy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Kc()){case Bs:return 2;case Ia:return 8;case Ur:case Xc:return 32;case Na:return 268435456;default:return 32}default:return 32}}var Yf=!1,mr=null,pr=null,gr=null,Hl=new Map,Fl=new Map,yr=[],WT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(t,n){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Hl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(n.pointerId)}}function Gl(t,n,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=zn(n),n!==null&&Dy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function t1(t,n,a,l,h){switch(n){case"focusin":return mr=Gl(mr,t,n,a,l,h),!0;case"dragenter":return pr=Gl(pr,t,n,a,l,h),!0;case"mouseover":return gr=Gl(gr,t,n,a,l,h),!0;case"pointerover":var f=h.pointerId;return Hl.set(f,Gl(Hl.get(f)||null,t,n,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Fl.set(f,Gl(Fl.get(f)||null,t,n,a,l,h)),!0}return!1}function Vy(t){var n=mi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Io(t.priority,function(){if(a.tag===13){var l=fn();l=Gi(l);var h=$a(a,l);h!==null&&dn(h,a,l),Hf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Gf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_i=l,a.target.dispatchEvent(l),_i=null}else return n=zn(a),n!==null&&Dy(n),t.blockedOn=a,!1;n.shift()}return!0}function Oy(t,n,a){Gu(t)&&a.delete(n)}function e1(){Yf=!1,mr!==null&&Gu(mr)&&(mr=null),pr!==null&&Gu(pr)&&(pr=null),gr!==null&&Gu(gr)&&(gr=null),Hl.forEach(Oy),Fl.forEach(Oy)}function Qu(t,n){t.blockedOn===n&&(t.blockedOn=null,Yf||(Yf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,e1)))}var Yu=null;function xy(t){Yu!==t&&(Yu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yu===t&&(Yu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Qf(l||a)===null)continue;break}var f=zn(a);f!==null&&(t.splice(n,3),n-=3,Gh(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ql(t){function n(w){return Qu(w,t)}mr!==null&&Qu(mr,t),pr!==null&&Qu(pr,t),gr!==null&&Qu(gr,t),Hl.forEach(n),Fl.forEach(n);for(var a=0;a<yr.length;a++){var l=yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)Vy(a),a.blockedOn===null&&yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],v=h[me]||null;if(typeof f=="function")v||xy(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[me]||null)T=v.formAction;else if(Qf(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),xy(a)}}}function Kf(t){this._internalRoot=t}Ku.prototype.render=Kf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();wy(a,l,t,n,null,null)},Ku.prototype.unmount=Kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;wy(t.current,2,null,t,null,null),Iu(),n[pn]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<yr.length&&n!==0&&n<yr[a].priority;a++);yr.splice(a,0,t),a===0&&Vy(t)}};var My=e.version;if(My!=="19.1.1")throw Error(s(527,My,"19.1.1"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var n1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{le=Xu.inject(n1),Ht=Xu}catch{}}return Kl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=$p,f=Zp,v=Jp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=by(t,1,!1,null,null,a,l,h,f,v,T,null),t[pn]=n.current,Nf(t),new Kf(n)},Kl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=$p,v=Zp,T=Jp,w=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),n=by(t,1,!0,n,a??null,l,h,f,v,T,w,B),n.context=Ry(null),a=n.current,l=fn(),l=Gi(l),h=tr(l),h.callback=null,er(a,h,l),a=l,n.current.lanes=a,di(n,a),Wn(n),t[pn]=n.current,Nf(t),new Ku(n)},Kl.version="19.1.1",Kl}var Fy;function d1(){if(Fy)return Zf.exports;Fy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zf.exports=f1(),Zf.exports}var m1=d1();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gy="popstate";function p1(r={}){function e(s,o){let{pathname:c,search:d,hash:p}=s.location;return gd("",{pathname:c,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:so(o)}return y1(e,i,null,r)}function re(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g1(){return Math.random().toString(36).substring(2,10)}function Qy(r,e){return{usr:r.state,key:r.key,idx:e}}function gd(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?xs(e):e,state:i,key:e&&e.key||s||g1()}}function so({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function xs(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function y1(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,d=o.history,p="POP",g=null,y=E();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function E(){return(d.state||{idx:null}).idx}function b(){p="POP";let j=E(),$=j==null?null:j-y;y=j,g&&g({action:p,location:G.location,delta:$})}function S(j,$){p="PUSH";let et=gd(G.location,j,$);y=E()+1;let nt=Qy(et,y),mt=G.createHref(et);try{d.pushState(nt,"",mt)}catch(ct){if(ct instanceof DOMException&&ct.name==="DataCloneError")throw ct;o.location.assign(mt)}c&&g&&g({action:p,location:G.location,delta:1})}function M(j,$){p="REPLACE";let et=gd(G.location,j,$);y=E();let nt=Qy(et,y),mt=G.createHref(et);d.replaceState(nt,"",mt),c&&g&&g({action:p,location:G.location,delta:0})}function z(j){return _1(j)}let G={get action(){return p},get location(){return r(o,d)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Gy,b),g=j,()=>{o.removeEventListener(Gy,b),g=null}},createHref(j){return e(o,j)},createURL:z,encodeLocation(j){let $=z(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:M,go(j){return d.go(j)}};return G}function _1(r,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:so(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function pv(r,e,i="/"){return v1(r,e,i,!1)}function v1(r,e,i,s){let o=typeof e=="string"?xs(e):e,c=zi(o.pathname||"/",i);if(c==null)return null;let d=gv(r);E1(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=V1(c);p=I1(d[g],y,s)}return p}function gv(r,e=[],i=[],s=""){let o=(c,d,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};g.relativePath.startsWith("/")&&(re(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=Li([s,g.relativePath]),E=i.concat(g);c.children&&c.children.length>0&&(re(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gv(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:C1(y,c.index),routesMeta:E})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))o(c,d);else for(let p of yv(c.path))o(c,d,p)}),e}function yv(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let d=yv(s.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...d),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function E1(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:D1(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var T1=/^:[\w-]+$/,A1=3,S1=2,b1=1,R1=10,w1=-2,Yy=r=>r==="*";function C1(r,e){let i=r.split("/"),s=i.length;return i.some(Yy)&&(s+=w1),e&&(s+=S1),i.filter(o=>!Yy(o)).reduce((o,c)=>o+(T1.test(c)?A1:c===""?b1:R1),s)}function D1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function I1(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",d=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",b=fc({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),S=g.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=fc({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),d.push({params:o,pathname:Li([c,b.pathname]),pathnameBase:U1(Li([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=Li([c,b.pathnameBase]))}return d}function fc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=N1(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let z=p[S]||"";d=c.slice(0,c.length-z.length).replace(/(.)\/+$/,"$1")}const M=p[S];return b&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:r}}function N1(r,e=!1,i=!0){ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function V1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function zi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function O1(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?xs(r):r;return{pathname:i?i.startsWith("/")?i:x1(i,e):e,search:P1(s),hash:L1(o)}}function x1(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function ed(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function M1(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function _v(r){let e=M1(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function vv(r,e,i,s=!1){let o;typeof r=="string"?o=xs(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),ed("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),ed("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),ed("#","search","hash",o)));let c=r===""||o.pathname==="",d=c?"/":o.pathname,p;if(d==null)p=i;else{let b=e.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}p=b>=0?e[b]:"/"}let g=O1(o,p),y=d&&d!=="/"&&d.endsWith("/"),E=(c||d===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Li=r=>r.join("/").replace(/\/\/+/g,"/"),U1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),P1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,L1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function k1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Ev=["POST","PUT","PATCH","DELETE"];new Set(Ev);var z1=["GET",...Ev];new Set(z1);var Ms=Q.createContext(null);Ms.displayName="DataRouter";var Oc=Q.createContext(null);Oc.displayName="DataRouterState";Q.createContext(!1);var Tv=Q.createContext({isTransitioning:!1});Tv.displayName="ViewTransition";var B1=Q.createContext(new Map);B1.displayName="Fetchers";var q1=Q.createContext(null);q1.displayName="Await";var ui=Q.createContext(null);ui.displayName="Navigation";var yo=Q.createContext(null);yo.displayName="Location";var Hi=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Hi.displayName="Route";var qd=Q.createContext(null);qd.displayName="RouteError";function j1(r,{relative:e}={}){re(_o(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=Q.useContext(ui),{hash:o,pathname:c,search:d}=vo(r,{relative:e}),p=c;return i!=="/"&&(p=c==="/"?i:Li([i,c])),s.createHref({pathname:p,search:d,hash:o})}function _o(){return Q.useContext(yo)!=null}function Sa(){return re(_o(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(yo).location}var Av="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Sv(r){Q.useContext(ui).static||Q.useLayoutEffect(r)}function H1(){let{isDataRoute:r}=Q.useContext(Hi);return r?nA():F1()}function F1(){re(_o(),"useNavigate() may be used only in the context of a <Router> component.");let r=Q.useContext(Ms),{basename:e,navigator:i}=Q.useContext(ui),{matches:s}=Q.useContext(Hi),{pathname:o}=Sa(),c=JSON.stringify(_v(s)),d=Q.useRef(!1);return Sv(()=>{d.current=!0}),Q.useCallback((g,y={})=>{if(ai(d.current,Av),!d.current)return;if(typeof g=="number"){i.go(g);return}let E=vv(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Li([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}Q.createContext(null);function vo(r,{relative:e}={}){let{matches:i}=Q.useContext(Hi),{pathname:s}=Sa(),o=JSON.stringify(_v(i));return Q.useMemo(()=>vv(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function G1(r,e){return bv(r,e)}function bv(r,e,i,s){re(_o(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=Q.useContext(ui),{matches:c}=Q.useContext(Hi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",E=d&&d.route;{let $=E&&E.path||"";Rv(g,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=Sa(),S;if(e){let $=typeof e=="string"?xs(e):e;re(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),S=$}else S=b;let M=S.pathname||"/",z=M;if(y!=="/"){let $=y.replace(/^\//,"").split("/");z="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let G=pv(r,{pathname:z});ai(E||G!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),ai(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=$1(G&&G.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Li([y,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:Li([y,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,i,s);return e&&j?Q.createElement(yo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function Q1(){let r=eA(),e=k1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=Q.createElement(Q.Fragment,null,Q.createElement("p",null," Hey developer "),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:c},"ErrorBoundary")," or"," ",Q.createElement("code",{style:c},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),i?Q.createElement("pre",{style:o},i):null,d)}var Y1=Q.createElement(Q1,null),K1=class extends Q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Q.createElement(Hi.Provider,{value:this.props.routeContext},Q.createElement(qd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function X1({routeContext:r,match:e,children:i}){let s=Q.useContext(Ms);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),Q.createElement(Hi.Provider,{value:r},i)}function $1(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i?.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);re(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,p=-1;if(i)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:E,errors:b}=i,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let b,S=!1,M=null,z=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,M=y.route.errorElement||Y1,d&&(p<0&&E===0?(Rv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,z=null):p===E&&(S=!0,z=y.route.hydrateFallbackElement||null)));let G=e.concat(o.slice(0,E+1)),j=()=>{let $;return b?$=M:S?$=z:y.route.Component?$=Q.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,Q.createElement(X1,{match:y,routeContext:{outlet:g,matches:G,isDataRoute:i!=null},children:$})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?Q.createElement(K1,{location:i.location,revalidation:i.revalidation,component:M,error:b,children:j(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):j()},null)}function jd(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z1(r){let e=Q.useContext(Ms);return re(e,jd(r)),e}function J1(r){let e=Q.useContext(Oc);return re(e,jd(r)),e}function W1(r){let e=Q.useContext(Hi);return re(e,jd(r)),e}function Hd(r){let e=W1(r),i=e.matches[e.matches.length-1];return re(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function tA(){return Hd("useRouteId")}function eA(){let r=Q.useContext(qd),e=J1("useRouteError"),i=Hd("useRouteError");return r!==void 0?r:e.errors?.[i]}function nA(){let{router:r}=Z1("useNavigate"),e=Hd("useNavigate"),i=Q.useRef(!1);return Sv(()=>{i.current=!0}),Q.useCallback(async(o,c={})=>{ai(i.current,Av),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Ky={};function Rv(r,e,i){!e&&!Ky[r]&&(Ky[r]=!0,ai(!1,i))}Q.memo(iA);function iA({routes:r,future:e,state:i}){return bv(r,void 0,i,e)}function ic(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rA({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){re(!_o(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=Q.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof i=="string"&&(i=xs(i));let{pathname:g="/",search:y="",hash:E="",state:b=null,key:S="default"}=i,M=Q.useMemo(()=>{let z=zi(g,d);return z==null?null:{location:{pathname:z,search:y,hash:E,state:b,key:S},navigationType:s}},[d,g,y,E,b,S,s]);return ai(M!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:Q.createElement(ui.Provider,{value:p},Q.createElement(yo.Provider,{children:e,value:M}))}function aA({children:r,location:e}){return G1(yd(r),e)}function yd(r,e=[]){let i=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let c=[...e,o];if(s.type===Q.Fragment){i.push.apply(i,yd(s.props.children,c));return}re(s.type===ic,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=yd(s.props.children,c)),i.push(d)}),i}var rc="get",ac="application/x-www-form-urlencoded";function xc(r){return r!=null&&typeof r.tagName=="string"}function sA(r){return xc(r)&&r.tagName.toLowerCase()==="button"}function lA(r){return xc(r)&&r.tagName.toLowerCase()==="form"}function oA(r){return xc(r)&&r.tagName.toLowerCase()==="input"}function uA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cA(r,e){return r.button===0&&(!e||e==="_self")&&!uA(r)}var $u=null;function hA(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var fA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nd(r){return r!=null&&!fA.has(r)?(ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ac}"`),null):r}function dA(r,e){let i,s,o,c,d;if(lA(r)){let p=r.getAttribute("action");s=p?zi(p,e):null,i=r.getAttribute("method")||rc,o=nd(r.getAttribute("enctype"))||ac,c=new FormData(r)}else if(sA(r)||oA(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?zi(g,e):null,i=r.getAttribute("formmethod")||p.getAttribute("method")||rc,o=nd(r.getAttribute("formenctype"))||nd(p.getAttribute("enctype"))||ac,c=new FormData(p,r),!hA()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(xc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=rc,s=null,o=ac,d=r}return c&&o==="text/plain"&&(d=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Fd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function mA(r,e,i){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${i}`:e&&zi(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${i}`,s}async function pA(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yA(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await pA(c,i);return d.links?d.links():[]}return[]}));return TA(s.flat(1).filter(gA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Xy(r,e,i,s,o,c){let d=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,p=(g,y)=>i[y].pathname!==g.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function _A(r,e,{includeHydrateFallback:i}={}){return vA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function vA(r){return[...new Set(r)]}function EA(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function TA(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(EA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function wv(){let r=Q.useContext(Ms);return Fd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function AA(){let r=Q.useContext(Oc);return Fd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Gd=Q.createContext(void 0);Gd.displayName="FrameworkContext";function Cv(){let r=Q.useContext(Gd);return Fd(r,"You must render this element inside a <HydratedRouter> element"),r}function SA(r,e){let i=Q.useContext(Gd),[s,o]=Q.useState(!1),[c,d]=Q.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=e,S=Q.useRef(null);Q.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let G=$=>{$.forEach(et=>{d(et.isIntersecting)})},j=new IntersectionObserver(G,{threshold:.5});return S.current&&j.observe(S.current),()=>{j.disconnect()}}},[r]),Q.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let M=()=>{o(!0)},z=()=>{o(!1),d(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:Xl(p,M),onBlur:Xl(g,z),onMouseEnter:Xl(y,M),onMouseLeave:Xl(E,z),onTouchStart:Xl(b,M)}]:[!1,S,{}]}function Xl(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function bA({page:r,...e}){let{router:i}=wv(),s=Q.useMemo(()=>pv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?Q.createElement(wA,{page:r,matches:s,...e}):null}function RA(r){let{manifest:e,routeModules:i}=Cv(),[s,o]=Q.useState([]);return Q.useEffect(()=>{let c=!1;return yA(r,e,i).then(d=>{c||o(d)}),()=>{c=!0}},[r,e,i]),s}function wA({page:r,matches:e,...i}){let s=Sa(),{manifest:o,routeModules:c}=Cv(),{basename:d}=wv(),{loaderData:p,matches:g}=AA(),y=Q.useMemo(()=>Xy(r,e,g,o,s,"data"),[r,e,g,o,s]),E=Q.useMemo(()=>Xy(r,e,g,o,s,"assets"),[r,e,g,o,s]),b=Q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,G=!1;if(e.forEach($=>{let et=o.routes[$.route.id];!et||!et.hasLoader||(!y.some(nt=>nt.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||et.hasClientLoader?G=!0:z.add($.route.id))}),z.size===0)return[];let j=mA(r,d,"data");return G&&z.size>0&&j.searchParams.set("_routes",e.filter($=>z.has($.route.id)).map($=>$.route.id).join(",")),[j.pathname+j.search]},[d,p,s,o,y,e,r,c]),S=Q.useMemo(()=>_A(E,o),[E,o]),M=RA(E);return Q.createElement(Q.Fragment,null,b.map(z=>Q.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...i})),S.map(z=>Q.createElement("link",{key:z,rel:"modulepreload",href:z,...i})),M.map(({key:z,link:G})=>Q.createElement("link",{key:z,...G})))}function CA(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Dv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Dv&&(window.__reactRouterVersion="7.7.1")}catch{}function DA({basename:r,children:e,window:i}){let s=Q.useRef();s.current==null&&(s.current=p1({window:i,v5Compat:!0}));let o=s.current,[c,d]=Q.useState({action:o.action,location:o.location}),p=Q.useCallback(g=>{Q.startTransition(()=>d(g))},[d]);return Q.useLayoutEffect(()=>o.listen(p),[o,p]),Q.createElement(rA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var Iv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qd=Q.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:E,viewTransition:b,...S},M){let{basename:z}=Q.useContext(ui),G=typeof y=="string"&&Iv.test(y),j,$=!1;if(typeof y=="string"&&G&&(j=y,Dv))try{let C=new URL(window.location.href),V=y.startsWith("//")?new URL(C.protocol+y):new URL(y),x=zi(V.pathname,z);V.origin===C.origin&&x!=null?y=x+V.search+V.hash:$=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=j1(y,{relative:o}),[nt,mt,ct]=SA(s,S),Rt=OA(y,{replace:d,state:p,target:g,preventScrollReset:E,relative:o,viewTransition:b});function O(C){e&&e(C),C.defaultPrevented||Rt(C)}let R=Q.createElement("a",{...S,...ct,href:j||et,onClick:$||c?e:O,ref:CA(M,mt),target:g,"data-discover":!G&&i==="render"?"true":void 0});return nt&&!G?Q.createElement(Q.Fragment,null,R,Q.createElement(bA,{page:et})):R});Qd.displayName="Link";var IA=Q.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:d,viewTransition:p,children:g,...y},E){let b=vo(d,{relative:y.relative}),S=Sa(),M=Q.useContext(Oc),{navigator:z,basename:G}=Q.useContext(ui),j=M!=null&&LA(b)&&p===!0,$=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,et=S.pathname,nt=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;i||(et=et.toLowerCase(),nt=nt?nt.toLowerCase():null,$=$.toLowerCase()),nt&&G&&(nt=zi(nt,G)||nt);const mt=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ct=et===$||!o&&et.startsWith($)&&et.charAt(mt)==="/",Rt=nt!=null&&(nt===$||!o&&nt.startsWith($)&&nt.charAt($.length)==="/"),O={isActive:ct,isPending:Rt,isTransitioning:j},R=ct?e:void 0,C;typeof s=="function"?C=s(O):C=[s,ct?"active":null,Rt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let V=typeof c=="function"?c(O):c;return Q.createElement(Qd,{...y,"aria-current":R,className:C,ref:E,style:V,to:d,viewTransition:p},typeof g=="function"?g(O):g)});IA.displayName="NavLink";var NA=Q.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:d=rc,action:p,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:b,...S},M)=>{let z=UA(),G=PA(p,{relative:y}),j=d.toLowerCase()==="get"?"get":"post",$=typeof p=="string"&&Iv.test(p),et=nt=>{if(g&&g(nt),nt.defaultPrevented)return;nt.preventDefault();let mt=nt.nativeEvent.submitter,ct=mt?.getAttribute("formmethod")||d;z(mt||nt.currentTarget,{fetcherKey:e,method:ct,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return Q.createElement("form",{ref:M,method:j,action:G,onSubmit:s?g:et,...S,"data-discover":!$&&r==="render"?"true":void 0})});NA.displayName="Form";function VA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nv(r){let e=Q.useContext(Ms);return re(e,VA(r)),e}function OA(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:d}={}){let p=H1(),g=Sa(),y=vo(r,{relative:c});return Q.useCallback(E=>{if(cA(E,e)){E.preventDefault();let b=i!==void 0?i:so(g)===so(y);p(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:d})}},[g,p,y,i,s,e,r,o,c,d])}var xA=0,MA=()=>`__${String(++xA)}__`;function UA(){let{router:r}=Nv("useSubmit"),{basename:e}=Q.useContext(ui),i=tA();return Q.useCallback(async(s,o={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=dA(s,e);if(o.navigate===!1){let E=o.fetcherKey||MA();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function PA(r,{relative:e}={}){let{basename:i}=Q.useContext(ui),s=Q.useContext(Hi);re(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...vo(r||".",{relative:e})},d=Sa();if(r==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(E=>E==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let E=p.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:Li([i,c.pathname])),so(c)}function LA(r,{relative:e}={}){let i=Q.useContext(Tv);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Nv("useViewTransitionState"),o=vo(r,{relative:e});if(!i.isTransitioning)return!1;let c=zi(i.currentLocation.pathname,s)||i.currentLocation.pathname,d=zi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return fc(o.pathname,d)!=null||fc(o.pathname,c)!=null}const kA=()=>{};var $y={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},zA=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Ov={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=c>>2,b=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,M=y&63;g||(M=64,d||(S=64)),s.push(i[E],i[b],i[S],i[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Vv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||b==null)throw new BA;const S=c<<2|p>>4;if(s.push(S),y!==64){const M=p<<4&240|y>>2;if(s.push(M),b!==64){const z=y<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qA=function(r){const e=Vv(r);return Ov.encodeByteArray(e,!0)},dc=function(r){return qA(r).replace(/\./g,"")},jA=function(r){try{return Ov.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>HA().__FIREBASE_DEFAULTS__,GA=()=>{if(typeof process>"u"||typeof $y>"u")return;const r=$y.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},QA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jA(r[1]);return e&&JSON.parse(e)},Yd=()=>{try{return kA()||FA()||GA()||QA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},YA=r=>Yd()?.emulatorHosts?.[r],xv=r=>{const e=YA(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},Mv=()=>Yd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Uv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dc(JSON.stringify(i)),dc(JSON.stringify(d)),""].join(".")}const eo={};function XA(){const r={prod:[],emulator:[]};for(const e of Object.keys(eo))eo[e]?r.emulator.push(e):r.prod.push(e);return r}function $A(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Zy=!1;function Lv(r,e){if(typeof window>"u"||typeof document>"u"||!Mc(window.location.host)||eo[r]===e||eo[r]||Zy)return;eo[r]=e;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=XA().prod.length>0;function d(){const S=document.getElementById(s);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Zy=!0,d()},S}function E(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=$A(s),M=i("text"),z=document.getElementById(M)||document.createElement("span"),G=i("learnmore"),j=document.getElementById(G)||document.createElement("a"),$=i("preprendIcon"),et=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const nt=S.element;p(nt),E(j,G);const mt=y();g(et,$),nt.append(et,z,j,mt),document.body.appendChild(nt)}c?(z.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){const r=Yd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){return!JA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class ba extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=nS,Object.setPrototypeOf(this,ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kv.prototype.create)}}class kv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?iS(c,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ba(o,p,s)}}function iS(r,e){return r.replace(rS,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rS=/\{\$([^}]+)}/g;function mc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Jy(c)&&Jy(d)){if(!mc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Jy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(r){return r&&r._delegate?r._delegate:r}class ws{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new KA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lS(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);s===p&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const c=this.instances.get(s);return c&&e(c,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sS(r){return r===pa?void 0:r}function lS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new aS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const uS={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},cS=Lt.INFO,hS={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},fS=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=hS[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zv{constructor(e){this.name=e,this._logLevel=cS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const dS=(r,e)=>e.some(i=>r instanceof i);let Wy,t_;function mS(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return t_||(t_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,_d=new WeakMap,qv=new WeakMap,id=new WeakMap,Kd=new WeakMap;function gS(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Bv.set(i,r)}).catch(()=>{}),Kd.set(e,r),e}function yS(r){if(_d.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});_d.set(r,e)}let vd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return _d.get(r);if(e==="objectStoreNames")return r.objectStoreNames||qv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function _S(r){vd=r(vd)}function vS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(rd(this),e,...i);return qv.set(s,e.sort?e.sort():[e]),Er(s)}:pS().includes(r)?function(...e){return r.apply(rd(this),e),Er(Bv.get(this))}:function(...e){return Er(r.apply(rd(this),e))}}function ES(r){return typeof r=="function"?vS(r):(r instanceof IDBTransaction&&yS(r),dS(r,mS())?new Proxy(r,vd):r)}function Er(r){if(r instanceof IDBRequest)return gS(r);if(id.has(r))return id.get(r);const e=ES(r);return e!==r&&(id.set(r,e),Kd.set(e,r)),e}const rd=r=>Kd.get(r);function TS(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),p=Er(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Er(d.result),g.oldVersion,g.newVersion,Er(d.transaction),g)}),i&&d.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const AS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],ad=new Map;function e_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(ad.get(e))return ad.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=SS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||AS.includes(i)))return;const c=async function(d,...p){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&g.done]))[0]};return ad.set(e,c),c}_S(r=>({...r,get:(e,i,s)=>e_(e,i)||r.get(e,i,s),has:(e,i)=>!!e_(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function RS(r){return r.getComponent()?.type==="VERSION"}const Ed="@firebase/app",n_="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new zv("@firebase/app"),wS="@firebase/app-compat",CS="@firebase/analytics-compat",DS="@firebase/analytics",IS="@firebase/app-check-compat",NS="@firebase/app-check",VS="@firebase/auth",OS="@firebase/auth-compat",xS="@firebase/database",MS="@firebase/data-connect",US="@firebase/database-compat",PS="@firebase/functions",LS="@firebase/functions-compat",kS="@firebase/installations",zS="@firebase/installations-compat",BS="@firebase/messaging",qS="@firebase/messaging-compat",jS="@firebase/performance",HS="@firebase/performance-compat",FS="@firebase/remote-config",GS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",KS="@firebase/firestore",XS="@firebase/ai",$S="@firebase/firestore-compat",ZS="firebase",JS="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td="[DEFAULT]",WS={[Ed]:"fire-core",[wS]:"fire-core-compat",[DS]:"fire-analytics",[CS]:"fire-analytics-compat",[NS]:"fire-app-check",[IS]:"fire-app-check-compat",[VS]:"fire-auth",[OS]:"fire-auth-compat",[xS]:"fire-rtdb",[MS]:"fire-data-connect",[US]:"fire-rtdb-compat",[PS]:"fire-fn",[LS]:"fire-fn-compat",[kS]:"fire-iid",[zS]:"fire-iid-compat",[BS]:"fire-fcm",[qS]:"fire-fcm-compat",[jS]:"fire-perf",[HS]:"fire-perf-compat",[FS]:"fire-rc",[GS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[KS]:"fire-fst",[$S]:"fire-fst-compat",[XS]:"fire-vertex","fire-js":"fire-js",[ZS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,tb=new Map,Ad=new Map;function i_(r,e){try{r.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function lo(r){const e=r.name;if(Ad.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;Ad.set(e,r);for(const i of pc.values())i_(i,r);for(const i of tb.values())i_(i,r);return!0}function jv(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function Hv(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new kv("app","Firebase",eb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv=JS;function Gv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Td,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=Mv()),!i)throw Tr.create("no-options");const c=pc.get(o);if(c){if(mc(i,c.options)&&mc(s,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new oS(o);for(const g of Ad.values())d.addComponent(g);const p=new nb(i,s,d);return pc.set(o,p),p}function Qv(r=Td){const e=pc.get(r);if(!e&&r===Td&&Mv())return Gv();if(!e)throw Tr.create("no-app",{appName:r});return e}function Ar(r,e,i){let s=WS[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(d.join(" "));return}lo(new ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="firebase-heartbeat-database",rb=1,oo="firebase-heartbeat-store";let sd=null;function Yv(){return sd||(sd=TS(ib,rb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(oo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),sd}async function ab(r){try{const i=(await Yv()).transaction(oo),s=await i.objectStore(oo).get(Kv(r));return await i.done,s}catch(e){if(e instanceof ba)Bi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(i.message)}}}async function r_(r,e){try{const s=(await Yv()).transaction(oo,"readwrite");await s.objectStore(oo).put(e,Kv(r)),await s.done}catch(i){if(i instanceof ba)Bi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i?.message});Bi.warn(s.message)}}}function Kv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb=1024,lb=30;class ob{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>lb){const o=hb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=a_(),{heartbeatsToSend:i,unsentEntries:s}=ub(this._heartbeatsCache.heartbeats),o=dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Bi.warn(e),""}}}function a_(){return new Date().toISOString().substring(0,10)}function ub(r,e=sb){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),s_(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),s_(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class cb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function s_(r){return dc(JSON.stringify({version:2,heartbeats:r})).length}function hb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(r){lo(new ws("platform-logger",e=>new bS(e),"PRIVATE")),lo(new ws("heartbeat",e=>new ob(e),"PRIVATE")),Ar(Ed,n_,r),Ar(Ed,n_,"esm2020"),Ar("fire-js","")}fb("");var l_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sr,Xv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(V,x,P){for(var D=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)D[Ue-2]=arguments[Ue];return R.prototype[x].apply(V,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var V=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)V[x]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(x=0;16>x;++x)V[x]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],x=O.g[2];var P=O.g[3],D=R+(P^C&(x^P))+V[0]+3614090360&4294967295;R=C+(D<<7&4294967295|D>>>25),D=P+(x^R&(C^x))+V[1]+3905402710&4294967295,P=R+(D<<12&4294967295|D>>>20),D=x+(C^P&(R^C))+V[2]+606105819&4294967295,x=P+(D<<17&4294967295|D>>>15),D=C+(R^x&(P^R))+V[3]+3250441966&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(P^C&(x^P))+V[4]+4118548399&4294967295,R=C+(D<<7&4294967295|D>>>25),D=P+(x^R&(C^x))+V[5]+1200080426&4294967295,P=R+(D<<12&4294967295|D>>>20),D=x+(C^P&(R^C))+V[6]+2821735955&4294967295,x=P+(D<<17&4294967295|D>>>15),D=C+(R^x&(P^R))+V[7]+4249261313&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(P^C&(x^P))+V[8]+1770035416&4294967295,R=C+(D<<7&4294967295|D>>>25),D=P+(x^R&(C^x))+V[9]+2336552879&4294967295,P=R+(D<<12&4294967295|D>>>20),D=x+(C^P&(R^C))+V[10]+4294925233&4294967295,x=P+(D<<17&4294967295|D>>>15),D=C+(R^x&(P^R))+V[11]+2304563134&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(P^C&(x^P))+V[12]+1804603682&4294967295,R=C+(D<<7&4294967295|D>>>25),D=P+(x^R&(C^x))+V[13]+4254626195&4294967295,P=R+(D<<12&4294967295|D>>>20),D=x+(C^P&(R^C))+V[14]+2792965006&4294967295,x=P+(D<<17&4294967295|D>>>15),D=C+(R^x&(P^R))+V[15]+1236535329&4294967295,C=x+(D<<22&4294967295|D>>>10),D=R+(x^P&(C^x))+V[1]+4129170786&4294967295,R=C+(D<<5&4294967295|D>>>27),D=P+(C^x&(R^C))+V[6]+3225465664&4294967295,P=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(P^R))+V[11]+643717713&4294967295,x=P+(D<<14&4294967295|D>>>18),D=C+(P^R&(x^P))+V[0]+3921069994&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(x^P&(C^x))+V[5]+3593408605&4294967295,R=C+(D<<5&4294967295|D>>>27),D=P+(C^x&(R^C))+V[10]+38016083&4294967295,P=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(P^R))+V[15]+3634488961&4294967295,x=P+(D<<14&4294967295|D>>>18),D=C+(P^R&(x^P))+V[4]+3889429448&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(x^P&(C^x))+V[9]+568446438&4294967295,R=C+(D<<5&4294967295|D>>>27),D=P+(C^x&(R^C))+V[14]+3275163606&4294967295,P=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(P^R))+V[3]+4107603335&4294967295,x=P+(D<<14&4294967295|D>>>18),D=C+(P^R&(x^P))+V[8]+1163531501&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(x^P&(C^x))+V[13]+2850285829&4294967295,R=C+(D<<5&4294967295|D>>>27),D=P+(C^x&(R^C))+V[2]+4243563512&4294967295,P=R+(D<<9&4294967295|D>>>23),D=x+(R^C&(P^R))+V[7]+1735328473&4294967295,x=P+(D<<14&4294967295|D>>>18),D=C+(P^R&(x^P))+V[12]+2368359562&4294967295,C=x+(D<<20&4294967295|D>>>12),D=R+(C^x^P)+V[5]+4294588738&4294967295,R=C+(D<<4&4294967295|D>>>28),D=P+(R^C^x)+V[8]+2272392833&4294967295,P=R+(D<<11&4294967295|D>>>21),D=x+(P^R^C)+V[11]+1839030562&4294967295,x=P+(D<<16&4294967295|D>>>16),D=C+(x^P^R)+V[14]+4259657740&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(C^x^P)+V[1]+2763975236&4294967295,R=C+(D<<4&4294967295|D>>>28),D=P+(R^C^x)+V[4]+1272893353&4294967295,P=R+(D<<11&4294967295|D>>>21),D=x+(P^R^C)+V[7]+4139469664&4294967295,x=P+(D<<16&4294967295|D>>>16),D=C+(x^P^R)+V[10]+3200236656&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(C^x^P)+V[13]+681279174&4294967295,R=C+(D<<4&4294967295|D>>>28),D=P+(R^C^x)+V[0]+3936430074&4294967295,P=R+(D<<11&4294967295|D>>>21),D=x+(P^R^C)+V[3]+3572445317&4294967295,x=P+(D<<16&4294967295|D>>>16),D=C+(x^P^R)+V[6]+76029189&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(C^x^P)+V[9]+3654602809&4294967295,R=C+(D<<4&4294967295|D>>>28),D=P+(R^C^x)+V[12]+3873151461&4294967295,P=R+(D<<11&4294967295|D>>>21),D=x+(P^R^C)+V[15]+530742520&4294967295,x=P+(D<<16&4294967295|D>>>16),D=C+(x^P^R)+V[2]+3299628645&4294967295,C=x+(D<<23&4294967295|D>>>9),D=R+(x^(C|~P))+V[0]+4096336452&4294967295,R=C+(D<<6&4294967295|D>>>26),D=P+(C^(R|~x))+V[7]+1126891415&4294967295,P=R+(D<<10&4294967295|D>>>22),D=x+(R^(P|~C))+V[14]+2878612391&4294967295,x=P+(D<<15&4294967295|D>>>17),D=C+(P^(x|~R))+V[5]+4237533241&4294967295,C=x+(D<<21&4294967295|D>>>11),D=R+(x^(C|~P))+V[12]+1700485571&4294967295,R=C+(D<<6&4294967295|D>>>26),D=P+(C^(R|~x))+V[3]+2399980690&4294967295,P=R+(D<<10&4294967295|D>>>22),D=x+(R^(P|~C))+V[10]+4293915773&4294967295,x=P+(D<<15&4294967295|D>>>17),D=C+(P^(x|~R))+V[1]+2240044497&4294967295,C=x+(D<<21&4294967295|D>>>11),D=R+(x^(C|~P))+V[8]+1873313359&4294967295,R=C+(D<<6&4294967295|D>>>26),D=P+(C^(R|~x))+V[15]+4264355552&4294967295,P=R+(D<<10&4294967295|D>>>22),D=x+(R^(P|~C))+V[6]+2734768916&4294967295,x=P+(D<<15&4294967295|D>>>17),D=C+(P^(x|~R))+V[13]+1309151649&4294967295,C=x+(D<<21&4294967295|D>>>11),D=R+(x^(C|~P))+V[4]+4149444226&4294967295,R=C+(D<<6&4294967295|D>>>26),D=P+(C^(R|~x))+V[11]+3174756917&4294967295,P=R+(D<<10&4294967295|D>>>22),D=x+(R^(P|~C))+V[2]+718787259&4294967295,x=P+(D<<15&4294967295|D>>>17),D=C+(P^(x|~R))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+x&4294967295,O.g[3]=O.g[3]+P&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,V=this.B,x=this.h,P=0;P<R;){if(x==0)for(;P<=C;)o(this,O,P),P+=this.blockSize;if(typeof O=="string"){for(;P<R;)if(V[x++]=O.charCodeAt(P++),x==this.blockSize){o(this,V),x=0;break}}else for(;P<R;)if(V[x++]=O[P++],x==this.blockSize){o(this,V),x=0;break}}this.h=x,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var V=0;32>V;V+=8)O[C++]=this.g[R]>>>V&255;return O};function c(O,R){var C=p;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function d(O,R){this.h=R;for(var C=[],V=!0,x=O.length-1;0<=x;x--){var P=O[x]|0;V&&P==R||(C[x]=P,V=!1)}this.g=C}var p={};function g(O){return-128<=O&&128>O?c(O,function(R){return new d([R|0],0>R?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return j(y(-O));for(var R=[],C=1,V=0;O>=C;V++)R[V]=O/C|0,C*=4294967296;return new d(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return j(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),V=b,x=0;x<O.length;x+=8){var P=Math.min(8,O.length-x),D=parseInt(O.substring(x,x+P),R);8>P?(P=y(Math.pow(R,P)),V=V.j(P).add(y(D))):(V=V.j(C),V=V.add(y(D)))}return V}var b=g(0),S=g(1),M=g(16777216);r=d.prototype,r.m=function(){if(G(this))return-j(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var V=this.i(C);O+=(0<=V?V:4294967296+V)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z(this))return"0";if(G(this))return"-"+j(this).toString(O);for(var R=y(Math.pow(O,6)),C=this,V="";;){var x=mt(C,R).g;C=$(C,x.j(R));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=x,z(C))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function z(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function G(O){return O.h==-1}r.l=function(O){return O=$(this,O),G(O)?-1:z(O)?0:1};function j(O){for(var R=O.g.length,C=[],V=0;V<R;V++)C[V]=~O.g[V];return new d(C,~O.h).add(S)}r.abs=function(){return G(this)?j(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],V=0,x=0;x<=R;x++){var P=V+(this.i(x)&65535)+(O.i(x)&65535),D=(P>>>16)+(this.i(x)>>>16)+(O.i(x)>>>16);V=D>>>16,P&=65535,D&=65535,C[x]=D<<16|P}return new d(C,C[C.length-1]&-2147483648?-1:0)};function $(O,R){return O.add(j(R))}r.j=function(O){if(z(this)||z(O))return b;if(G(this))return G(O)?j(this).j(j(O)):j(j(this).j(O));if(G(O))return j(this.j(j(O)));if(0>this.l(M)&&0>O.l(M))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(var x=0;x<O.g.length;x++){var P=this.i(V)>>>16,D=this.i(V)&65535,Ue=O.i(x)>>>16,se=O.i(x)&65535;C[2*V+2*x]+=D*se,et(C,2*V+2*x),C[2*V+2*x+1]+=P*se,et(C,2*V+2*x+1),C[2*V+2*x+1]+=D*Ue,et(C,2*V+2*x+1),C[2*V+2*x+2]+=P*Ue,et(C,2*V+2*x+2)}for(V=0;V<R;V++)C[V]=C[2*V+1]<<16|C[2*V];for(V=R;V<2*R;V++)C[V]=0;return new d(C,0)};function et(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function nt(O,R){this.g=O,this.h=R}function mt(O,R){if(z(R))throw Error("division by zero");if(z(O))return new nt(b,b);if(G(O))return R=mt(j(O),R),new nt(j(R.g),j(R.h));if(G(R))return R=mt(O,j(R)),new nt(j(R.g),R.h);if(30<O.g.length){if(G(O)||G(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,V=R;0>=V.l(O);)C=ct(C),V=ct(V);var x=Rt(C,1),P=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!z(V);){var D=P.add(V);0>=D.l(O)&&(x=x.add(C),P=D),V=Rt(V,1),C=Rt(C,1)}return R=$(O,x.j(R)),new nt(x,R)}for(x=b;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=y(C),D=P.j(R);G(D)||0<D.l(O);)C-=V,P=y(C),D=P.j(R);z(P)&&(P=S),x=x.add(P),O=$(O,D)}return new nt(x,O)}r.A=function(O){return mt(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)&O.i(V);return new d(C,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)|O.i(V);return new d(C,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],V=0;V<R;V++)C[V]=this.i(V)^O.i(V);return new d(C,this.h^O.h)};function ct(O){for(var R=O.g.length+1,C=[],V=0;V<R;V++)C[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(C,O.h)}function Rt(O,R){var C=R>>5;R%=32;for(var V=O.g.length-C,x=[],P=0;P<V;P++)x[P]=0<R?O.i(P+C)>>>R|O.i(P+C+1)<<32-R:O.i(P+C);return new d(x,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Xv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Sr=d}).apply(typeof l_<"u"?l_:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $v,Zl,Zv,sc,Sd,Jv,Wv,tE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in _))break t;_=_[L]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,L={next:function(){if(!A&&_<u.length){var F=_++;return{value:m(F,u[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function g(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,_){return u.call.apply(u.bind,arguments)}function b(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function S(u,m,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function M(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function z(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,L,F){for(var at=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)at[xt-2]=arguments[xt];return m.prototype[L].apply(A,at)}}function G(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function j(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(g(A)){const L=u.length||0,F=A.length||0;u.length=L+F;for(let at=0;at<F;at++)u[L+at]=A[at]}else u.push(A)}}class ${constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function et(u){return/^[\s\xa0]*$/.test(u)}function nt(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function mt(u){return mt[" "](u),u}mt[" "]=function(){};var ct=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function Rt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function O(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function R(u){const m={};for(const _ in u)m[_]=u[_];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let _,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(_ in A)u[_]=A[_];for(let F=0;F<C.length;F++)_=C[F],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){p.setTimeout(()=>{throw u},0)}function D(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ue{constructor(){this.h=this.g=null}add(m,_){const A=se.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new $(()=>new Y,u=>u.reset());class Y{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let st,dt=!1,zt=new Ue,I=()=>{const u=p.Promise.resolve(void 0);st=()=>{u.then(W)}};var W=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(_){P(_)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}dt=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,m),p.removeEventListener("test",_,m)}catch{}return u}();function Ct(u,m){if(it.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{mt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}z(Ct,it);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Ln(u,m,_,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,_,A,L){var F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);var at=xr(u,m,A,L);return-1<at?(m=u[at],_||(m.fa=!1)):(m=new Ln(m,this.src,F,!!A,L),m.fa=_,u.push(m)),m};function Or(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],L=Array.prototype.indexOf.call(A,m,void 0),F;(F=0<=L)&&Array.prototype.splice.call(A,L,1),F&&(Fi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function xr(u,m,_,A){for(var L=0;L<u.length;++L){var F=u[L];if(!F.da&&F.listener==m&&F.capture==!!_&&F.ha==A)return L}return-1}var Mr="closure_lm_"+(1e6*Math.random()|0),zs={};function wo(u,m,_,A,L){if(Array.isArray(m)){for(var F=0;F<m.length;F++)wo(u,m[F],_,A,L);return null}return _=Co(_),u&&u[Ce]?u.K(m,_,y(A)?!!A.capture:!1,L):mn(u,m,_,!1,A,L)}function mn(u,m,_,A,L,F){if(!m)throw Error("Invalid event type");var at=y(L)?!!L.capture:!!L,xt=Na(u);if(xt||(u[Mr]=xt=new hi(u)),_=xt.add(m,_,A,at,F),_.proxy)return _;if(A=Kc(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)pt||(L=at),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Kc(){function u(_){return m.call(u.src,u.listener,_)}const m=Xc;return u}function Bs(u,m,_,A,L){if(Array.isArray(m))for(var F=0;F<m.length;F++)Bs(u,m[F],_,A,L);else A=y(A)?!!A.capture:!!A,_=Co(_),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(F=u.g[m],_=xr(F,_,A,L),-1<_&&(Fi(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete u.g[m],u.h--)))):u&&(u=Na(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xr(m,_,A,L)),(_=-1<u?m[u]:null)&&Ia(_))}function Ia(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Or(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Ur(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Na(m))?(Or(_,u),_.h==0&&(_.src=null,m[Mr]=null)):Fi(u)}}}function Ur(u){return u in zs?zs[u]:zs[u]="on"+u}function Xc(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&Ia(u),u=_.call(A,m)}return u}function Na(u){return u=u[Mr],u instanceof hi?u:null}var qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Co(u){return typeof u=="function"?u:(u[qs]||(u[qs]=function(m){return u.handleEvent(m)}),u[qs])}function le(){lt.call(this),this.i=new hi(this),this.M=this,this.F=null}z(le,lt),le.prototype[Ce]=!0,le.prototype.removeEventListener=function(u,m,_,A){Bs(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new it(m,u);else if(m instanceof it)m.target=m.target||u;else{var L=m;m=new it(A,u),V(m,L)}if(L=!0,_)for(var F=_.length-1;0<=F;F--){var at=m.g=_[F];L=an(at,A,!0,m)&&L}if(at=m.g=u,L=an(at,A,!0,m)&&L,L=an(at,A,!1,m)&&L,_)for(F=0;F<_.length;F++)at=m.g=_[F],L=an(at,A,!1,m)&&L}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Fi(_[A]);delete u.g[m],u.h--}}this.F=null},le.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},le.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function an(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,F=0;F<m.length;++F){var at=m[F];if(at&&!at.da&&at.capture==_){var xt=at.listener,Te=at.ha||at.src;at.fa&&Or(u.i,at),L=xt.call(Te,A)!==!1&&L}}return L&&!A.defaultPrevented}function Fe(u,m,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:p.setTimeout(u,m||0)}function Do(u){u.g=Fe(()=>{u.g=null,u.i&&(u.i=!1,Do(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $c extends lt{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){lt.call(this),this.h=u,this.g={}}z(Pr,lt);var Lr=[];function kr(u){Rt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Ia(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),kr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var In=p.JSON.stringify,Va=p.JSON.parse,zr=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function js(){}js.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function Fs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){it.call(this,"d")}z(di,it);function Gs(){it.call(this,"c")}z(Gs,it);var kn={},Qs=null;function Gi(){return Qs=Qs||new le}kn.La="serverreachability";function Oa(u){it.call(this,kn.La,u)}z(Oa,it);function Qi(u){const m=Gi();Ht(m,new Oa(m))}kn.STAT_EVENT="statevent";function Io(u,m){it.call(this,kn.STAT_EVENT,u),this.stat=m}z(Io,it);function ee(u){const m=Gi();Ht(m,new Io(m,u))}kn.Ma="timingevent";function Ee(u,m){it.call(this,kn.Ma,u),this.size=m}z(Ee,it);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},m)}function pn(){this.g=!0}pn.prototype.xa=function(){this.g=!1};function Ys(u,m,_,A,L,F){u.info(function(){if(u.g)if(F)for(var at="",xt=F.split("&"),Te=0;Te<xt.length;Te++){var Mt=xt[Te].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Ae=Ie.split("_");at=2<=Ae.length&&Ae[1]=="type"?at+(Ie+"="+Mt+"&"):at+(Ie+"=redacted&")}}else at=null;else at=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+_+`
`+at})}function Zc(u,m,_,A,L,F,at){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+_+`
`+F+" "+at})}function Yi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Br(u,_)+(A?" "+A:"")})}function No(u,m){u.info(function(){return"TIMEOUT: "+m})}pn.prototype.info=function(){};function Br(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var at=1;at<L.length;at++)L[at]=""}}}}return In(_)}catch{return m}}var Ki={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Bn(){}z(Bn,js),Bn.prototype.g=function(){return new XMLHttpRequest},Bn.prototype.i=function(){return{}},zn=new Bn;function $e(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Ks={},xa={};function Nn(u,m,_){u.L=1,u.v=Gr(sn(m)),u.m=_,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),qr(u),u.A=sn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),tl(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ce,u.g=Qo(u.j,_?m:null,!u.m),0<u.O&&(u.M=new $c(S(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Lr[0]=L.toString()),L=Lr);for(var F=0;F<L.length;F++){var at=wo(_,L[F],A||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),Ys(u.i,u.u,u.A,u.l,u.R,u.m)}$e.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},$e.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=vn(this.g);var m=this.g.Ba();const Si=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||ko(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Si?Qi(3):Qi(2)),Xi(this);var _=this.g.Z();this.X=_;e:if(Vo(this)){var A=ko(this.g);u="";var L=A.length,F=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),qn(this);var at="";break e}this.h.i=new p.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(F&&m==L-1)});A.length=0,this.h.g+=u,this.C=0,at=this.h.g}else at=this.g.oa();if(this.o=_==200,Zc(this.i,this.u,this.A,this.l,this.R,Ae,_),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Te=this.g;if((xt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(xt)){var Mt=xt;break e}}Mt=null}if(_=Mt)Yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jr(this,_);else{this.o=!1,this.s=3,ee(12),Pe(this),qn(this);break t}}if(this.P){_=!0;let Le;for(;!this.J&&this.C<at.length;)if(Le=Oo(this,at),Le==xa){Ae==4&&(this.s=4,ee(14),_=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Ks){this.s=4,ee(15),Yi(this.i,this.l,at,"[Invalid Chunk]"),_=!1;break}else Yi(this.i,this.l,Le,null),jr(this,Le);if(Vo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||at.length!=0||this.h.h||(this.s=1,ee(16),_=!1),this.o=this.o&&_,!_)Yi(this.i,this.l,at,"[Invalid Chunked Response]"),Pe(this),qn(this);else if(0<at.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+at.length),Wr(Ie),Ie.M=!0,ee(11))}}else Yi(this.i,this.l,at,null),jr(this,at);Ae==4&&Pe(this),this.o&&!this.J&&(Ae==4?Ho(this.j,this):(this.o=!1,qr(this)))}else nh(this.g),_==400&&0<at.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),Pe(this),qn(this)}}}catch{}finally{}};function Vo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Oo(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?xa:(_=Number(m.substring(_,A)),isNaN(_)?Ks:(A+=1,A+_>m.length?xa:(m=m.slice(A,A+_),u.C=A+_,m)))}$e.prototype.cancel=function(){this.J=!0,Pe(this)};function qr(u){u.S=Date.now()+u.I,xo(u,u.I)}function xo(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(S(u.ba,u),m)}function Xi(u){u.B&&(p.clearTimeout(u.B),u.B=null)}$e.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(No(this.i,this.A),this.L!=2&&(Qi(),ee(17)),Pe(this),this.s=2,qn(this)):xo(this,this.S-u)};function qn(u){u.j.G==0||u.J||Ho(u.j,u)}function Pe(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function jr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Xs(_.h,u))){if(!u.K&&Xs(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ga(_),Ha(_);else break t;al(_),ee(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=me(S(_.Za,_),6e3));if(1>=Ua(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ai(_,11)}else if((u.K||_.g==u)&&Ga(_),!et(m))for(L=_.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(_.T=Mt[0],Mt=Mt[1],_.G==2)if(Mt[0]=="c"){_.K=Mt[1],_.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(_.la=Ie,_.j.info("VER="+_.la));const Ae=Mt[4];Ae!=null&&(_.Aa=Ae,_.j.info("SVER="+_.Aa));const Si=Mt[5];Si!=null&&typeof Si=="number"&&0<Si&&(A=1.5*Si,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Le=u.g;if(Le){const Kn=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var F=A.h;F.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Pa(F,F.h),F.h=null))}if(A.D){const ll=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(A.ya=ll,Qt(A.I,A.D,ll))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var at=u;if(A.qa=Go(A,A.J?A.ia:null,A.W),at.K){Ze(A.h,at);var xt=at,Te=A.L;Te&&(xt.I=Te),xt.B&&(Xi(xt),qr(xt)),A.g=at}else qo(A);0<_.i.length&&Fa(_)}else Mt[0]!="stop"&&Mt[0]!="close"||Ai(_,7);else _.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?Ai(_,7):il(_):Mt[0]!="noop"&&_.l&&_.l.ta(Mt),_.v=0)}}Qi(4)}catch{}}var Mo=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ma(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ua(u){return u.h?1:u.g?u.g.size:0}function Xs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Pa(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function $s(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return G(u.i)}function Jc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function La(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function Zs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=La(u),A=Jc(u),L=A.length,F=0;F<L;F++)m.call(void 0,A[F],_&&_[F],u)}var Hr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wc(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),L=null;if(0<=A){var F=u[_].substring(0,A);L=u[_].substring(A+1)}else F=u[_];m(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pe(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pe){this.h=u.h,Fr(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,_=new _i;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),yi(this,_),this.m=u.m}else u&&(m=String(u).match(Hr))?(this.h=!1,Fr(this,m[1]||"",!0),this.o=gn(m[2]||""),this.g=gn(m[3]||"",!0),$i(this,m[4]),this.l=gn(m[5]||"",!0),yi(this,m[6]||"",!0),this.m=gn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}pe.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,Js,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,Js,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Qr(_,_.charAt(0)=="/"?th:Ws,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Qr(_,ka)),u.join("")};function sn(u){return new pe(u)}function Fr(u,m,_){u.j=_?gn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function yi(u,m,_){m instanceof _i?(u.i=m,Po(u.i,u.h)):(_||(m=Qr(m,eh)),u.i=new _i(m,u.h))}function Qt(u,m,_){u.i.set(m,_)}function Gr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function gn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Uo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Uo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,Ws=/[#\?:]/g,th=/[#\?]/g,eh=/[#\?@]/g,ka=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=_i.prototype,r.add=function(u,m){yn(this),this.i=null,u=jn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function vi(u,m){yn(u),m=jn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ei(u,m){return yn(u),m=jn(u,m),u.g.has(m)}r.forEach=function(u,m){yn(this),this.g.forEach(function(_,A){_.forEach(function(L){u.call(m,L,A,this)},this)},this)},r.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const L=u[A];for(let F=0;F<L.length;F++)_.push(m[A])}return _},r.V=function(u){yn(this);let m=[];if(typeof u=="string")Ei(this,u)&&(m=m.concat(this.g.get(jn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return yn(this),this.i=null,u=jn(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function tl(u,m,_){vi(u,m),0<_.length&&(u.i=null,u.g.set(jn(u,m),G(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const F=encodeURIComponent(String(A)),at=this.V(A);for(A=0;A<at.length;A++){var L=F;at[A]!==""&&(L+="="+encodeURIComponent(String(at[A]))),u.push(L)}}return this.i=u.join("&")};function jn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Po(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(_,A){var L=A.toLowerCase();A!=L&&(vi(this,A),tl(this,L,_))},u)),u.j=m}function Yr(u,m){const _=new pn;if(p.Image){const A=new Image;A.onload=M(_n,_,"TestLoadImage: loaded",!0,m,A),A.onerror=M(_n,_,"TestLoadImage: error",!1,m,A),A.onabort=M(_n,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=M(_n,_,"TestLoadImage: timeout",!1,m,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const _=new pn,A=new AbortController,L=setTimeout(()=>{A.abort(),_n(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?_n(_,"TestPingServer: ok",!0,m):_n(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),_n(_,"TestPingServer: error",!1,m)})}function _n(u,m,_,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(_)}catch{}}function Kr(){this.g=new zr}function Hn(u,m,_){const A=_||"";try{Zs(u,function(L,F){let at=L;y(L)&&(at=In(L)),m.push(A+F+"="+encodeURIComponent(at))})}catch(L){throw m.push(A+"type="+encodeURIComponent("_badmap")),L}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}z(Zi,js),Zi.prototype.g=function(){return new Ti(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function Ti(u,m){le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ti,le),r=Ti.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||p).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Fn(this):Gn(this),this.readyState==3&&el(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},r.Qa=function(u){this.g&&(this.response=u,Fn(this))},r.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Gn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nl(u){let m="";return Rt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function De(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=nl(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Qt(u,m,_))}function qt(u){le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(qt,le);var za=/^https?$/i,Xr=["POST","PUT"];r=qt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?Hs(this.o):Hs(zn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(F){Lo(this,F);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)_.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())_.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),L=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Xr,m,void 0))||A||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,at]of _)this.g.setRequestHeader(F,at);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$r(this),this.u=!0,this.g.send(u),this.u=!1}catch(F){Lo(this,F)}};function Lo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ba(u),Qn(u)}function Ba(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Qn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),qt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?qa(this):this.bb())},r.bb=function(){qa(this)};function qa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)Fe(u.Ea,0,u);else if(Ht(u,"readystatechange"),vn(u)==4){u.h=!1;try{const at=u.Z();t:switch(at){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=at===0){var L=String(u.D).match(Hr)[1]||null;!L&&p.self&&p.self.location&&(L=p.self.location.protocol.slice(0,-1)),A=!za.test(L?L.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var F=2<vn(u)?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.Z()+"]",Ba(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){$r(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function $r(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Va(m)}};function ko(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(et(u[A]))continue;var _=x(u[A]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=m[L]||[];m[L]=F,F.push(_)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ja(u){this.Aa=0,this.i=[],this.j=new pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new Kr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ja.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){ee(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Go(this,null,this.W),Fa(this)};function il(u){if(zo(u),u.G==3){var m=u.U++,_=sn(u.I);if(Qt(_,"SID",u.K),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),Jr(u,_),m=new $e(u,u.j,m),m.L=2,m.v=Gr(sn(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=m.v,_=!0),_||(m.g=Qo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),qr(m)}Fo(u)}function Ha(u){u.g&&(Wr(u),u.g.cancel(),u.g=null)}function zo(u){Ha(u),u.u&&(p.clearTimeout(u.u),u.u=null),Ga(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Fa(u){if(!Ma(u.h)&&!u.s){u.s=!0;var m=u.Ga;st||I(),dt||(st(),dt=!0),zt.add(m,u),u.B=0}}function ih(u,m){return Ua(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(S(u.Ga,u,m),sl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new $e(this,this.j,u);let F=this.o;if(this.S&&(F?(F=R(F),V(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Bo(this,L,m),_=sn(this.I),Qt(_,"RID",u),Qt(_,"CVER",22),this.D&&Qt(_,"X-HTTP-Session-Id",this.D),Jr(this,_),F&&(this.O?m="headers="+encodeURIComponent(String(nl(F)))+"&"+m:this.m&&De(_,this.m,F)),Pa(this.h,L),this.Ua&&Qt(_,"TYPE","init"),this.P?(Qt(_,"$req",m),Qt(_,"SID","null"),L.T=!0,Nn(L,_,null)):Nn(L,_,m),this.G=2}}else this.G==3&&(u?rl(this,u):this.i.length==0||Ma(this.h)||rl(this))};function rl(u,m){var _;m?_=m.l:_=u.U++;const A=sn(u.I);Qt(A,"SID",u.K),Qt(A,"RID",_),Qt(A,"AID",u.T),Jr(u,A),u.m&&u.o&&De(A,u.m,u.o),_=new $e(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Bo(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Pa(u.h,_),Nn(_,A,m)}function Jr(u,m){u.H&&Rt(u.H,function(_,A){Qt(m,A,_)}),u.l&&Zs({},function(_,A){Qt(m,A,_)})}function Bo(u,m,_){_=Math.min(u.i.length,_);var A=u.l?S(u.l.Na,u.l,u):null;t:{var L=u.i;let F=-1;for(;;){const at=["count="+_];F==-1?0<_?(F=L[0].g,at.push("ofs="+F)):F=0:at.push("ofs="+F);let xt=!0;for(let Te=0;Te<_;Te++){let Mt=L[Te].g;const Ie=L[Te].map;if(Mt-=F,0>Mt)F=Math.max(0,L[Te].g-100),xt=!1;else try{Hn(Ie,at,"req"+Mt+"_")}catch{A&&A(Ie)}}if(xt){A=at.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function qo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;st||I(),dt||(st(),dt=!0),zt.add(m,u),u.v=0}}function al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(S(u.Fa,u),sl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,jo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),Ha(this),jo(this))};function Wr(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function jo(u){u.g=new $e(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Jr(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Gr(sn(m)),_.m=null,_.P=!0,pi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Ha(this),al(this),ee(19))};function Ga(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function Ho(u,m){var _=null;if(u.g==m){Ga(u),Wr(u),u.g=null;var A=2}else if(Xs(u.h,m))_=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;A=Gi(),Ht(A,new Ee(A,_)),Fa(u)}else qo(u);else if(L=m.s,L==3||L==0&&0<m.X||!(A==1&&ih(u,m)||A==2&&al(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),L){case 1:Ai(u,5);break;case 4:Ai(u,10);break;case 3:Ai(u,6);break;default:Ai(u,2)}}}function sl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ai(u,m){if(u.j.info("Error code "+m),m==2){var _=S(u.fb,u),A=u.Xa;const L=!A;A=new pe(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Fr(A,"https"),Gr(A),L?Yr(A.toString(),_):Vn(A.toString(),_)}else ee(2);u.G=0,u.l&&u.l.sa(m),Fo(u),zo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Fo(u){if(u.G=0,u.ka=[],u.l){const m=$s(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.ra()}}function Go(u,m,_){var A=_ instanceof pe?sn(_):new pe(_);if(A.g!="")m&&(A.g=m+"."+A.g),$i(A,A.s);else{var L=p.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var F=new pe(null);A&&Fr(F,A),m&&(F.g=m),L&&$i(F,L),_&&(F.l=_),A=F}return _=u.D,m=u.ya,_&&m&&Qt(A,_,m),Qt(A,"VER",u.la),Jr(u,A),A}function Qo(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Zi({eb:_})):new qt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}r=Yo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Qa(){}Qa.prototype.g=function(u,m){return new Je(u,m)};function Je(u,m){le.call(this),this.g=new ja(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!et(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!et(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yn(this)}z(Je,le),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){il(this.g)},Je.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=In(u),u=_);m.i.push(new Mo(m.Ya++,u)),m.G==3&&Fa(m)},Je.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,Je.aa.N.call(this)};function Ko(u){di.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}z(Ko,di);function Xo(){Gs.call(this),this.status=1}z(Xo,Gs);function Yn(u){this.g=u}z(Yn,Yo),Yn.prototype.ua=function(){Ht(this.g,"a")},Yn.prototype.ta=function(u){Ht(this.g,new Ko(u))},Yn.prototype.sa=function(u){Ht(this.g,new Xo)},Yn.prototype.ra=function(){Ht(this.g,"b")},Qa.prototype.createWebChannel=Qa.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,tE=function(){return new Qa},Wv=function(){return Gi()},Jv=kn,Sd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,sc=Ki,mi.COMPLETE="complete",Zv=mi,Fs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",le.prototype.listen=le.prototype.K,Zl=Fs,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,$v=qt}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const o_="@firebase/firestore",u_="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Us="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new zv("@firebase/firestore");function Ts(){return Ta.logLevel}function ot(r,...e){if(Ta.logLevel<=Lt.DEBUG){const i=e.map(Xd);Ta.debug(`Firestore (${Us}): ${r}`,...i)}}function qi(r,...e){if(Ta.logLevel<=Lt.ERROR){const i=e.map(Xd);Ta.error(`Firestore (${Us}): ${r}`,...i)}}function Cs(r,...e){if(Ta.logLevel<=Lt.WARN){const i=e.map(Xd);Ta.warn(`Firestore (${Us}): ${r}`,...i)}}function Xd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,eE(r,s,i)}function eE(r,e,i){let s=`FIRESTORE (${Us}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw qi(s),new Error(s)}function jt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||eE(e,o,s)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends ba{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ke.UNAUTHENTICATED))}shutdown(){}}class mb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class pb{constructor(e){this.t=e,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,i(g)):Promise.resolve();let c=new br;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new br,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new br)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new nE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ke(e)}}class gb{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yb{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new gb(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class c_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _b{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hv(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new c_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new c_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vb(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Vt(r,e){return r<e?-1:r>e?1:0}function bd(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),c=e.charAt(s);if(o!==c)return ld(o)===ld(c)?Vt(o,c):ld(o)?1:-1}return Vt(r.length,e.length)}const Eb=55296,Tb=57343;function ld(r){const e=r.charCodeAt(0);return e>=Eb&&e<=Tb}function Ds(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="__name__";class ti{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ti.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Vt(e.length,i.length)}static compareSegments(e,i){const s=ti.isNumericId(e),o=ti.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ti.extractNumericId(e).compare(ti.extractNumericId(i)):bd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Sr.fromString(e.substring(4,e.length-2))}}class Wt extends ti{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ht(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Ab=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ti{construct(e,i,s){return new je(e,i,s)}static isValidIdentifier(e){return Ab.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h_}static keyField(){return new je([h_])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ht(tt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ht(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ht(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(c(),o++)}if(c(),d)throw new ht(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(r,e,i){if(!i)throw new ht(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Sb(r,e,i,s){if(e===!0&&s===!0)throw new ht(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function f_(r){if(!gt.isDocumentKey(r))throw new ht(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function d_(r){if(gt.isDocumentKey(r))throw new ht(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Zd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ya(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ht(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Zd(r);throw new ht(tt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e){const i={typeString:r};return e&&(i.value=e),i}function Eo(r,e){if(!rE(r))throw new ht(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,c="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new ht(tt.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=-62135596800,p_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(e){return te.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*p_);return new te(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<m_)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ht(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/p_}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eo(e,te._jsonSchema))return new te(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:ve("string",te._jsonSchemaVersion),seconds:ve("number"),nanoseconds:ve("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(e){return new At(e)}static min(){return new At(new te(0,0))}static max(){return new At(new te(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=-1;function bb(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new wr(o,gt.empty(),e)}function Rb(r){return new wr(r.readTime,r.key,uo)}class wr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new wr(At.min(),gt.empty(),uo)}static max(){return new wr(At.max(),gt.empty(),uo)}}function wb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Vt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Db{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==Cb)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):J.reject(i)}static resolve(e){return new J((i,s)=>{i(e)})}static reject(e){return new J((i,s)=>{s(e)})}static waitFor(e){return new J((i,s)=>{let o=0,c=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&i()},g=>s(g))}),d=!0,c===o&&i()})}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next(o=>o?J.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new J((s,o)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;i(e[y]).next(E=>{d[y]=E,++p,p===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new J((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function Ib(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ls(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Uc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=-1;function Pc(r){return r==null}function gc(r){return r===0&&1/r==-1/0}function Nb(r){return typeof r=="number"&&Number.isInteger(r)&&!gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="";function Vb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=g_(e)),e=Ob(r.get(i),e);return g_(e)}function Ob(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function g_(r){return r+aE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ra(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function sE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||qe.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ju(this.root,e,this.comparator,!0)}}class Ju{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qe{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??qe.RED,this.left=o??qe.EMPTY,this.right=c??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new qe(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,c){return this}insert(e,i,s){return new qe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new Un([])}unionWith(e){let i=new we(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new Un(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ds(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}}(e);return new He(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new He(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}He.EMPTY_BYTE_STRING=new He("");const xb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(r){if(jt(!!r,39018),typeof r=="string"){let e=0;const i=xb.exec(r);if(jt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Dr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function Wd(r){return(r?.mapValue?.fields||{})[uE]?.stringValue===oE}function Lc(r){const e=r.mapValue.fields[cE];return Wd(e)?Lc(e):e}function co(r){const e=Cr(r.mapValue.fields[hE].timestampValue);return new te(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i,s,o,c,d,p,g,y,E){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const yc="(default)";class ho{constructor(e,i){this.projectId=e,this.database=i||yc}static empty(){return new ho("","")}get isDefaultDatabase(){return this.database===yc}isEqual(e){return e instanceof ho&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__type__",Ub="__max__",Wu={mapValue:{}},dE="__vector__",_c="value";function Ir(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Wd(r)?4:Lb(r)?9007199254740991:Pb(r)?10:11:vt(28295,{value:r})}function si(r,e){if(r===e)return!0;const i=Ir(r);if(i!==Ir(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return co(r).isEqual(co(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Cr(o.timestampValue),p=Cr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Dr(o.bytesValue).isEqual(Dr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return de(o.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(o.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return de(o.integerValue)===de(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=de(o.doubleValue),p=de(c.doubleValue);return d===p?gc(d)===gc(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return Ds(r.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(y_(d)!==y_(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!si(d[g],p[g])))return!1;return!0}(r,e);default:return vt(52216,{left:r})}}function fo(r,e){return(r.values||[]).find(i=>si(i,e))!==void 0}function Is(r,e){if(r===e)return 0;const i=Ir(r),s=Ir(e);if(i!==s)return Vt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const p=de(c.integerValue||c.doubleValue),g=de(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return v_(r.timestampValue,e.timestampValue);case 4:return v_(co(r),co(e));case 5:return bd(r.stringValue,e.stringValue);case 6:return function(c,d){const p=Dr(c),g=Dr(d);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const E=Vt(p[y],g[y]);if(E!==0)return E}return Vt(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const p=Vt(de(c.latitude),de(d.latitude));return p!==0?p:Vt(de(c.longitude),de(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return E_(r.arrayValue,e.arrayValue);case 10:return function(c,d){const p=c.fields||{},g=d.fields||{},y=p[_c]?.arrayValue,E=g[_c]?.arrayValue,b=Vt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:E_(y,E)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Wu.mapValue&&d===Wu.mapValue)return 0;if(c===Wu.mapValue)return 1;if(d===Wu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let b=0;b<g.length&&b<E.length;++b){const S=bd(g[b],E[b]);if(S!==0)return S;const M=Is(p[g[b]],y[E[b]]);if(M!==0)return M}return Vt(g.length,E.length)}(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function v_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vt(r,e);const i=Cr(r),s=Cr(e),o=Vt(i.seconds,s.seconds);return o!==0?o:Vt(i.nanos,s.nanos)}function E_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Is(i[o],s[o]);if(c)return c}return Vt(i.length,s.length)}function Ns(r){return Rd(r)}function Rd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Cr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Dr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Rd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${Rd(i.fields[d])}`;return o+"}"}(r.mapValue):vt(61005,{value:r})}function lc(r){switch(Ir(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lc(r);return e?16+lc(e):16;case 5:return 2*r.stringValue.length;case 6:return Dr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+lc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ra(s.fields,(c,d)=>{o+=c.length+lc(d)}),o}(r.mapValue);default:throw vt(13486,{value:r})}}function wd(r){return!!r&&"integerValue"in r}function tm(r){return!!r&&"arrayValue"in r}function T_(r){return!!r&&"nullValue"in r}function A_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oc(r){return!!r&&"mapValue"in r}function Pb(r){return(r?.mapValue?.fields||{})[fE]?.stringValue===dE}function no(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ra(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=no(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=no(r.arrayValue.values[i]);return e}return{...r}}function Lb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Ub}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!oc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=no(i)}setAll(e){let i=je.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!i.isImmediateParentOf(p)){const g=this.getFieldsMap(i);this.applyChanges(g,s,o),s={},o=[],i=p.popLast()}d?s[p.lastSegment()]=no(d):o.push(p.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Ra(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new Cn(no(this.value))}}function mE(r){const e=[];return Ra(r.fields,(i,s)=>{const o=new je([i]);if(oc(s)){const c=mE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new Un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,c,d,p){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new Xe(e,0,At.min(),At.min(),At.min(),Cn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,At.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,At.min(),At.min(),Cn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,At.min(),At.min(),Cn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,i){this.position=e,this.inclusive=i}}function S_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Is(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function b_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!si(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,i="asc"){this.field=e,this.dir=i}}function kb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class Re extends pE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Bb(e,i,s):i==="array-contains"?new Hb(e,s):i==="in"?new Fb(e,s):i==="not-in"?new Gb(e,s):i==="array-contains-any"?new Qb(e,s):new Re(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new qb(e,s):new jb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Is(i,this.value)):i!==null&&Ir(this.value)===Ir(i)&&this.matchesComparison(Is(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends pE{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new li(e,i)}matches(e){return gE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(r){return r.op==="and"}function yE(r){return zb(r)&&gE(r)}function zb(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function Cd(r){if(r instanceof Re)return r.field.canonicalString()+r.op.toString()+Ns(r.value);if(yE(r))return r.filters.map(e=>Cd(e)).join(",");{const e=r.filters.map(i=>Cd(i)).join(",");return`${r.op}(${e})`}}function _E(r,e){return r instanceof Re?function(s,o){return o instanceof Re&&s.op===o.op&&s.field.isEqual(o.field)&&si(s.value,o.value)}(r,e):r instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,p)=>c&&_E(d,o.filters[p]),!0):!1}(r,e):void vt(19439)}function vE(r){return r instanceof Re?function(i){return`${i.field.canonicalString()} ${i.op} ${Ns(i.value)}`}(r):r instanceof li?function(i){return i.op.toString()+" {"+i.getFilters().map(vE).join(" ,")+"}"}(r):"Filter"}class Bb extends Re{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class qb extends Re{constructor(e,i){super(e,"in",i),this.keys=EE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class jb extends Re{constructor(e,i){super(e,"not-in",i),this.keys=EE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function EE(r,e){return(e.arrayValue?.values||[]).map(i=>gt.fromName(i.referenceValue))}class Hb extends Re{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return tm(i)&&fo(i.arrayValue,this.value)}}class Fb extends Re{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&fo(this.value.arrayValue,i)}}class Gb extends Re{constructor(e,i){super(e,"not-in",i)}matches(e){if(fo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!fo(this.value.arrayValue,i)}}class Qb extends Re{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!tm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>fo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,i=null,s=[],o=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function R_(r,e=null,i=[],s=[],o=null,c=null,d=null){return new Yb(r,e,i,s,o,c,d)}function em(r){const e=St(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Cd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ns(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ns(s)).join(",")),e.Te=i}return e.Te}function nm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!kb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!_E(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!b_(r.startAt,e.startAt)&&b_(r.endAt,e.endAt)}function Dd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i=null,s=[],o=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Kb(r,e,i,s,o,c,d,p){return new kc(r,e,i,s,o,c,d,p)}function im(r){return new kc(r)}function w_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Xb(r){return r.collectionGroup!==null}function io(r){const e=St(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new we(je.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new Ec(c,s))}),i.has(je.keyField().canonicalString())||e.Ie.push(new Ec(je.keyField(),s))}return e.Ie}function ei(r){const e=St(r);return e.Ee||(e.Ee=$b(e,io(r))),e.Ee}function $b(r,e){if(r.limitType==="F")return R_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Ec(o.field,c)});const i=r.endAt?new vc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new vc(r.startAt.position,r.startAt.inclusive):null;return R_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Id(r,e,i){return new kc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function zc(r,e){return nm(ei(r),ei(e))&&r.limitType===e.limitType}function TE(r){return`${em(ei(r))}|lt:${r.limitType}`}function As(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>vE(o)).join(", ")}]`),Pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ns(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ns(o)).join(",")),`Target(${s})`}(ei(r))}; limitType=${r.limitType})`}function Bc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of io(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,p,g){const y=S_(d,p,g);return d.inclusive?y<=0:y<0}(s.startAt,io(s),o)||s.endAt&&!function(d,p,g){const y=S_(d,p,g);return d.inclusive?y>=0:y>0}(s.endAt,io(s),o))}(r,e)}function Zb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AE(r){return(e,i)=>{let s=!1;for(const o of io(r)){const c=Jb(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function Jb(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Is(g,y):vt(42886)}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new ae(gt.comparator);function ji(){return Wb}const SE=new ae(gt.comparator);function Jl(...r){let e=SE;for(const i of r)e=e.insert(i.key,i);return e}function bE(r){let e=SE;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ga(){return ro()}function RE(){return ro()}function ro(){return new wa(r=>r.toString(),(r,e)=>r.isEqual(e))}const tR=new ae(gt.comparator),eR=new we(gt.comparator);function Ot(...r){let e=eR;for(const i of r)e=e.add(i);return e}const nR=new we(Vt);function iR(){return nR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function wE(r){return{integerValue:""+r}}function rR(r,e){return Nb(e)?wE(e):rm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this._=void 0}}function aR(r,e,i){return r instanceof Tc?function(o,c){const d={fields:{[uE]:{stringValue:oE},[hE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Wd(c)&&(c=Lc(c)),c&&(d.fields[cE]=c),{mapValue:d}}(i,e):r instanceof mo?DE(r,e):r instanceof po?IE(r,e):function(o,c){const d=CE(o,c),p=C_(d)+C_(o.Ae);return wd(d)&&wd(o.Ae)?wE(p):rm(o.serializer,p)}(r,e)}function sR(r,e,i){return r instanceof mo?DE(r,e):r instanceof po?IE(r,e):i}function CE(r,e){return r instanceof Ac?function(s){return wd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Tc extends qc{}class mo extends qc{constructor(e){super(),this.elements=e}}function DE(r,e){const i=NE(e);for(const s of r.elements)i.some(o=>si(o,s))||i.push(s);return{arrayValue:{values:i}}}class po extends qc{constructor(e){super(),this.elements=e}}function IE(r,e){let i=NE(e);for(const s of r.elements)i=i.filter(o=>!si(o,s));return{arrayValue:{values:i}}}class Ac extends qc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function C_(r){return de(r.integerValue||r.doubleValue)}function NE(r){return tm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof mo&&o instanceof mo||s instanceof po&&o instanceof po?Ds(s.elements,o.elements,si):s instanceof Ac&&o instanceof Ac?si(s.Ae,o.Ae):s instanceof Tc&&o instanceof Tc}(r.transform,e.transform)}class oR{constructor(e,i){this.version=e,this.transformResults=i}}class ki{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jc{}function VE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xE(r.key,ki.none()):new To(r.key,r.data,ki.none());{const i=r.data,s=Cn.empty();let o=new we(je.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ca(r.key,s,new Un(o.toArray()),ki.none())}}function uR(r,e,i){r instanceof To?function(o,c,d){const p=o.value.clone(),g=I_(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):r instanceof Ca?function(o,c,d){if(!uc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=I_(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(OE(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ao(r,e,i,s){return r instanceof To?function(c,d,p,g){if(!uc(c.precondition,d))return p;const y=c.value.clone(),E=N_(c.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Ca?function(c,d,p,g){if(!uc(c.precondition,d))return p;const y=N_(c.fieldTransforms,g,d),E=d.data;return E.setAll(OE(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,e,i,s):function(c,d,p){return uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,i)}function cR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=CE(s.transform,o||null);c!=null&&(i===null&&(i=Cn.empty()),i.set(s.field,c))}return i||null}function D_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ds(s,o,(c,d)=>lR(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class To extends jc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ca extends jc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OE(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function I_(r,e,i){const s=new Map;jt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=e.data.field(c.field);s.set(c.field,sR(d,p,i[o]))}return s}function N_(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,aR(c,d,e))}return s}class xE extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hR extends jc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&uR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=ao(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=ao(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=RE();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const g=VE(d,p);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ot())}isEqual(e){return this.batchId===e.batchId&&Ds(this.mutations,e.mutations,(i,s)=>D_(i,s))&&Ds(this.baseMutations,e.baseMutations,(i,s)=>D_(i,s))}}class am{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return tR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new am(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,Pt;function pR(r){switch(r){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function ME(r){if(r===void 0)return qi("GRPC error has no .code"),tt.UNKNOWN;switch(r){case _e.OK:return tt.OK;case _e.CANCELLED:return tt.CANCELLED;case _e.UNKNOWN:return tt.UNKNOWN;case _e.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case _e.INTERNAL:return tt.INTERNAL;case _e.UNAVAILABLE:return tt.UNAVAILABLE;case _e.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case _e.NOT_FOUND:return tt.NOT_FOUND;case _e.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case _e.ABORTED:return tt.ABORTED;case _e.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case _e.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:r})}}(Pt=_e||(_e={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Sr([4294967295,4294967295],0);function V_(r){const e=gR().encode(r),i=new Xv;return i.update(e),new Uint8Array(i.digest())}function O_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Sr([i,s],0),new Sr([o,c],0)]}class sm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Sr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(Sr.fromNumber(s)));return o.compare(yR)===1&&(o=new Sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=V_(e),[s,o]=O_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new sm(c,o,i);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.ge===0)return;const i=V_(e),[s,o]=O_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,o,c);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Ao.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Hc(At.min(),o,new ae(Vt),ji(),Ot())}}class Ao{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Ao(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class UE{constructor(e,i){this.targetId=e,this.Ce=i}}class PE{constructor(e,i,s=He.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class x_{constructor(){this.ve=0,this.Fe=M_(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ot(),i=Ot(),s=Ot();return this.Fe.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:c})}}),new Ao(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=M_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class _R{constructor(e){this.Ge=e,this.ze=new Map,this.je=ji(),this.Je=tc(),this.He=tc(),this.Ye=new ae(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Dd(c))if(s===0){const d=new gt(c.path);this.et(i,d,Xe.newNoDocument(d,At.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(i);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Dr(s).toUint8Array()}catch(g){if(g instanceof lE)return Cs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new sm(d,o,c)}catch(g){return Cs(g instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(i,c,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Dd(p.target)){const g=new gt(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,Xe.newNoDocument(g,e))}c.Be&&(i.set(d,c.ke()),c.qe())}});let s=Ot();this.He.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(c))}),this.je.forEach((c,d)=>d.setReadTime(e));const o=new Hc(e,i,this.Ye,this.je,s);return this.je=ji(),this.Je=tc(),this.He=tc(),this.Ye=new ae(Vt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new x_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new x_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function tc(){return new ae(gt.comparator)}function M_(){return new ae(gt.comparator)}const vR={asc:"ASCENDING",desc:"DESCENDING"},ER={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TR={and:"AND",or:"OR"};class AR{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Nd(r,e){return r.useProto3Json||Pc(e)?e:{value:e}}function Sc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function SR(r,e){return Sc(r,e.toTimestamp())}function ni(r){return jt(!!r,49232),At.fromTimestamp(function(i){const s=Cr(i);return new te(s.seconds,s.nanos)}(r))}function lm(r,e){return Vd(r,e).canonicalString()}function Vd(r,e){const i=function(o){return new Wt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function kE(r){const e=Wt.fromString(r);return jt(HE(e),10190,{key:e.toString()}),e}function Od(r,e){return lm(r.databaseId,e.path)}function od(r,e){const i=kE(e);if(i.get(1)!==r.databaseId.projectId)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(BE(i))}function zE(r,e){return lm(r.databaseId,e)}function bR(r){const e=kE(r);return e.length===4?Wt.emptyPath():BE(e)}function xd(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BE(r){return jt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function U_(r,e,i){return{name:Od(r,e),fields:i.value.mapValue.fields}}function RR(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(y){const E=y.code===void 0?tt.UNKNOWN:ME(y.code);return new ht(E,y.message||"")}(d);i=new PE(s,o,c,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=od(r,s.document.name),c=ni(s.document.updateTime),d=s.document.createTime?ni(s.document.createTime):At.min(),p=new Cn({mapValue:{fields:s.document.fields}}),g=Xe.newFoundDocument(o,c,d,p),y=s.targetIds||[],E=s.removedTargetIds||[];i=new cc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=od(r,s.document),c=s.readTime?ni(s.readTime):At.min(),d=Xe.newNoDocument(o,c),p=s.removedTargetIds||[];i=new cc([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=od(r,s.document),c=s.removedTargetIds||[];i=new cc([],c,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new mR(o,c),p=s.targetId;i=new UE(p,d)}}return i}function wR(r,e){let i;if(e instanceof To)i={update:U_(r,e.key,e.value)};else if(e instanceof xE)i={delete:Od(r,e.key)};else if(e instanceof Ca)i={update:U_(r,e.key,e.data),updateMask:UR(e.fieldMask)};else{if(!(e instanceof hR))return vt(16599,{Vt:e.type});i={verify:Od(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const p=d.transform;if(p instanceof Tc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof mo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof po)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ac)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:SR(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)}(r,e.precondition)),i}function CR(r,e){return r&&r.length>0?(jt(e!==void 0,14353),r.map(i=>function(o,c){let d=o.updateTime?ni(o.updateTime):ni(c);return d.isEqual(At.min())&&(d=ni(c)),new oR(d,o.transformResults||[])}(i,e))):[]}function DR(r,e){return{documents:[zE(r,e.path)]}}function IR(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=zE(r,o);const c=function(y){if(y.length!==0)return jE(li.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:Ss(S.field),direction:OR(S.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const p=Nd(r,e.limit);return p!==null&&(i.structuredQuery.limit=p),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:i,parent:o}}function NR(r){let e=bR(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(b){const S=qE(b);return S instanceof li&&yE(S)?S.getFilters():[S]}(i.where));let d=[];i.orderBy&&(d=function(b){return b.map(S=>function(z){return new Ec(bs(z.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(S))}(i.orderBy));let p=null;i.limit&&(p=function(b){let S;return S=typeof b=="object"?b.value:b,Pc(S)?null:S}(i.limit));let g=null;i.startAt&&(g=function(b){const S=!!b.before,M=b.values||[];return new vc(M,S)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const S=!b.before,M=b.values||[];return new vc(M,S)}(i.endAt)),Kb(e,o,d,c,p,"F",g,y)}function VR(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=bs(i.unaryFilter.field);return Re.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=bs(i.unaryFilter.field);return Re.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=bs(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bs(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Re.create(bs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return li.create(i.compositeFilter.filters.map(s=>qE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}}(i.compositeFilter.op))}(r):vt(30097,{filter:r})}function OR(r){return vR[r]}function xR(r){return ER[r]}function MR(r){return TR[r]}function Ss(r){return{fieldPath:r.canonicalString()}}function bs(r){return je.fromServerFormat(r.fieldPath)}function jE(r){return r instanceof Re?function(i){if(i.op==="=="){if(A_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NAN"}};if(T_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(A_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NAN"}};if(T_(i.value))return{unaryFilter:{field:Ss(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ss(i.field),op:xR(i.op),value:i.value}}}(r):r instanceof li?function(i){const s=i.getFilters().map(o=>jE(o));return s.length===1?s[0]:{compositeFilter:{op:MR(i.op),filters:s}}}(r):vt(54877,{filter:r})}function UR(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,i,s,o,c=At.min(),d=At.min(),p=He.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.yt=e}}function LR(r){const e=NR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Id(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Cn=new zR}addToCollectionParentIndex(e,i){return this.Cn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(wr.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class zR{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(FE,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Vs(0)}static cr(){return new Vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="LruGarbageCollector",BR=1048576;function k_([r,e],[i,s]){const o=Vt(r,i);return o===0?Vt(e,s):o}class qR{constructor(e){this.Ir=e,this.buffer=new we(k_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();k_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jR{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(L_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ls(i)?ot(L_,"Ignoring IndexedDB error during garbage collection: ",i):await Ps(i)}await this.Vr(3e5)})}}class HR{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return J.resolve(Uc.ce);const s=new qR(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(P_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,c,d,p,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,p=Date.now(),this.removeTargets(e,s,i))).next(b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Ts()<=Lt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function FR(r,e){return new HR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(){this.changes=new wa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&ao(s.mutation,o,Un.empty(),te.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Ot()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Ot()){const o=ga();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Jl();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ga();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Ot()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,p)=>{i.set(d,p)})})}computeViews(e,i,s,o){let c=ji();const d=ro(),p=function(){return ro()}();return i.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ca)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),ao(E.mutation,y,E.mutation.getFieldMask(),te.now())):d.set(y.key,Un.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>p.set(y,new QR(E,d.get(y)??null))),p))}recalculateAndSaveOverlays(e,i){const s=ro();let o=new ae((d,p)=>d-p),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const p of d)p.keys().forEach(g=>{const y=i.get(g);if(y===null)return;let E=s.get(g)||Un.empty();E=p.applyToLocalView(y,E),s.set(g,E);const b=(o.get(p.batchId)||Ot()).add(g);o=o.insert(p.batchId,b)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,E=g.value,b=RE();E.forEach(S=>{if(!c.has(S)){const M=VE(i.get(S),s.get(S));M!==null&&b.set(S,M),c=c.add(S)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return J.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Xb(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):J.resolve(ga());let p=uo,g=c;return d.next(y=>J.forEach(y,(E,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{g=g.insert(E,S)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Ot())).next(E=>({batchId:p,changes:bE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Jl();return this.indexManager.getCollectionParents(e,c).next(p=>J.forEach(p,g=>{const y=function(b,S){return new kc(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((b,S)=>{d=d.insert(b,S)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))});let p=Jl();return d.forEach((g,y)=>{const E=c.get(g);E!==void 0&&ao(E.mutation,y,Un.empty(),te.now()),Bc(i,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ni(o.createTime)}}(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:LR(o.bundledQuery),readTime:ni(o.readTime)}}(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.overlays=new ae(gt.comparator),this.qr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ga();return J.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.St(e,i,c)}),J.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.qr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const o=ga(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>s&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ae((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ga(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const p=ga(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>p.set(y,E)),!(p.size()>=o)););return J.resolve(p)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new dR(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(){this.Qr=new we(xe.$r),this.Ur=new we(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new xe(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new gt(new Wt([])),s=new xe(i,e),o=new xe(i,e+1),c=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),c.push(d.key)}),c}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),s=new xe(i,e),o=new xe(i,e+1);let c=Ot();return this.Ur.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(xe.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new fR(c,i,s,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new xe(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Jd:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,o],d=>{const p=this.Xr(d.Yr);c.push(p)}),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Vt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],p=>{s=s.add(p.Yr)})}),J.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new gt(c),0);let p=new we(Vt);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)},d),J.resolve(this.ti(p))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return J.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new xe(i,0),o=this.Zr.firstAfterOrEqual(s);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.ri=e,this.docs=function(){return new ae(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xe.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ji();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||wb(Rb(E),s)<=0||(o.has(E.key)||Bc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return J.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new WR(this)}getSize(e){return J.resolve(this.size)}}class WR extends GR{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),J.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.persistence=e,this.si=new wa(i=>em(i),nm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new om,this.targetCount=0,this.ai=Vs.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),J.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Vs(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.Pr(i),J.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.si.forEach((d,p)=>{p.sequenceNumber<=i&&s.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),J.waitFor(c).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),J.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),J.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,i){this.ui={},this.overlays={},this.ci=new Uc(0),this.li=!1,this.li=!0,this.hi=new $R,this.referenceDelegate=e(this),this.Pi=new t2(this),this.indexManager=new kR,this.remoteDocumentCache=function(o){return new JR(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new PR(i),this.Ii=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new XR,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new ZR(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ot("MemoryPersistence","Starting transaction:",e);const o=new e2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ai(e,i){return J.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class e2 extends Db{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Ri=new om,this.Vi=null}static mi(e){return new um(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.fi.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,s=>{const o=gt.fromPath(s);return this.gi(e,o).next(c=>{c||i.removeEntry(o,At.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class bc{constructor(e,i){this.persistence=e,this.pi=new wa(s=>Vb(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=FR(this,i)}static mi(e,i){return new bc(e,i)}Ei(){}di(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return J.forEach(this.pi,(s,o)=>this.br(e,s,o).next(c=>c?J.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(p=>{p||(s++,c.removeEntry(d,At.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),J.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=lc(e.data.value)),i}br(e,i,s){return J.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Ot(),o=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new cm(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return WA()?8:Ib(ZA())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.ys(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ws(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new n2;return this.Ss(e,i,d).next(p=>{if(c.result=p,this.Vs)return this.bs(e,i,d,p.size)})}).next(()=>c.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(Ts()<=Lt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",As(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Ts()<=Lt.DEBUG&&ot("QueryEngine","Query:",As(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ts()<=Lt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",As(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):J.resolve())}ys(e,i){if(w_(i))return J.resolve(null);let s=ei(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Id(i,null,"F"),s=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=Ot(...c);return this.ps.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(i,p);return this.Cs(i,y,d,g.readTime)?this.ys(e,Id(i,null,"F")):this.vs(e,y,i,g)}))})))}ws(e,i,s,o){return w_(i)||o.isEqual(At.min())?J.resolve(null):this.ps.getDocuments(e,s).next(c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,o)?J.resolve(null):(Ts()<=Lt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),As(i)),this.vs(e,d,i,bb(o,uo)).next(p=>p))})}Ds(e,i){let s=new we(AE(e));return i.forEach((o,c)=>{Bc(e,c)&&(s=s.add(c))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(e,i,s){return Ts()<=Lt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",As(i)),this.ps.getDocumentsMatchingQuery(e,i,wr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="LocalStore",r2=3e8;class a2{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(Vt),this.xs=new wa(c=>em(c),nm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function s2(r,e,i,s){return new a2(r,e,i,s)}async function QE(r,e){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],p=[];let g=Ot();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of c){p.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return i.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:d,addedBatchIds:p}))})})}function l2(r,e){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return function(p,g,y,E){const b=y.batch,S=b.keys();let M=J.resolve();return S.forEach(z=>{M=M.next(()=>E.getEntry(g,z)).next(G=>{const j=y.docVersions.get(z);jt(j!==null,48541),G.version.compareTo(j)<0&&(b.applyToRemoteDocument(G,y),G.isValidDocument()&&(G.setReadTime(y.commitVersion),E.addEntry(G)))})}),M.next(()=>p.mutationQueue.removeMutationBatch(g,b))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let g=Ot();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function YE(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function o2(r,e){const i=St(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];e.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;p.push(i.Pi.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.Pi.addMatchingKeys(c,E.addedDocuments,b)));let M=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(He.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,s)),o=o.insert(b,M),function(G,j,$){return G.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=r2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,M,E)&&p.push(i.Pi.updateTargetData(c,M))});let g=ji(),y=Ot();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),p.push(u2(c,d,e.documentUpdates).next(E=>{g=E.ks,y=E.qs})),!s.isEqual(At.min())){const E=i.Pi.getLastRemoteSnapshotVersion(c).next(b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s));p.push(E)}return J.waitFor(p).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(i.Ms=o,c))}function u2(r,e,i){let s=Ot(),o=Ot();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=ji();return i.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(At.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):ot(hm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{ks:d,qs:o}})}function c2(r,e){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function h2(r,e){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new vr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function Md(r,e,i){const s=St(r),o=s.Ms.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ls(d))throw d;ot(hm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function z_(r,e,i){const s=St(r);let o=At.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,E){const b=St(g),S=b.xs.get(E);return S!==void 0?J.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,E)}(s,d,ei(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:At.min(),i?c:Ot())).next(p=>(f2(s,Zb(e),p),{documents:p,Qs:c})))}function f2(r,e,i){let s=r.Os.get(e)||At.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Os.set(e,s)}class B_{constructor(){this.activeTargetIds=iR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d2{constructor(){this.Mo=new B_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_="ConnectivityMonitor";class j_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(q_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(q_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Ud(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="RestConnection",p2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===yc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,c){const d=Ud(),p=this.zo(e,i.toUriEncodedString());ot(ud,`Sending RPC '${e}' ${d}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,c);const{host:y}=new URL(p),E=Mc(y);return this.Jo(e,p,g,s,E).then(b=>(ot(ud,`Received RPC '${e}' ${d}: `,b),b),b=>{throw Cs(ud,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",s),b})}Ho(e,i,s,o,c,d){return this.Go(e,i,s,o,c)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Us}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}zo(e,i){const s=p2[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class _2 extends g2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,c){const d=Ud();return new Promise((p,g)=>{const y=new $v;y.setWithCredentials(!0),y.listenOnce(Zv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case sc.NO_ERROR:const b=y.getResponseJson();ot(Ye,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case sc.TIMEOUT:ot(Ye,`RPC '${e}' ${d} timed out`),g(new ht(tt.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const S=y.getStatus();if(ot(Ye,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const z=M?.error;if(z&&z.status&&z.message){const G=function($){const et=$.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(et)>=0?et:tt.UNKNOWN}(z.status);g(new ht(G,z.message))}else g(new ht(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ht(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(Ye,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);ot(Ye,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",E,s,15)})}T_(e,i,s){const o=Ud(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=tE(),p=Wv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,i,s),g.encodeInitMessageHeaders=!0;const E=c.join("");ot(Ye,`Creating RPC '${e}' stream ${o}: ${E}`,g);const b=d.createWebChannel(E,g);this.I_(b);let S=!1,M=!1;const z=new y2({Yo:j=>{M?ot(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(ot(Ye,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),ot(Ye,`RPC '${e}' stream ${o} sending:`,j),b.send(j))},Zo:()=>b.close()}),G=(j,$,et)=>{j.listen($,nt=>{try{et(nt)}catch(mt){setTimeout(()=>{throw mt},0)}})};return G(b,Zl.EventType.OPEN,()=>{M||(ot(Ye,`RPC '${e}' stream ${o} transport opened.`),z.o_())}),G(b,Zl.EventType.CLOSE,()=>{M||(M=!0,ot(Ye,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))}),G(b,Zl.EventType.ERROR,j=>{M||(M=!0,Cs(Ye,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),z.a_(new ht(tt.UNAVAILABLE,"The operation could not be completed")))}),G(b,Zl.EventType.MESSAGE,j=>{if(!M){const $=j.data[0];jt(!!$,16349);const et=$,nt=et?.error||et[0]?.error;if(nt){ot(Ye,`RPC '${e}' stream ${o} received error:`,nt);const mt=nt.status;let ct=function(R){const C=_e[R];if(C!==void 0)return ME(C)}(mt),Rt=nt.message;ct===void 0&&(ct=tt.INTERNAL,Rt="Unknown error status: "+mt+" with message "+nt.message),M=!0,z.a_(new ht(ct,Rt)),b.close()}else ot(Ye,`RPC '${e}' stream ${o} received:`,$),z.u_($)}}),G(p,Jv.STAT_EVENT,j=>{j.stat===Sd.PROXY?ot(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Sd.NOPROXY&&ot(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.__()},0),z}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function cd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(r){return new AR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="PersistentStream";class XE{constructor(e,i,s,o,c,d,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new ht(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ot(H_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(ot(H_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class v2 extends XE{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=RR(this.serializer,e),s=function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?ni(d.readTime):At.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=xd(this.serializer),i.addTarget=function(c,d){let p;const g=d.target;if(p=Dd(g)?{documents:DR(c,g)}:{query:IR(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=LE(c,d.resumeToken);const y=Nd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){p.readTime=Sc(c,d.snapshotVersion.toTimestamp());const y=Nd(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const s=VR(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=xd(this.serializer),i.removeTarget=e,this.q_(i)}}class E2 extends XE{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=CR(e.writeResults,e.commitTime),s=ni(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=xd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>wR(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{}class A2 extends T2{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Go(e,Vd(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(tt.UNKNOWN,c.toString())})}Ho(e,i,s,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Ho(e,Vd(i,s),o,d,p,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(tt.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class S2{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class b2{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Da(this)&&(ot(Aa,"Restarting streams for network reachability change."),await async function(g){const y=St(g);y.Ea.add(4),await So(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Gc(y)}(this))})}),this.Ra=new S2(s,o)}}async function Gc(r){if(Da(r))for(const e of r.da)await e(!0)}async function So(r){for(const e of r.da)await e(!1)}function $E(r,e){const i=St(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),pm(i)?mm(i):ks(i).O_()&&dm(i,e))}function fm(r,e){const i=St(r),s=ks(i);i.Ia.delete(e),s.O_()&&ZE(i,e),i.Ia.size===0&&(s.O_()?s.L_():Da(i)&&i.Ra.set("Unknown"))}function dm(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ks(r).Y_(e)}function ZE(r,e){r.Va.Ue(e),ks(r).Z_(e)}function mm(r){r.Va=new _R({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),ks(r).start(),r.Ra.ua()}function pm(r){return Da(r)&&!ks(r).x_()&&r.Ia.size>0}function Da(r){return St(r).Ea.size===0}function JE(r){r.Va=void 0}async function R2(r){r.Ra.set("Online")}async function w2(r){r.Ia.forEach((e,i)=>{dm(r,e)})}async function C2(r,e){JE(r),pm(r)?(r.Ra.ha(e),mm(r)):r.Ra.set("Unknown")}async function D2(r,e,i){if(r.Ra.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))}(r,e)}catch(s){ot(Aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Rc(r,s)}else if(e instanceof cc?r.Va.Ze(e):e instanceof UE?r.Va.st(e):r.Va.tt(e),!i.isEqual(At.min()))try{const s=await YE(r.localStore);i.compareTo(s)>=0&&await function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=c.Ia.get(y);E&&c.Ia.set(y,E.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,y)=>{const E=c.Ia.get(g);if(!E)return;c.Ia.set(g,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),ZE(c,g);const b=new vr(E.target,g,y,E.sequenceNumber);dm(c,b)}),c.remoteSyncer.applyRemoteEvent(p)}(r,i)}catch(s){ot(Aa,"Failed to raise snapshot:",s),await Rc(r,s)}}async function Rc(r,e,i){if(!Ls(e))throw e;r.Ea.add(1),await So(r),r.Ra.set("Offline"),i||(i=()=>YE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ot(Aa,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Gc(r)})}function WE(r,e){return e().catch(i=>Rc(r,i,e))}async function Qc(r){const e=St(r),i=Nr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jd;for(;I2(e);)try{const o=await c2(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,N2(e,o)}catch(o){await Rc(e,o)}t0(e)&&e0(e)}function I2(r){return Da(r)&&r.Ta.length<10}function N2(r,e){r.Ta.push(e);const i=Nr(r);i.O_()&&i.X_&&i.ea(e.mutations)}function t0(r){return Da(r)&&!Nr(r).x_()&&r.Ta.length>0}function e0(r){Nr(r).start()}async function V2(r){Nr(r).ra()}async function O2(r){const e=Nr(r);for(const i of r.Ta)e.ea(i.mutations)}async function x2(r,e,i){const s=r.Ta.shift(),o=am.from(s,e,i);await WE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qc(r)}async function M2(r,e){e&&Nr(r).X_&&await async function(s,o){if(function(d){return pR(d)&&d!==tt.ABORTED}(o.code)){const c=s.Ta.shift();Nr(s).B_(),await WE(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Qc(s)}}(r,e),t0(r)&&e0(r)}async function F_(r,e){const i=St(r);i.asyncQueue.verifyOperationInProgress(),ot(Aa,"RemoteStore received new credentials");const s=Da(i);i.Ea.add(3),await So(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Gc(i)}async function U2(r,e){const i=St(r);e?(i.Ea.delete(2),await Gc(i)):e||(i.Ea.add(2),await So(i),i.Ra.set("Unknown"))}function ks(r){return r.ma||(r.ma=function(i,s,o){const c=St(i);return c.sa(),new v2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:R2.bind(null,r),t_:w2.bind(null,r),r_:C2.bind(null,r),H_:D2.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),pm(r)?mm(r):r.Ra.set("Unknown")):(await r.ma.stop(),JE(r))})),r.ma}function Nr(r){return r.fa||(r.fa=function(i,s,o){const c=St(i);return c.sa(),new E2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:V2.bind(null,r),r_:M2.bind(null,r),ta:O2.bind(null,r),na:x2.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await Qc(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Aa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,p=new gm(e,i,d,o,c);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(tt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ym(r,e){if(qi("AsyncQueue",`${e}: ${r}`),Ls(r))return new ht(tt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{static emptySet(e){return new Rs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Rs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(){this.ga=new ae(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Os{constructor(e,i,s,o,c,d,p,g,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(p=>{d.push({type:0,doc:p})}),new Os(e,i,Rs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class L2{constructor(){this.queries=Q_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=St(i),c=o.queries;o.queries=Q_(),c.forEach((d,p)=>{for(const g of p.Sa)g.onError(s)})})(this,new ht(tt.ABORTED,"Firestore shutting down"))}}function Q_(){return new wa(r=>TE(r),zc)}async function n0(r,e){const i=St(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.ba()&&e.Da()&&(s=2):(c=new P2,s=e.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=ym(d,`Initialization of query '${As(e.query)}' failed`);return void e.onError(p)}i.queries.set(o,c),c.Sa.push(e),e.va(i.onlineState),c.wa&&e.Fa(c.wa)&&_m(i)}async function i0(r,e){const i=St(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=e.Da()?0:1:!c.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function k2(r,e){const i=St(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(s=!0);d.wa=o}}s&&_m(i)}function z2(r,e,i){const s=St(r),o=s.queries.get(e);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(e)}function _m(r){r.Ca.forEach(e=>{e.next()})}var Pd,Y_;(Y_=Pd||(Pd={})).Ma="default",Y_.Cache="cache";class r0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Os(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){this.key=e}}class s0{constructor(e){this.key=e}}class B2{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=AE(e),this.tu=new Rs(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new G_,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const S=o.get(E),M=Bc(this.query,b)?b:null,z=!!S&&this.mutatedKeys.has(S.key),G=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let j=!1;S&&M?S.data.isEqual(M.data)?z!==G&&(s.track({type:3,doc:M}),j=!0):this.su(S,M)||(s.track({type:2,doc:M}),j=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(p=!0)):!S&&M?(s.track({type:0,doc:M}),j=!0):S&&!M&&(s.track({type:1,doc:S}),j=!0,(g||y)&&(p=!0)),j&&(M?(d=d.add(M),c=G?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{tu:d,iu:s,Cs:p,mutatedKeys:c}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((E,b)=>function(M,z){const G=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:j})}};return G(M)-G(z)}(E.type,b.type)||this.eu(E.doc,b.doc)),this.ou(s),o=o??!1;const p=i&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Os(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new G_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ot(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new s0(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new a0(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=Ot();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Os.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const vm="SyncEngine";class q2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class j2{constructor(e){this.key=e,this.hu=!1}}class H2{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new wa(p=>TE(p),zc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(gt.comparator),this.Au=new Map,this.Ru=new om,this.Vu={},this.mu=new Map,this.fu=Vs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F2(r,e,i=!0){const s=f0(r);let o;const c=s.Tu.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await l0(s,e,i,!0),o}async function G2(r,e){const i=f0(r);await l0(i,e,!0,!1)}async function l0(r,e,i,s){const o=await h2(r.localStore,ei(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return s&&(p=await Q2(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&$E(r.remoteStore,o),p}async function Q2(r,e,i,s,o){r.pu=(b,S,M)=>async function(G,j,$,et){let nt=j.view.ru($);nt.Cs&&(nt=await z_(G.localStore,j.query,!1).then(({documents:O})=>j.view.ru(O,nt)));const mt=et&&et.targetChanges.get(j.targetId),ct=et&&et.targetMismatches.get(j.targetId)!=null,Rt=j.view.applyChanges(nt,G.isPrimaryClient,mt,ct);return X_(G,j.targetId,Rt.au),Rt.snapshot}(r,b,S,M);const c=await z_(r.localStore,e,!0),d=new B2(e,c.Qs),p=d.ru(c.documents),g=Ao.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,g);X_(r,i,y.au);const E=new q2(e,i,d);return r.Tu.set(e,E),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function Y2(r,e,i){const s=St(r),o=s.Tu.get(e),c=s.Iu.get(o.targetId);if(c.length>1)return s.Iu.set(o.targetId,c.filter(d=>!zc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Md(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&fm(s.remoteStore,o.targetId),Ld(s,o.targetId)}).catch(Ps)):(Ld(s,o.targetId),await Md(s.localStore,o.targetId,!0))}async function K2(r,e){const i=St(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),fm(i.remoteStore,s.targetId))}async function X2(r,e,i){const s=nw(r);try{const o=await function(d,p){const g=St(d),y=te.now(),E=p.reduce((M,z)=>M.add(z.key),Ot());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",M=>{let z=ji(),G=Ot();return g.Ns.getEntries(M,E).next(j=>{z=j,z.forEach(($,et)=>{et.isValidDocument()||(G=G.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(M,z)).next(j=>{b=j;const $=[];for(const et of p){const nt=cR(et,b.get(et.key).overlayedDocument);nt!=null&&$.push(new Ca(et.key,nt,mE(nt.value.mapValue),ki.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,$,p)}).next(j=>{S=j;const $=j.applyToLocalDocumentSet(b,G);return g.documentOverlayCache.saveOverlays(M,j.batchId,$)})}).then(()=>({batchId:S.batchId,changes:bE(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ae(Vt)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y}(s,o.batchId,i),await bo(s,o.changes),await Qc(s.remoteStore)}catch(o){const c=ym(o,"Failed to persist write");i.reject(c)}}async function o0(r,e){const i=St(r);try{const s=await o2(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Au.get(c);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?jt(d.hu,14607):o.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))}),await bo(i,s,e)}catch(s){await Ps(s)}}function K_(r,e,i){const s=St(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((c,d)=>{const p=d.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const g=St(d);g.onlineState=p;let y=!1;g.queries.forEach((E,b)=>{for(const S of b.Sa)S.va(p)&&(y=!0)}),y&&_m(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $2(r,e,i){const s=St(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),c=o&&o.key;if(c){let d=new ae(gt.comparator);d=d.insert(c,Xe.newNoDocument(c,At.min()));const p=Ot().add(c),g=new Hc(At.min(),new Map,new ae(Vt),d,p);await o0(s,g),s.du=s.du.remove(c),s.Au.delete(e),Em(s)}else await Md(s.localStore,e,!1).then(()=>Ld(s,e,i)).catch(Ps)}async function Z2(r,e){const i=St(r),s=e.batch.batchId;try{const o=await l2(i.localStore,e);c0(i,s,null),u0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await bo(i,o)}catch(o){await Ps(o)}}async function J2(r,e,i){const s=St(r);try{const o=await function(d,p){const g=St(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,p).next(b=>(jt(b!==null,37113),E=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);c0(s,e,i),u0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await bo(s,o)}catch(o){await Ps(o)}}function u0(r,e){(r.mu.get(e)||[]).forEach(i=>{i.resolve()}),r.mu.delete(e)}function c0(r,e,i){const s=St(r);let o=s.Vu[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Ld(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||h0(r,s)})}function h0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(fm(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Em(r))}function X_(r,e,i){for(const s of i)s instanceof a0?(r.Ru.addReference(s.key,e),W2(r,s)):s instanceof s0?(ot(vm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||h0(r,s.key)):vt(19791,{wu:s})}function W2(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ot(vm,"New document in limbo: "+i),r.Eu.add(s),Em(r))}function Em(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(Wt.fromString(e)),s=r.fu.next();r.Au.set(s,new j2(i)),r.du=r.du.insert(i,s),$E(r.remoteStore,new vr(ei(im(i.path)),s,"TargetPurposeLimboResolution",Uc.ce))}}async function bo(r,e,i){const s=St(r),o=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((p,g)=>{d.push(s.pu(g,e,i).then(y=>{if((y||i)&&s.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=cm.As(g.targetId,y);c.push(E)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(g,y){const E=St(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>J.forEach(y,S=>J.forEach(S.Es,M=>E.persistence.referenceDelegate.addReference(b,S.targetId,M)).next(()=>J.forEach(S.ds,M=>E.persistence.referenceDelegate.removeReference(b,S.targetId,M)))))}catch(b){if(!Ls(b))throw b;ot(hm,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const M=E.Ms.get(S),z=M.snapshotVersion,G=M.withLastLimboFreeSnapshotVersion(z);E.Ms=E.Ms.insert(S,G)}}}(s.localStore,c))}async function tw(r,e){const i=St(r);if(!i.currentUser.isEqual(e)){ot(vm,"User change. New user:",e.toKey());const s=await QE(i.localStore,e);i.currentUser=e,function(c,d){c.mu.forEach(p=>{p.forEach(g=>{g.reject(new ht(tt.CANCELLED,d))})}),c.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bo(i,s.Ls)}}function ew(r,e){const i=St(r),s=i.Au.get(e);if(s&&s.hu)return Ot().add(s.key);{let o=Ot();const c=i.Iu.get(e);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function f0(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=o0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ew.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$2.bind(null,e),e.Pu.H_=k2.bind(null,e.eventManager),e.Pu.yu=z2.bind(null,e.eventManager),e}function nw(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J2.bind(null,e),e}class wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return s2(this.persistence,new i2,e.initialUser,this.serializer)}Cu(e){return new GE(um.mi,this.serializer)}Du(e){return new d2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wc.provider={build:()=>new wc};class iw extends wc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof bc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jR(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new GE(s=>bc.mi(s,i),this.serializer)}}class kd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tw.bind(null,this.syncEngine),await U2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L2}()}createDatastore(e){const i=Fc(e.databaseInfo.databaseId),s=function(c){return new _2(c)}(e.databaseInfo);return function(c,d,p,g){return new A2(c,d,p,g)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,p){return new b2(s,o,c,d,p)}(this.localStore,this.datastore,e.asyncQueue,i=>K_(this.syncEngine,i,0),function(){return j_.v()?new j_:new m2}())}createSyncEngine(e,i){return function(o,c,d,p,g,y,E){const b=new H2(o,c,d,p,g,y);return E&&(b.gu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await async function(i){const s=St(i);ot(Aa,"RemoteStore shutting down."),s.Ea.add(5),await So(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kd.provider={build:()=>new kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr="FirestoreClient";class rw{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=$d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{ot(Vr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(ot(Vr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=ym(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hd(r,e){r.asyncQueue.verifyOperationInProgress(),ot(Vr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await QE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await aw(r);ot(Vr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>F_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>F_(e.remoteStore,o)),r._onlineComponents=e}async function aw(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Vr,"Using user provided OfflineComponentProvider");try{await hd(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Cs("Error using user provided cache. Falling back to memory cache: "+i),await hd(r,new wc)}}else ot(Vr,"Using default OfflineComponentProvider"),await hd(r,new iw(void 0));return r._offlineComponents}async function m0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Vr,"Using user provided OnlineComponentProvider"),await $_(r,r._uninitializedComponentsProvider._online)):(ot(Vr,"Using default OnlineComponentProvider"),await $_(r,new kd))),r._onlineComponents}function sw(r){return m0(r).then(e=>e.syncEngine)}async function zd(r){const e=await m0(r),i=e.eventManager;return i.onListen=F2.bind(null,e.syncEngine),i.onUnlisten=Y2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=G2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=K2.bind(null,e.syncEngine),i}function lw(r,e,i={}){const s=new br;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,p,g,y){const E=new d0({next:S=>{E.Nu(),d.enqueueAndForget(()=>i0(c,b)),S.fromCache&&g.source==="server"?y.reject(new ht(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new r0(p,E,{includeMetadataChanges:!0,qa:!0});return n0(c,b)}(await zd(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="firestore.googleapis.com",J_=!0;class W_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ht(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g0,this.ssl=J_}else this.host=e.host,this.ssl=e.ssl??J_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BR)throw new ht(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ht(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ht(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new db;switch(s.type){case"firstParty":return new yb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ht(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Z_.get(i);s&&(ot("ComponentProvider","Removing Datastore"),Z_.delete(i),s.terminate())}(this),Promise.resolve()}}function ow(r,e,i,s={}){r=ya(r,Yc);const o=Mc(e),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${i}`;o&&(Uv(`https://${p}`),Lv("Firestore",!0)),c.host!==g0&&c.host!==p&&Cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:o,emulatorOptions:s};if(!mc(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Ke.MOCK_USER;else{y=Pv(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ht(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(b)}r._authCredentials=new mb(new nE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Me{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(Eo(i,Me._jsonSchema))return new Me(e,s||null,new gt(Wt.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:ve("string",Me._jsonSchemaVersion),referencePath:ve("string")};class Rr extends Ro{constructor(e,i,s){super(e,i,im(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new gt(e))}withConverter(e){return new Rr(this.firestore,e,this._path)}}function Cc(r,e,...i){if(r=Ea(r),iE("collection","path",e),r instanceof Yc){const s=Wt.fromString(e,...i);return d_(s),new Rr(r,null,s)}{if(!(r instanceof Me||r instanceof Rr))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return d_(s),new Rr(r.firestore,null,s)}}function uw(r,e,...i){if(r=Ea(r),arguments.length===1&&(e=$d.newId()),iE("doc","path",e),r instanceof Yc){const s=Wt.fromString(e,...i);return f_(s),new Me(r,null,new gt(s))}{if(!(r instanceof Me||r instanceof Rr))throw new ht(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return f_(s),new Me(r.firestore,r instanceof Rr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="AsyncQueue";class ev{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const s=cd();s&&ot(tv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=cd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=cd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new br;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ls(e))throw e;ot(tv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",nv(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=gm.createAndSchedule(this,e,i,s,c=>this.hc(c));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:nv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function nv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of s)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class go extends Yc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new ev,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ev(e),this._firestoreClient=void 0,await e}}}function cw(r,e){const i=typeof r=="object"?r:Qv(),s=typeof r=="string"?r:yc,o=jv(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=xv("firestore");c&&ow(o,...c)}return o}function Tm(r){if(r._terminated)throw new ht(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hw(r),r._firestoreClient}function hw(r){const e=r._freezeSettings(),i=function(o,c,d,p){return new Mb(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new rw(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(He.fromBase64String(e))}catch(i){throw new ht(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Dn(He.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eo(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:ve("string",Dn._jsonSchemaVersion),bytes:ve("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ht(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ht(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ht(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ii._jsonSchemaVersion}}static fromJSON(e){if(Eo(e,ii._jsonSchema))return new ii(e.latitude,e.longitude)}}ii._jsonSchemaVersion="firestore/geoPoint/1.0",ii._jsonSchema={type:ve("string",ii._jsonSchemaVersion),latitude:ve("number"),longitude:ve("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eo(e,ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new ri(e.vectorValues);throw new ht(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ri._jsonSchemaVersion="firestore/vectorValue/1.0",ri._jsonSchema={type:ve("string",ri._jsonSchemaVersion),vectorValues:ve("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=/^__.*__$/;class dw{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,i,this.fieldTransforms):new To(e,this.data,i,this.fieldTransforms)}}function _0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Sm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(_0(this.Ac)&&fw.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class mw{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Fc(e)}Cc(e,i,s,o=!1){return new Sm({Ac:e,methodName:i,Dc:s,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pw(r){const e=r._freezeSettings(),i=Fc(r._databaseId);return new mw(r._databaseId,!!e.ignoreUndefinedProperties,i)}function gw(r,e,i,s,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,e,i,o);A0("Data must be an object, but it was:",d,s);const p=E0(s,d);let g,y;if(c.merge)g=new Un(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const S=yw(e,b,i);if(!d.contains(S))throw new ht(tt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);vw(E,S)||E.push(S)}g=new Un(E),y=d.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=d.fieldTransforms;return new dw(new Cn(p),g,y)}function v0(r,e){if(T0(r=Ea(r)))return A0("Unsupported field value:",e,r),E0(r,e);if(r instanceof y0)return function(s,o){if(!_0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const p of s){let g=v0(p,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=Ea(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Sc(o.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sc(o.serializer,c)}}if(s instanceof ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Dn)return{bytesValue:LE(o.serializer,s._byteString)};if(s instanceof Me){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:lm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ri)return function(d,p){return{mapValue:{fields:{[fE]:{stringValue:dE},[_c]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return rm(p.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Zd(s)}`)}(r,e)}function E0(r,e){const i={};return sE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(r,(s,o)=>{const c=v0(o,e.mc(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function T0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof ii||r instanceof Dn||r instanceof Me||r instanceof y0||r instanceof ri)}function A0(r,e,i){if(!T0(i)||!rE(i)){const s=Zd(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function yw(r,e,i){if((e=Ea(e))instanceof Am)return e._internalPath;if(typeof e=="string")return S0(r,e);throw Dc("Field path arguments must be of type string or ",r,!1,void 0,i)}const _w=new RegExp("[~\\*/\\[\\]]");function S0(r,e,i){if(e.search(_w)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Am(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Dc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new ht(tt.INVALID_ARGUMENT,p+r+g)}function vw(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ew(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(R0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Ew extends b0{data(){return super.data()}}function R0(r,e){return typeof e=="string"?S0(r,e):e instanceof Am?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tw{convertValue(e,i="none"){switch(Ir(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ra(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){const i=e.fields?.[_c].arrayValue?.values?.map(s=>de(s.doubleValue));return new ri(i)}convertGeoPoint(e){return new ii(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Lc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(co(e));default:return null}}convertTimestamp(e){const i=Cr(e);return new te(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);jt(HE(s),9688,{name:e});const o=new ho(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||qi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class to{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends b0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(R0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=_a._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:ve("string",_a._jsonSchemaVersion),bundleSource:ve("string","DocumentSnapshot"),bundleName:ve("string"),bundle:ve("string")};class hc extends _a{data(e={}){return super.data(e)}}class va{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new to(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new hc(this._firestore,this._userDataWriter,s.key,s,new to(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const g=new hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new hc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new to(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),E=d.indexOf(p.doc.key)),{type:Sw(p.type),doc:g,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Sw(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:ve("string",va._jsonSchemaVersion),bundleSource:ve("string","QuerySnapshot"),bundleName:ve("string"),bundle:ve("string")};class bm extends Tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function bw(r){r=ya(r,Ro);const e=ya(r.firestore,go),i=Tm(e),s=new bm(e);return w0(r._query),lw(i,r._query).then(o=>new va(e,s,r,o))}function C0(r,e){const i=ya(r.firestore,go),s=uw(r),o=Aw(r.converter,e);return ww(i,[gw(pw(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ki.exists(!1))]).then(()=>s)}function Rw(r,...e){r=Ea(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||iv(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(iv(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let c,d,p;if(r instanceof Me)d=ya(r.firestore,go),p=im(r._key.path),c={next:g=>{e[s]&&e[s](Cw(d,r,g))},error:e[s+1],complete:e[s+2]};else{const g=ya(r,Ro);d=ya(g.firestore,go),p=g._query;const y=new bm(d);c={next:E=>{e[s]&&e[s](new va(d,y,g,E))},error:e[s+1],complete:e[s+2]},w0(r._query)}return function(y,E,b,S){const M=new d0(S),z=new r0(E,M,b);return y.asyncQueue.enqueueAndForget(async()=>n0(await zd(y),z)),()=>{M.Nu(),y.asyncQueue.enqueueAndForget(async()=>i0(await zd(y),z))}}(Tm(d),p,o,c)}function ww(r,e){return function(s,o){const c=new br;return s.asyncQueue.enqueueAndForget(async()=>X2(await sw(s),o,c)),c.promise}(Tm(r),e)}function Cw(r,e,i){const s=i.docs.get(e._key),o=new bm(r);return new _a(r,o,e._key,s,new to(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Us=o})(Fv),lo(new ws("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),p=new go(new pb(s.getProvider("auth-internal")),new _b(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ht(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ho(y.options.projectId,E)}(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),Ar(o_,u_,e),Ar(o_,u_,"esm2020")})();var Dw="firebase",Iw="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(Dw,Iw,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="firebasestorage.googleapis.com",Nw="storageBucket",Vw=120*1e3,Ow=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ba{constructor(e,i,s=0){super(fd(e),`Firebase Storage: ${i} (${fd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var oi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(oi||(oi={}));function fd(r){return"storage/"+r}function xw(){const r="An unknown error occurred, please check the error payload for server response.";return new ci(oi.UNKNOWN,r)}function Mw(){return new ci(oi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Uw(){return new ci(oi.CANCELED,"User canceled the upload/download.")}function Pw(r){return new ci(oi.INVALID_URL,"Invalid URL '"+r+"'.")}function Lw(r){return new ci(oi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function rv(r){return new ci(oi.INVALID_ARGUMENT,r)}function I0(){return new ci(oi.APP_DELETED,"The Firebase app was deleted.")}function kw(r){return new ci(oi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let s;try{s=Pn.makeFromUrl(e,i)}catch{return new Pn(e,"")}if(s.path==="")return s;throw Lw(e)}static makeFromUrl(e,i){let s=null;const o="([A-Za-z0-9.\\-_]+)";function c(mt){mt.path.charAt(mt.path.length-1)==="/"&&(mt.path_=mt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(mt){mt.path_=decodeURIComponent(mt.path)}const E="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",M=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),z={bucket:1,path:3},G=i===D0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,j="([^?#]*)",$=new RegExp(`^https?://${G}/${o}/${j}`,"i"),nt=[{regex:p,indices:g,postModify:c},{regex:M,indices:z,postModify:y},{regex:$,indices:{bucket:1,path:2},postModify:y}];for(let mt=0;mt<nt.length;mt++){const ct=nt[mt],Rt=ct.regex.exec(e);if(Rt){const O=Rt[ct.indices.bucket];let R=Rt[ct.indices.path];R||(R=""),s=new Pn(O,R),ct.postModify(s);break}}if(s==null)throw Pw(e);return s}}class zw{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r,e,i){let s=1,o=null,c=null,d=!1,p=0;function g(){return p===2}let y=!1;function E(...j){y||(y=!0,e.apply(null,j))}function b(j){o=setTimeout(()=>{o=null,r(M,g())},j)}function S(){c&&clearTimeout(c)}function M(j,...$){if(y){S();return}if(j){S(),E.call(null,j,...$);return}if(g()||d){S(),E.call(null,j,...$);return}s<64&&(s*=2);let nt;p===1?(p=2,nt=0):nt=(s+Math.random())*1e3,b(nt)}let z=!1;function G(j){z||(z=!0,S(),!y&&(o!==null?(j||(p=2),clearTimeout(o),b(0)):j||(p=1)))}return b(0),c=setTimeout(()=>{d=!0,G(!0)},i),G}function qw(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){return r!==void 0}function av(r,e,i,s){if(s<e)throw rv(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>i)throw rv(`Invalid value for '${r}'. Expected ${i} or less.`)}function Hw(r){const e=encodeURIComponent;let i="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);i=i+o+"&"}return i=i.slice(0,-1),i}var Ic;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Ic||(Ic={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(r,e){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return i||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,i,s,o,c,d,p,g,y,E,b,S=!0,M=!1){this.url_=e,this.method_=i,this.headers_=s,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,G)=>{this.resolve_=z,this.reject_=G,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new nc(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const p=c.getErrorCode()===Ic.NO_ERROR,g=c.getStatus();if(!p||Fw(g,this.additionalRetryCodes_)&&this.retry){const E=c.getErrorCode()===Ic.ABORT;s(!1,new nc(!1,null,E));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new nc(y,c))})},i=(s,o)=>{const c=this.resolve_,d=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());jw(g)?c(g):c()}catch(g){d(g)}else if(p!==null){const g=xw();g.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,g)):d(g)}else if(o.canceled){const g=this.appDelete_?I0():Uw();d(g)}else{const g=Mw();d(g)}};this.canceled_?i(!1,new nc(!1,null,!0)):this.backoffId_=Bw(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qw(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nc{constructor(e,i,s){this.wasSuccessCode=e,this.connection=i,this.canceled=!!s}}function Qw(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function Yw(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kw(r,e){e&&(r["X-Firebase-GMPID"]=e)}function Xw(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function $w(r,e,i,s,o,c,d=!0,p=!1){const g=Hw(r.urlParams),y=r.url+g,E=Object.assign({},r.headers);return Kw(E,e),Qw(E,i),Yw(E,c),Xw(E,s),new Gw(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function Jw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,i){this._service=e,i instanceof Pn?this._location=i:this._location=Pn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new Nc(e,i)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Jw(this._location.path)}get storage(){return this._service}get parent(){const e=Zw(this._location.path);if(e===null)return null;const i=new Pn(this._location.bucket,e);return new Nc(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw kw(e)}}function sv(r,e){const i=e?.[Nw];return i==null?null:Pn.makeFromBucketSpec(i,r)}function Ww(r,e,i,s={}){r.host=`${e}:${i}`;const o=Mc(e);o&&(Uv(`https://${r.host}/b`),Lv("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=s;c&&(r._overrideAuthToken=typeof c=="string"?c:Pv(c,r.app.options.projectId))}class tC{constructor(e,i,s,o,c,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=s,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=d,this._bucket=null,this._host=D0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Vw,this._maxUploadRetryTime=Ow,this._requests=new Set,o!=null?this._bucket=Pn.makeFromBucketSpec(o,this._host):this._bucket=sv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=sv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){av("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){av("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(Hv(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nc(this,e)}_makeRequest(e,i,s,o,c=!0){if(this._deleted)return new zw(I0());{const d=$w(e,this._appId,s,o,i,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,s,o).getPromise()}}const lv="@firebase/storage",ov="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="storage";function eC(r=Qv(),e){r=Ea(r);const s=jv(r,N0).getImmediate({identifier:e}),o=xv("storage");return o&&nC(s,...o),s}function nC(r,e,i,s={}){Ww(r,e,i,s)}function iC(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new tC(i,s,o,e,Fv)}function rC(){lo(new ws(N0,iC,"PUBLIC").setMultipleInstances(!0)),Ar(lv,ov,""),Ar(lv,ov,"esm2020")}rC();const aC={apiKey:"AIzaSyA_2MX1zGPAcmH7gkEyeg3uuIBm4nXa-lg",authDomain:"lab-reports-f8033.firebaseapp.com",projectId:"lab-reports-f8033",storageBucket:"lab-reports-f8033.appspot.com",messagingSenderId:"883860381287",appId:"1:883860381287:web:e7fb8a5963d8d29a74bec2",measurementId:"G-EQFYZ22R8N"},V0=Gv(aC),Vc=cw(V0);eC(V0);var dd={exports:{}},md,uv;function sC(){if(uv)return md;uv=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return md=r,md}var pd,cv;function lC(){if(cv)return pd;cv=1;var r=sC();function e(){}function i(){}return i.resetWarningCache=e,pd=function(){function s(d,p,g,y,E,b){if(b!==r){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}s.isRequired=s;function o(){return s}var c={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:i,resetWarningCache:e};return c.PropTypes=c,c},pd}var hv;function oC(){return hv||(hv=1,dd.exports=lC()()),dd.exports}var uC=oC();const $l=r1(uC),O0=({cart:r=[],increaseQty:e,decreaseQty:i,removeItem:s,clearCart:o,showWhiteBackground:c})=>{const[d,p]=Q.useState({name:"",email:"",phone:"",address:""}),[g,y]=Q.useState(!1),[E,b]=Q.useState(""),[S,M]=Q.useState(""),z=r.reduce((et,nt)=>et+nt.price*nt.qty,0),G=et=>{p(nt=>({...nt,[et.target.name]:et.target.value}))},j=et=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(et),$=async et=>{if(et.preventDefault(),!d.name.trim()||!d.email.trim()||!d.phone.trim()||!d.address.trim()){M("Please fill in all fields.");return}if(!j(d.email)){M("Please enter a valid email address.");return}if(r.length===0){M("Your cart is empty.");return}try{y(!0);const nt=await C0(Cc(Vc,"orders"),{client:d,items:r,total:z,timestamp:new Date().toISOString()});b("Order placed! "),o(),p({name:"",email:"",phone:"",address:""})}catch(nt){console.error("Error placing order:",nt),b("Failed to place order. Try again.")}finally{y(!1)}};return Q.useEffect(()=>{if(E){const et=setTimeout(()=>b(""),3e3);return()=>clearTimeout(et)}},[E]),Q.useEffect(()=>{if(S){const et=setTimeout(()=>M(""),1e3);return()=>clearTimeout(et)}},[S]),rt.jsxs("section",{className:"purchase-container",style:{display:c?"block":"none"},children:[rt.jsx("h2",{className:"purchase-title",children:" Your Cart & Checkout"}),E&&rt.jsx("p",{className:"message","aria-live":"polite",children:E}),S&&rt.jsx("p",{className:"error-message","aria-live":"polite",children:S}),r.length===0?rt.jsx("p",{className:"empty-cart",children:"Your cart is empty."}):rt.jsxs(rt.Fragment,{children:[rt.jsx("div",{className:"cart-items",children:r.map(et=>rt.jsxs("div",{className:"cart-item",children:[rt.jsx("img",{src:et.image,alt:et.name,className:"cart-item-img"}),rt.jsx("span",{className:"cart-item-name",children:et.name}),rt.jsxs("span",{className:"cart-item-price",children:["$",et.price.toFixed(2)]}),rt.jsxs("div",{className:"cart-item-qty",children:[rt.jsx("button",{type:"button",onClick:()=>i(et.id),className:"qty-btn",disabled:g,children:""}),rt.jsx("span",{className:"qty",children:et.qty}),rt.jsx("button",{type:"button",onClick:()=>e(et.id),className:"qty-btn",disabled:g,children:"+"})]}),rt.jsx("button",{type:"button",onClick:()=>s(et.id),className:"remove-btn",disabled:g,children:"Remove"})]},et.id))}),rt.jsxs("div",{className:"cart-total",children:["Total: ",rt.jsxs("strong",{children:["$",z.toFixed(2)]})]}),rt.jsx("hr",{className:"divider"}),rt.jsx("h1",{className:"purchase",style:{textAlign:"center",color:"white ",backgroundColor:"#b32806"},children:"Purchase"}),rt.jsxs("form",{onSubmit:$,className:"checkout-form",children:[rt.jsx("h3",{children:"Enter Your Details"}),rt.jsx("input",{name:"name",placeholder:"Full Name",value:d.name,onChange:G,className:"form-input",disabled:g}),rt.jsx("input",{name:"email",type:"email",placeholder:"Email",value:d.email,onChange:G,className:"form-input",disabled:g}),rt.jsx("input",{name:"phone",placeholder:"Phone Number",value:d.phone,onChange:G,className:"form-input",disabled:g}),rt.jsx("textarea",{name:"address",placeholder:"Shipping Address",value:d.address,onChange:G,className:"form-textarea",disabled:g}),rt.jsx("button",{type:"submit",disabled:g,className:"submit-btn",children:g?"Placing Order...":"Place Order"})]})]})]})};O0.propTypes={cart:$l.array.isRequired,increaseQty:$l.func.isRequired,decreaseQty:$l.func.isRequired,removeItem:$l.func.isRequired,clearCart:$l.func.isRequired};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,s)=>s?s.toUpperCase():i.toLowerCase()),fv=r=>{const e=hC(r);return e.charAt(0).toUpperCase()+e.slice(1)},x0=(...r)=>r.filter((e,i,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===i).join(" ").trim(),fC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=Q.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:c,iconNode:d,...p},g)=>Q.createElement("svg",{ref:g,...dC,width:e,height:e,stroke:r,strokeWidth:s?Number(i)*24/Number(e):i,className:x0("lucide",o),...!c&&!fC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,E])=>Q.createElement(y,E)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=(r,e)=>{const i=Q.forwardRef(({className:s,...o},c)=>Q.createElement(mC,{ref:c,iconNode:e,className:x0(`lucide-${cC(fv(r))}`,`lucide-${r}`,s),...o}));return i.displayName=fv(r),i};/**
 * @license lucide-react v0.537.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dv=pC("shopping-cart",gC),mv=()=>{const[r,e]=Q.useState([]),[i,s]=Q.useState([]),[o,c]=Q.useState(!1);(async()=>{try{const M=(await bw(Cc(Vc,"products"))).docs.map(z=>({id:z.id,...z.data()}));e(M)}catch(S){console.error("Error fetching products:",S)}})();const p=S=>{const M=r.find(z=>z.id===S);M&&s(z=>z.find(j=>j.id===S)?z.map(j=>j.id===S?{...j,qty:j.qty+1}:j):[...z,{...M,qty:1}])},g=S=>{s(i.map(M=>M.id===S?{...M,qty:M.qty+1}:M))},y=S=>{s(i.map(M=>M.id===S?{...M,qty:M.qty>1?M.qty-1:1}:M))},E=S=>{s(i.filter(M=>M.id!==S))},b=()=>{s([])};return Q.useEffect(()=>{const S=Rw(Cc(Vc,"products"),M=>{console.log("Snapshot received:",M.docs.length);const z=M.docs.map(G=>({id:G.id,...G.data()}));e(z)},M=>{console.error("onSnapshot error:",M)});return()=>S()},[]),rt.jsxs("div",{className:"cards-container",style:{padding:"20px"},children:[rt.jsx("h1",{className:"head-text",children:"Shop Page"}),rt.jsxs("div",{className:"product-list",children:[r.map(S=>rt.jsxs("div",{className:"product-card",children:[rt.jsx("img",{src:S.image,alt:S.name}),rt.jsx("h3",{children:S.name}),rt.jsx("p",{children:S.det}),rt.jsxs("h2",{children:["$",S.price]}),rt.jsx("button",{onClick:()=>p(S.id),children:rt.jsx(dv,{size:25,className:"Cart-icon-product",style:{cursor:"pointer"}})})]},S.id)),rt.jsxs("div",{className:"cart",children:[rt.jsx(dv,{size:28,color:"#333",className:"Cart-icon",style:{cursor:"pointer"},onClick:()=>c(S=>!S)}),rt.jsx("span",{className:"Cart-icon span",children:i.reduce((S,M)=>S+M.qty,0)})]})]}),rt.jsx(O0,{showWhiteBackground:o,cart:i,increaseQty:g,decreaseQty:y,removeItem:E,clearCart:b})]})},yC=({cart:r=[],increaseQty:e,decreaseQty:i,removeItem:s,clearCart:o})=>{const[c,d]=Q.useState({name:"",email:"",phone:"",address:""}),[p,g]=Q.useState(!1),[y,E]=Q.useState(""),b=r.reduce((z,G)=>z+G.price*G.qty,0),S=z=>{d(G=>({...G,[z.target.name]:z.target.value}))},M=async z=>{if(z.preventDefault(),!c.name||!c.email||!c.phone||!c.address){E("Please fill in all fields.");return}if(r.length===0){E("Your cart is empty.");return}try{g(!0);const G=await C0(Cc(Vc,"orders"),{client:c,items:r,total:b,timestamp:new Date});E(`Order placed! ID: ${G.id}`),o(),d({name:"",email:"",phone:"",address:""})}catch(G){console.error("Error placing order:",G),E("Failed to place order. Try again.")}finally{g(!1)}};return rt.jsxs("section",{style:{padding:"20px"},children:[rt.jsx("h2",{children:"rrrrrrrrrrrrrrrrrrrrrrrrrrrr"}),y&&rt.jsx("p",{children:y}),r.length===0?rt.jsx("p",{children:"Your cart is empty."}):rt.jsxs(rt.Fragment,{children:[rt.jsx("div",{className:"cart-items",children:r.map(z=>rt.jsxs("div",{className:"cart-item",style:{marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},children:[rt.jsx("img",{src:z.image,alt:z.name,style:{width:"50px",height:"50px",objectFit:"cover"}}),rt.jsx("span",{children:z.name}),rt.jsxs("span",{children:["$",z.price.toFixed(2)]}),rt.jsxs("div",{className:"quantity-controls",children:[rt.jsx("button",{className:"encrease",onClick:()=>i(z.id),children:""}),rt.jsx("span",{style:{margin:"0 10px"},children:z.qty}),rt.jsx("button",{className:"decrease",onClick:()=>e(z.id),children:"+"})]}),rt.jsx("button",{onClick:()=>s(z.id),children:"Remove"})]},z.id))}),rt.jsx("div",{style:{marginTop:"20px"},children:rt.jsxs("p",{children:[rt.jsx("strong",{children:"Total:"})," $",b.toFixed(2)]})}),rt.jsx("hr",{style:{margin:"20px 0"}}),rt.jsxs("form",{onSubmit:M,style:{maxWidth:"400px"},children:[rt.jsx("h3",{children:"Enter Your Details"}),rt.jsx("input",{name:"name",placeholder:"Full Name",value:c.name,onChange:S,style:{display:"block",marginBottom:10,width:"100%"}}),rt.jsx("input",{name:"email",type:"email",placeholder:"Email",value:c.email,onChange:S,style:{display:"block",marginBottom:10,width:"100%"}}),rt.jsx("input",{name:"phone",placeholder:"Phone Number",value:c.phone,onChange:S,style:{display:"block",marginBottom:10,width:"100%"}}),rt.jsx("textarea",{name:"address",placeholder:"Shipping Address",value:c.address,onChange:S,style:{display:"block",marginBottom:10,width:"100%",height:80}}),rt.jsx("button",{type:"submit",disabled:p,style:{padding:"10px 20px",backgroundColor:"#b32806",color:"#fff",border:"none",borderRadius:4,cursor:"pointer"},children:p?"Placing Order...":"Place Order"})]})]})]})};function _C(){const[r,e]=Q.useState([]),i=()=>e([]);return rt.jsxs(DA,{children:[rt.jsx("header",{children:rt.jsx("nav",{children:rt.jsxs("div",{className:"nav",children:[rt.jsx("h1",{className:"logo",children:"Small Shop"}),rt.jsxs("div",{className:"links",children:[rt.jsx(Qd,{className:"link",to:"/shop",children:"Shop"}),rt.jsx("br",{})]})]})})}),rt.jsxs(aA,{children:[rt.jsx(ic,{path:"/",element:rt.jsx(mv,{cart:r,setCart:e,clearCart:i})}),rt.jsx(ic,{path:"/shop",element:rt.jsx(mv,{cart:r,setCart:e,clearCart:i})}),rt.jsx(ic,{path:"/cart",element:rt.jsx(yC,{cart:r,clearCart:i})})]})]})}m1.createRoot(document.getElementById("root")).render(rt.jsx(Q.StrictMode,{children:rt.jsx(_C,{})}));
